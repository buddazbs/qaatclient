import{r as Jt,a as Qt,g as Ht}from"./vendor-CRB3T2We.js";import{r as v,R as es,T as K,C as I,F as C,I as q,b as W,c as fe,B,s as A,A as ve,d as Z,e as $,S as le,f as U,g as St,h as Et,i as Tt,j as L,k as pe,l as me,P as ts,m as ss,n as Rt,o as Mt,p as _t,q as rs,t as is,u as At,v as ns,w as Ct,U as as,x as ls,y as $e,L as te,z as cs,D as hs,M as os,E as ds,G as us,H as fs,J as gs,K as ps,N as ms,O as xs,Q as ys,V as vs,W as bs,X as js,Y as Ne,Z as ws}from"./antd-DSue3cVJ.js";import{c as Ie,a as Ss,u as Es,b as Ts,P as Rs}from"./redux-CvxTAPdr.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function s(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(i){if(i.ep)return;i.ep=!0;const n=s(i);fetch(i.href,n)}})();var je={exports:{}},Q={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Be;function Ms(){if(Be)return Q;Be=1;var t=Jt(),e=Symbol.for("react.element"),s=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n={key:!0,ref:!0,__self:!0,__source:!0};function a(l,c,o){var d,u={},f=null,p=null;o!==void 0&&(f=""+o),c.key!==void 0&&(f=""+c.key),c.ref!==void 0&&(p=c.ref);for(d in c)r.call(c,d)&&!n.hasOwnProperty(d)&&(u[d]=c[d]);if(l&&l.defaultProps)for(d in c=l.defaultProps,c)u[d]===void 0&&(u[d]=c[d]);return{$$typeof:e,type:l,key:f,ref:p,props:u,_owner:i.current}}return Q.Fragment=s,Q.jsx=a,Q.jsxs=a,Q}var De;function _s(){return De||(De=1,je.exports=Ms()),je.exports}var h=_s(),ce={},qe;function As(){if(qe)return ce;qe=1;var t=Qt();return ce.createRoot=t.createRoot,ce.hydrateRoot=t.hydrateRoot,ce}var Cs=As();const Is=Ht(Cs),Fs=()=>{try{const t=sessionStorage.getItem("auth");if(t){const{user:e,token:s}=JSON.parse(t);return{user:e,token:s,isAuthenticated:!0,loading:!1,error:null}}}catch{}return{user:null,token:null,isAuthenticated:!1,loading:!1,error:null}},zs=Fs(),It=Ie({name:"@@app/auth",initialState:zs,reducers:{loginStart:t=>{t.loading=!0,t.error=null},loginSuccess:(t,e)=>{t.loading=!1,t.isAuthenticated=!0,t.user=e.payload.user,t.token=e.payload.token,sessionStorage.setItem("auth",JSON.stringify({user:e.payload.user,token:e.payload.token}))},loginFailure:(t,e)=>{t.loading=!1,t.error=e.payload},logout:t=>{t.user=null,t.token=null,t.isAuthenticated=!1,sessionStorage.removeItem("auth")},updateProfile:(t,e)=>{t.user=e.payload;const s=sessionStorage.getItem("auth");if(s){const r=JSON.parse(s);r.user=e.payload,sessionStorage.setItem("auth",JSON.stringify(r))}}}}),{loginStart:Ps,loginSuccess:ks,loginFailure:Ue,logout:Os}=It.actions,Ls=It.reducer,$s={isDarkMode:localStorage.getItem("theme")==="dark"},Ft=Ie({name:"@@app/theme",initialState:$s,reducers:{toggleTheme:t=>{t.isDarkMode=!t.isDarkMode,localStorage.setItem("theme",t.isDarkMode?"dark":"light")},setTheme:(t,e)=>{t.isDarkMode=e.payload,localStorage.setItem("theme",e.payload?"dark":"light")}}}),{toggleTheme:Ns}=Ft.actions,Bs=Ft.reducer,Ds={markets:[],testRuns:[],testResults:[],loading:!1,error:null},zt=Ie({name:"@@app/autotests",initialState:Ds,reducers:{setMarkets:(t,e)=>{t.markets=e.payload},setTestRuns:(t,e)=>{t.testRuns=e.payload},setTestResults:(t,e)=>{t.testResults=e.payload},addTestRun:(t,e)=>{t.testRuns.unshift(e.payload)},updateTestRun:(t,e)=>{const s=t.testRuns.findIndex(r=>r.id===e.payload.id);s!==-1&&(t.testRuns[s]=e.payload)},addTestResult:(t,e)=>{t.testResults.unshift(e.payload)},updateTestResult:(t,e)=>{const s=t.testResults.findIndex(r=>r.id===e.payload.id);s!==-1&&(t.testResults[s]=e.payload)},setLoading:(t,e)=>{t.loading=e.payload},setError:(t,e)=>{t.error=e.payload}}}),{setMarkets:qs,setTestRuns:We,setTestResults:Ve,addTestRun:Us,updateTestRun:Ws,updateTestResult:Ge}=zt.actions,Vs=zt.reducer,Gs=Ss({reducer:{auth:Ls,theme:Bs,autotests:Vs}});/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function se(){return se=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},se.apply(this,arguments)}var G;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(G||(G={}));const Xe="popstate";function Xs(t){t===void 0&&(t={});function e(r,i){let{pathname:n,search:a,hash:l}=r.location;return _e("",{pathname:n,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(r,i){return typeof i=="string"?i:Pt(i)}return Zs(e,s,null,t)}function O(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Fe(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ys(){return Math.random().toString(36).substr(2,8)}function Ye(t,e){return{usr:t.state,key:t.key,idx:e}}function _e(t,e,s,r){return s===void 0&&(s=null),se({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?re(e):e,{state:s,key:e&&e.key||r||Ys()})}function Pt(t){let{pathname:e="/",search:s="",hash:r=""}=t;return s&&s!=="?"&&(e+=s.charAt(0)==="?"?s:"?"+s),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function re(t){let e={};if(t){let s=t.indexOf("#");s>=0&&(e.hash=t.substr(s),t=t.substr(0,s));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Zs(t,e,s,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:n=!1}=r,a=i.history,l=G.Pop,c=null,o=d();o==null&&(o=0,a.replaceState(se({},a.state,{idx:o}),""));function d(){return(a.state||{idx:null}).idx}function u(){l=G.Pop;let x=d(),y=x==null?null:x-o;o=x,c&&c({action:l,location:m.location,delta:y})}function f(x,y){l=G.Push;let w=_e(m.location,x,y);o=d()+1;let b=Ye(w,o),j=m.createHref(w);try{a.pushState(b,"",j)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(j)}n&&c&&c({action:l,location:m.location,delta:1})}function p(x,y){l=G.Replace;let w=_e(m.location,x,y);o=d();let b=Ye(w,o),j=m.createHref(w);a.replaceState(b,"",j),n&&c&&c({action:l,location:m.location,delta:0})}function g(x){let y=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof x=="string"?x:Pt(x);return w=w.replace(/ $/,"%20"),O(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let m={get action(){return l},get location(){return t(i,a)},listen(x){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Xe,u),c=x,()=>{i.removeEventListener(Xe,u),c=null}},createHref(x){return e(i,x)},createURL:g,encodeLocation(x){let y=g(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(x){return a.go(x)}};return m}var Ze;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ze||(Ze={}));function Ks(t,e,s){return s===void 0&&(s="/"),Js(t,e,s)}function Js(t,e,s,r){let i=typeof e=="string"?re(e):e,n=Lt(i.pathname||"/",s);if(n==null)return null;let a=kt(t);Qs(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let o=or(n);l=lr(a[c],o)}return l}function kt(t,e,s,r){e===void 0&&(e=[]),s===void 0&&(s=[]),r===void 0&&(r="");let i=(n,a,l)=>{let c={relativePath:l===void 0?n.path||"":l,caseSensitive:n.caseSensitive===!0,childrenIndex:a,route:n};c.relativePath.startsWith("/")&&(O(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let o=X([r,c.relativePath]),d=s.concat(c);n.children&&n.children.length>0&&(O(n.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+o+'".')),kt(n.children,e,d,o)),!(n.path==null&&!n.index)&&e.push({path:o,score:nr(o,n.index),routesMeta:d})};return t.forEach((n,a)=>{var l;if(n.path===""||!((l=n.path)!=null&&l.includes("?")))i(n,a);else for(let c of Ot(n.path))i(n,a,c)}),e}function Ot(t){let e=t.split("/");if(e.length===0)return[];let[s,...r]=e,i=s.endsWith("?"),n=s.replace(/\?$/,"");if(r.length===0)return i?[n,""]:[n];let a=Ot(r.join("/")),l=[];return l.push(...a.map(c=>c===""?n:[n,c].join("/"))),i&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Qs(t){t.sort((e,s)=>e.score!==s.score?s.score-e.score:ar(e.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}const Hs=/^:[\w-]+$/,er=3,tr=2,sr=1,rr=10,ir=-2,Ke=t=>t==="*";function nr(t,e){let s=t.split("/"),r=s.length;return s.some(Ke)&&(r+=ir),e&&(r+=tr),s.filter(i=>!Ke(i)).reduce((i,n)=>i+(Hs.test(n)?er:n===""?sr:rr),r)}function ar(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function lr(t,e,s){let{routesMeta:r}=t,i={},n="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],o=l===r.length-1,d=n==="/"?e:e.slice(n.length)||"/",u=cr({path:c.relativePath,caseSensitive:c.caseSensitive,end:o},d),f=c.route;if(!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:X([n,u.pathname]),pathnameBase:pr(X([n,u.pathnameBase])),route:f}),u.pathnameBase!=="/"&&(n=X([n,u.pathnameBase]))}return a}function cr(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,r]=hr(t.path,t.caseSensitive,t.end),i=e.match(s);if(!i)return null;let n=i[0],a=n.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((o,d,u)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let m=l[u]||"";a=n.slice(0,n.length-m.length).replace(/(.)\/+$/,"$1")}const g=l[u];return p&&!g?o[f]=void 0:o[f]=(g||"").replace(/%2F/g,"/"),o},{}),pathname:n,pathnameBase:a,pattern:t}}function hr(t,e,s){e===void 0&&(e=!1),s===void 0&&(s=!0),Fe(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function or(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fe(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Lt(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,r=t.charAt(s);return r&&r!=="/"?null:t.slice(s)||"/"}const dr=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ur=t=>dr.test(t);function fr(t,e){e===void 0&&(e="/");let{pathname:s,search:r="",hash:i=""}=typeof t=="string"?re(t):t,n;if(s)if(ur(s))n=s;else{if(s.includes("//")){let a=s;s=s.replace(/\/\/+/g,"/"),Fe(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+s))}s.startsWith("/")?n=Je(s.substring(1),"/"):n=Je(s,e)}else n=e;return{pathname:n,search:mr(r),hash:xr(i)}}function Je(t,e){let s=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function we(t,e,s,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gr(t){return t.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function $t(t,e){let s=gr(t);return e?s.map((r,i)=>i===s.length-1?r.pathname:r.pathnameBase):s.map(r=>r.pathnameBase)}function Nt(t,e,s,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=re(t):(i=se({},t),O(!i.pathname||!i.pathname.includes("?"),we("?","pathname","search",i)),O(!i.pathname||!i.pathname.includes("#"),we("#","pathname","hash",i)),O(!i.search||!i.search.includes("#"),we("#","search","hash",i)));let n=t===""||i.pathname==="",a=n?"/":i.pathname,l;if(a==null)l=s;else{let u=e.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),u-=1;i.pathname=f.join("/")}l=u>=0?e[u]:"/"}let c=fr(i,l),o=a&&a!=="/"&&a.endsWith("/"),d=(n||a===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(o||d)&&(c.pathname+="/"),c}const X=t=>t.join("/").replace(/\/\/+/g,"/"),pr=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),mr=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,xr=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function yr(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Bt=["post","put","patch","delete"];new Set(Bt);const vr=["get",...Bt];new Set(vr);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xe(){return xe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},xe.apply(this,arguments)}const ze=v.createContext(null),br=v.createContext(null),ie=v.createContext(null),Pe=v.createContext(null),Y=v.createContext({outlet:null,matches:[],isDataRoute:!1}),Dt=v.createContext(null);function ne(){return v.useContext(Pe)!=null}function be(){return ne()||O(!1),v.useContext(Pe).location}function qt(t){v.useContext(ie).static||v.useLayoutEffect(t)}function ae(){let{isDataRoute:t}=v.useContext(Y);return t?zr():jr()}function jr(){ne()||O(!1);let t=v.useContext(ze),{basename:e,future:s,navigator:r}=v.useContext(ie),{matches:i}=v.useContext(Y),{pathname:n}=be(),a=JSON.stringify($t(i,s.v7_relativeSplatPath)),l=v.useRef(!1);return qt(()=>{l.current=!0}),v.useCallback(function(o,d){if(d===void 0&&(d={}),!l.current)return;if(typeof o=="number"){r.go(o);return}let u=Nt(o,JSON.parse(a),n,d.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:X([e,u.pathname])),(d.replace?r.replace:r.push)(u,d.state,d)},[e,r,a,n,t])}function wr(t,e){return Sr(t)}function Sr(t,e,s,r){ne()||O(!1);let{navigator:i}=v.useContext(ie),{matches:n}=v.useContext(Y),a=n[n.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let o=be(),d;d=o;let u=d.pathname||"/",f=u;if(c!=="/"){let m=c.replace(/^\//,"").split("/");f="/"+u.replace(/^\//,"").split("/").slice(m.length).join("/")}let p=Ks(t,{pathname:f});return _r(p&&p.map(m=>Object.assign({},m,{params:Object.assign({},l,m.params),pathname:X([c,i.encodeLocation?i.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?c:X([c,i.encodeLocation?i.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),n,s,r)}function Er(){let t=Fr(),e=yr(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),s?v.createElement("pre",{style:i},s):null,null)}const Tr=v.createElement(Er,null);class Rr extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,s){return s.location!==e.location||s.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:s.error,location:s.location,revalidation:e.revalidation||s.revalidation}}componentDidCatch(e,s){console.error("React Router caught the following error during render",e,s)}render(){return this.state.error!==void 0?v.createElement(Y.Provider,{value:this.props.routeContext},v.createElement(Dt.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Mr(t){let{routeContext:e,match:s,children:r}=t,i=v.useContext(ze);return i&&i.static&&i.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=s.route.id),v.createElement(Y.Provider,{value:e},r)}function _r(t,e,s,r){var i;if(e===void 0&&(e=[]),s===void 0&&(s=null),r===void 0&&(r=null),t==null){var n;if(!s)return null;if(s.errors)t=s.matches;else if((n=r)!=null&&n.v7_partialHydration&&e.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let a=t,l=(i=s)==null?void 0:i.errors;if(l!=null){let d=a.findIndex(u=>u.route.id&&(l==null?void 0:l[u.route.id])!==void 0);d>=0||O(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,o=-1;if(s&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let u=a[d];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(o=d),u.route.id){let{loaderData:f,errors:p}=s,g=u.route.loader&&f[u.route.id]===void 0&&(!p||p[u.route.id]===void 0);if(u.route.lazy||g){c=!0,o>=0?a=a.slice(0,o+1):a=[a[0]];break}}}return a.reduceRight((d,u,f)=>{let p,g=!1,m=null,x=null;s&&(p=l&&u.route.id?l[u.route.id]:void 0,m=u.route.errorElement||Tr,c&&(o<0&&f===0?(Pr("route-fallback"),g=!0,x=null):o===f&&(g=!0,x=u.route.hydrateFallbackElement||null)));let y=e.concat(a.slice(0,f+1)),w=()=>{let b;return p?b=m:g?b=x:u.route.Component?b=v.createElement(u.route.Component,null):u.route.element?b=u.route.element:b=d,v.createElement(Mr,{match:u,routeContext:{outlet:d,matches:y,isDataRoute:s!=null},children:b})};return s&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?v.createElement(Rr,{location:s.location,revalidation:s.revalidation,component:m,error:p,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var Ut=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(Ut||{}),Wt=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(Wt||{});function Ar(t){let e=v.useContext(ze);return e||O(!1),e}function Cr(t){let e=v.useContext(br);return e||O(!1),e}function Ir(t){let e=v.useContext(Y);return e||O(!1),e}function Vt(t){let e=Ir(),s=e.matches[e.matches.length-1];return s.route.id||O(!1),s.route.id}function Fr(){var t;let e=v.useContext(Dt),s=Cr(),r=Vt();return e!==void 0?e:(t=s.errors)==null?void 0:t[r]}function zr(){let{router:t}=Ar(Ut.UseNavigateStable),e=Vt(Wt.UseNavigateStable),s=v.useRef(!1);return qt(()=>{s.current=!0}),v.useCallback(function(i,n){n===void 0&&(n={}),s.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,xe({fromRouteId:e},n)))},[t,e])}const Qe={};function Pr(t,e,s){Qe[t]||(Qe[t]=!0)}function kr(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function ge(t){let{to:e,replace:s,state:r,relative:i}=t;ne()||O(!1);let{future:n,static:a}=v.useContext(ie),{matches:l}=v.useContext(Y),{pathname:c}=be(),o=ae(),d=Nt(e,$t(l,n.v7_relativeSplatPath),c,i==="path"),u=JSON.stringify(d);return v.useEffect(()=>o(JSON.parse(u),{replace:s,state:r,relative:i}),[o,u,i,s,r]),null}function Or(t){let{basename:e="/",children:s=null,location:r,navigationType:i=G.Pop,navigator:n,static:a=!1,future:l}=t;ne()&&O(!1);let c=e.replace(/^\/*/,"/"),o=v.useMemo(()=>({basename:c,navigator:n,static:a,future:xe({v7_relativeSplatPath:!1},l)}),[c,l,n,a]);typeof r=="string"&&(r=re(r));let{pathname:d="/",search:u="",hash:f="",state:p=null,key:g="default"}=r,m=v.useMemo(()=>{let x=Lt(d,c);return x==null?null:{location:{pathname:x,search:u,hash:f,state:p,key:g},navigationType:i}},[c,d,u,f,p,g,i]);return m==null?null:v.createElement(ie.Provider,{value:o},v.createElement(Pe.Provider,{children:s,value:m}))}new Promise(()=>{});/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Lr="6";try{window.__reactRouterVersion=Lr}catch{}const $r="startTransition",He=es[$r];function Nr(t){let{basename:e,children:s,future:r,window:i}=t,n=v.useRef();n.current==null&&(n.current=Xs({window:i,v5Compat:!0}));let a=n.current,[l,c]=v.useState({action:a.action,location:a.location}),{v7_startTransition:o}=r||{},d=v.useCallback(u=>{o&&He?He(()=>c(u)):c(u)},[c,o]);return v.useLayoutEffect(()=>a.listen(d),[a,d]),v.useEffect(()=>kr(r),[r]),v.createElement(Or,{basename:e,children:s,location:l.location,navigationType:l.action,navigator:a,future:r})}var et;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(et||(et={}));var tt;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(tt||(tt={}));const ke=Es,Oe=Ts,Gt=()=>{const t=ke(),e=Oe(r=>r.theme.isDarkMode);return v.useEffect(()=>{document.documentElement.setAttribute("data-theme",e?"dark":"light")},[e]),{isDarkTheme:e,toggleTheme:()=>{t(Ns())}}},Br=[{id:"1",username:"admin",email:"admin@example.com",role:"admin",avatar:"https://api.dicebear.com/7.x/miniavs/svg?seed=1"},{id:"2",username:"user",email:"user@example.com",role:"user",avatar:"https://api.dicebear.com/7.x/miniavs/svg?seed=2"}],V=()=>{const t=ke(),{user:e,isAuthenticated:s,loading:r,error:i}=Oe(l=>l.auth);return{user:e,isAuth:s,loading:r,error:i,login:async l=>{t(Ps());try{await new Promise(o=>setTimeout(o,500));const c=Br.find(o=>o.username===l.username&&l.password==="password");if(c){const o=`mock-jwt-token-${c.id}`;return t(ks({user:c,token:o})),!0}else return t(Ue("Неверное имя пользователя или пароль")),!1}catch(c){const o=c instanceof Error?c.message:"Произошла неизвестная ошибка";return t(Ue(o)),!1}},logout:()=>{t(Os())}}};function ee(t){let e=t[0],s=t[1],r=t[2];return Math.sqrt(e*e+s*s+r*r)}function Ae(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Dr(t,e,s,r){return t[0]=e,t[1]=s,t[2]=r,t}function st(t,e,s){return t[0]=e[0]+s[0],t[1]=e[1]+s[1],t[2]=e[2]+s[2],t}function rt(t,e,s){return t[0]=e[0]-s[0],t[1]=e[1]-s[1],t[2]=e[2]-s[2],t}function qr(t,e,s){return t[0]=e[0]*s[0],t[1]=e[1]*s[1],t[2]=e[2]*s[2],t}function Ur(t,e,s){return t[0]=e[0]/s[0],t[1]=e[1]/s[1],t[2]=e[2]/s[2],t}function Se(t,e,s){return t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t}function Wr(t,e){let s=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(s*s+r*r+i*i)}function Vr(t,e){let s=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return s*s+r*r+i*i}function it(t){let e=t[0],s=t[1],r=t[2];return e*e+s*s+r*r}function Gr(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function Xr(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function Ce(t,e){let s=e[0],r=e[1],i=e[2],n=s*s+r*r+i*i;return n>0&&(n=1/Math.sqrt(n)),t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function Xt(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function nt(t,e,s){let r=e[0],i=e[1],n=e[2],a=s[0],l=s[1],c=s[2];return t[0]=i*c-n*l,t[1]=n*a-r*c,t[2]=r*l-i*a,t}function Yr(t,e,s,r){let i=e[0],n=e[1],a=e[2];return t[0]=i+r*(s[0]-i),t[1]=n+r*(s[1]-n),t[2]=a+r*(s[2]-a),t}function Zr(t,e,s,r,i){const n=Math.exp(-r*i);let a=e[0],l=e[1],c=e[2];return t[0]=s[0]+(a-s[0])*n,t[1]=s[1]+(l-s[1])*n,t[2]=s[2]+(c-s[2])*n,t}function Kr(t,e,s){let r=e[0],i=e[1],n=e[2],a=s[3]*r+s[7]*i+s[11]*n+s[15];return a=a||1,t[0]=(s[0]*r+s[4]*i+s[8]*n+s[12])/a,t[1]=(s[1]*r+s[5]*i+s[9]*n+s[13])/a,t[2]=(s[2]*r+s[6]*i+s[10]*n+s[14])/a,t}function Jr(t,e,s){let r=e[0],i=e[1],n=e[2],a=s[3]*r+s[7]*i+s[11]*n+s[15];return a=a||1,t[0]=(s[0]*r+s[4]*i+s[8]*n)/a,t[1]=(s[1]*r+s[5]*i+s[9]*n)/a,t[2]=(s[2]*r+s[6]*i+s[10]*n)/a,t}function Qr(t,e,s){let r=e[0],i=e[1],n=e[2];return t[0]=r*s[0]+i*s[3]+n*s[6],t[1]=r*s[1]+i*s[4]+n*s[7],t[2]=r*s[2]+i*s[5]+n*s[8],t}function Hr(t,e,s){let r=e[0],i=e[1],n=e[2],a=s[0],l=s[1],c=s[2],o=s[3],d=l*n-c*i,u=c*r-a*n,f=a*i-l*r,p=l*f-c*u,g=c*d-a*f,m=a*u-l*d,x=o*2;return d*=x,u*=x,f*=x,p*=2,g*=2,m*=2,t[0]=r+d+p,t[1]=i+u+g,t[2]=n+f+m,t}const ei=(function(){const t=[0,0,0],e=[0,0,0];return function(s,r){Ae(t,s),Ae(e,r),Ce(t,t),Ce(e,e);let i=Xt(t,e);return i>1?0:i<-1?Math.PI:Math.acos(i)}})();function ti(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}class N extends Array{constructor(e=0,s=e,r=e){return super(e,s,r),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this[0]=e}set y(e){this[1]=e}set z(e){this[2]=e}set(e,s=e,r=e){return e.length?this.copy(e):(Dr(this,e,s,r),this)}copy(e){return Ae(this,e),this}add(e,s){return s?st(this,e,s):st(this,this,e),this}sub(e,s){return s?rt(this,e,s):rt(this,this,e),this}multiply(e){return e.length?qr(this,this,e):Se(this,this,e),this}divide(e){return e.length?Ur(this,this,e):Se(this,this,1/e),this}inverse(e=this){return Xr(this,e),this}len(){return ee(this)}distance(e){return e?Wr(this,e):ee(this)}squaredLen(){return it(this)}squaredDistance(e){return e?Vr(this,e):it(this)}negate(e=this){return Gr(this,e),this}cross(e,s){return s?nt(this,e,s):nt(this,this,e),this}scale(e){return Se(this,this,e),this}normalize(){return Ce(this,this),this}dot(e){return Xt(this,e)}equals(e){return ti(this,e)}applyMatrix3(e){return Qr(this,this,e),this}applyMatrix4(e){return Kr(this,this,e),this}scaleRotateMatrix4(e){return Jr(this,this,e),this}applyQuaternion(e){return Hr(this,this,e),this}angle(e){return ei(this,e)}lerp(e,s){return Yr(this,this,e,s),this}smoothLerp(e,s,r){return Zr(this,this,e,s,r),this}clone(){return new N(this[0],this[1],this[2])}fromArray(e,s=0){return this[0]=e[s],this[1]=e[s+1],this[2]=e[s+2],this}toArray(e=[],s=0){return e[s]=this[0],e[s+1]=this[1],e[s+2]=this[2],e}transformDirection(e){const s=this[0],r=this[1],i=this[2];return this[0]=e[0]*s+e[4]*r+e[8]*i,this[1]=e[1]*s+e[5]*r+e[9]*i,this[2]=e[2]*s+e[6]*r+e[10]*i,this.normalize()}}const at=new N;let si=1,ri=1,lt=!1;class ii{constructor(e,s={}){e.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=e,this.attributes=s,this.id=si++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let r in s)this.addAttribute(r,s[r])}addAttribute(e,s){if(this.attributes[e]=s,s.id=ri++,s.size=s.size||1,s.type=s.type||(s.data.constructor===Float32Array?this.gl.FLOAT:s.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),s.target=e==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,s.normalized=s.normalized||!1,s.stride=s.stride||0,s.offset=s.offset||0,s.count=s.count||(s.stride?s.data.byteLength/s.stride:s.data.length/s.size),s.divisor=s.instanced||0,s.needsUpdate=!1,s.usage=s.usage||this.gl.STATIC_DRAW,s.buffer||this.updateAttribute(s),s.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==s.count*s.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,s.count*s.divisor);this.instancedCount=s.count*s.divisor}else e==="index"?this.drawRange.count=s.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,s.count))}updateAttribute(e){const s=!e.buffer;s&&(e.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==e.buffer&&(this.gl.bindBuffer(e.target,e.buffer),this.glState.boundBuffer=e.buffer),s?this.gl.bufferData(e.target,e.data,e.usage):this.gl.bufferSubData(e.target,0,e.data),e.needsUpdate=!1}setIndex(e){this.addAttribute("index",e)}setDrawRange(e,s){this.drawRange.start=e,this.drawRange.count=s}setInstancedCount(e){this.instancedCount=e}createVAO(e){this.VAOs[e.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.bindAttributes(e)}bindAttributes(e){e.attributeLocations.forEach((s,{name:r,type:i})=>{if(!this.attributes[r]){console.warn(`active attribute ${r} not being supplied`);return}const n=this.attributes[r];this.gl.bindBuffer(n.target,n.buffer),this.glState.boundBuffer=n.buffer;let a=1;i===35674&&(a=2),i===35675&&(a=3),i===35676&&(a=4);const l=n.size/a,c=a===1?0:a*a*4,o=a===1?0:a*4;for(let d=0;d<a;d++)this.gl.vertexAttribPointer(s+d,l,n.type,n.normalized,n.stride+c,n.offset+d*o),this.gl.enableVertexAttribArray(s+d),this.gl.renderer.vertexAttribDivisor(s+d,n.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:e,mode:s=this.gl.TRIANGLES}){var i;this.gl.renderer.currentGeometry!==`${this.id}_${e.attributeOrder}`&&(this.VAOs[e.attributeOrder]||this.createVAO(e),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${e.attributeOrder}`),e.attributeLocations.forEach((n,{name:a})=>{const l=this.attributes[a];l.needsUpdate&&this.updateAttribute(l)});let r=2;((i=this.attributes.index)==null?void 0:i.type)===this.gl.UNSIGNED_INT&&(r=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(s,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*r,this.instancedCount):this.gl.renderer.drawArraysInstanced(s,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(s,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*r):this.gl.drawArrays(s,this.drawRange.start,this.drawRange.count)}getPosition(){const e=this.attributes.position;if(e.data)return e;if(!lt)return console.warn("No position buffer data found to compute bounds"),lt=!0}computeBoundingBox(e){e||(e=this.getPosition());const s=e.data,r=e.size;this.bounds||(this.bounds={min:new N,max:new N,center:new N,scale:new N,radius:1/0});const i=this.bounds.min,n=this.bounds.max,a=this.bounds.center,l=this.bounds.scale;i.set(1/0),n.set(-1/0);for(let c=0,o=s.length;c<o;c+=r){const d=s[c],u=s[c+1],f=s[c+2];i.x=Math.min(d,i.x),i.y=Math.min(u,i.y),i.z=Math.min(f,i.z),n.x=Math.max(d,n.x),n.y=Math.max(u,n.y),n.z=Math.max(f,n.z)}l.sub(n,i),a.add(i,n).divide(2)}computeBoundingSphere(e){e||(e=this.getPosition());const s=e.data,r=e.size;this.bounds||this.computeBoundingBox(e);let i=0;for(let n=0,a=s.length;n<a;n+=r)at.fromArray(s,n),i=Math.max(i,this.bounds.center.squaredDistance(at));this.bounds.radius=Math.sqrt(i)}remove(){for(let e in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[e]),delete this.VAOs[e];for(let e in this.attributes)this.gl.deleteBuffer(this.attributes[e].buffer),delete this.attributes[e]}}let ni=1;const ct={};class ai{constructor(e,{vertex:s,fragment:r,uniforms:i={},transparent:n=!1,cullFace:a=e.BACK,frontFace:l=e.CCW,depthTest:c=!0,depthWrite:o=!0,depthFunc:d=e.LEQUAL}={}){e.canvas||console.error("gl not passed as first argument to Program"),this.gl=e,this.uniforms=i,this.id=ni++,s||console.warn("vertex shader not supplied"),r||console.warn("fragment shader not supplied"),this.transparent=n,this.cullFace=a,this.frontFace=l,this.depthTest=c,this.depthWrite=o,this.depthFunc=d,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=e.createShader(e.VERTEX_SHADER),this.fragmentShader=e.createShader(e.FRAGMENT_SHADER),this.program=e.createProgram(),e.attachShader(this.program,this.vertexShader),e.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:s,fragment:r})}setShaders({vertex:e,fragment:s}){if(e&&(this.gl.shaderSource(this.vertexShader,e),this.gl.compileShader(this.vertexShader),this.gl.getShaderInfoLog(this.vertexShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${ht(e)}`)),s&&(this.gl.shaderSource(this.fragmentShader,s),this.gl.compileShader(this.fragmentShader),this.gl.getShaderInfoLog(this.fragmentShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${ht(s)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let r=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let a=0;a<r;a++){let l=this.gl.getActiveUniform(this.program,a);this.uniformLocations.set(l,this.gl.getUniformLocation(this.program,l.name));const c=l.name.match(/(\w+)/g);l.uniformName=c[0],l.nameComponents=c.slice(1)}this.attributeLocations=new Map;const i=[],n=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let a=0;a<n;a++){const l=this.gl.getActiveAttrib(this.program,a),c=this.gl.getAttribLocation(this.program,l.name);c!==-1&&(i[c]=l.name,this.attributeLocations.set(l,c))}this.attributeOrder=i.join("")}setBlendFunc(e,s,r,i){this.blendFunc.src=e,this.blendFunc.dst=s,this.blendFunc.srcAlpha=r,this.blendFunc.dstAlpha=i,e&&(this.transparent=!0)}setBlendEquation(e,s){this.blendEquation.modeRGB=e,this.blendEquation.modeAlpha=s}setStencilFunc(e,s,r){this.stencilRef=s,this.stencilFunc.func=e,this.stencilFunc.ref=s,this.stencilFunc.mask=r}setStencilOp(e,s,r){this.stencilOp.stencilFail=e,this.stencilOp.depthFail=s,this.stencilOp.depthPass=r}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}use({flipFaces:e=!1}={}){let s=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((i,n)=>{let a=this.uniforms[n.uniformName];for(const l of n.nameComponents){if(!a)break;if(l in a)a=a[l];else{if(Array.isArray(a.value))break;a=void 0;break}}if(!a)return ot(`Active uniform ${n.name} has not been supplied`);if(a&&a.value===void 0)return ot(`${n.name} uniform is missing a value parameter`);if(a.value.texture)return s=s+1,a.value.update(s),Ee(this.gl,n.type,i,s);if(a.value.length&&a.value[0].texture){const l=[];return a.value.forEach(c=>{s=s+1,c.update(s),l.push(s)}),Ee(this.gl,n.type,i,l)}Ee(this.gl,n.type,i,a.value)}),this.applyState(),e&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function Ee(t,e,s,r){r=r.length?li(r):r;const i=t.renderer.state.uniformLocations.get(s);if(r.length)if(i===void 0||i.length!==r.length)t.renderer.state.uniformLocations.set(s,r.slice(0));else{if(ci(i,r))return;i.set?i.set(r):hi(i,r),t.renderer.state.uniformLocations.set(s,i)}else{if(i===r)return;t.renderer.state.uniformLocations.set(s,r)}switch(e){case 5126:return r.length?t.uniform1fv(s,r):t.uniform1f(s,r);case 35664:return t.uniform2fv(s,r);case 35665:return t.uniform3fv(s,r);case 35666:return t.uniform4fv(s,r);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return r.length?t.uniform1iv(s,r):t.uniform1i(s,r);case 35671:case 35667:return t.uniform2iv(s,r);case 35672:case 35668:return t.uniform3iv(s,r);case 35673:case 35669:return t.uniform4iv(s,r);case 35674:return t.uniformMatrix2fv(s,!1,r);case 35675:return t.uniformMatrix3fv(s,!1,r);case 35676:return t.uniformMatrix4fv(s,!1,r)}}function ht(t){let e=t.split(`
`);for(let s=0;s<e.length;s++)e[s]=s+1+": "+e[s];return e.join(`
`)}function li(t){const e=t.length,s=t[0].length;if(s===void 0)return t;const r=e*s;let i=ct[r];i||(ct[r]=i=new Float32Array(r));for(let n=0;n<e;n++)i.set(t[n],n*s);return i}function ci(t,e){if(t.length!==e.length)return!1;for(let s=0,r=t.length;s<r;s++)if(t[s]!==e[s])return!1;return!0}function hi(t,e){for(let s=0,r=t.length;s<r;s++)t[s]=e[s]}let Te=0;function ot(t){Te>100||(console.warn(t),Te++,Te>100&&console.warn("More than 100 program warnings - stopping logs."))}const Re=new N;let oi=1;class di{constructor({canvas:e=document.createElement("canvas"),width:s=300,height:r=150,dpr:i=1,alpha:n=!1,depth:a=!0,stencil:l=!1,antialias:c=!1,premultipliedAlpha:o=!1,preserveDrawingBuffer:d=!1,powerPreference:u="default",autoClear:f=!0,webgl:p=2}={}){const g={alpha:n,depth:a,stencil:l,antialias:c,premultipliedAlpha:o,preserveDrawingBuffer:d,powerPreference:u};this.dpr=i,this.alpha=n,this.color=!0,this.depth=a,this.stencil=l,this.premultipliedAlpha=o,this.autoClear=f,this.id=oi++,p===2&&(this.gl=e.getContext("webgl2",g)),this.isWebgl2=!!this.gl,this.gl||(this.gl=e.getContext("webgl",g)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(s,r),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(e,s){this.width=e,this.height=s,this.gl.canvas.width=e*this.dpr,this.gl.canvas.height=s*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:e+"px",height:s+"px"})}setViewport(e,s,r=0,i=0){this.state.viewport.width===e&&this.state.viewport.height===s||(this.state.viewport.width=e,this.state.viewport.height=s,this.state.viewport.x=r,this.state.viewport.y=i,this.gl.viewport(r,i,e,s))}setScissor(e,s,r=0,i=0){this.gl.scissor(r,i,e,s)}enable(e){this.state[e]!==!0&&(this.gl.enable(e),this.state[e]=!0)}disable(e){this.state[e]!==!1&&(this.gl.disable(e),this.state[e]=!1)}setBlendFunc(e,s,r,i){this.state.blendFunc.src===e&&this.state.blendFunc.dst===s&&this.state.blendFunc.srcAlpha===r&&this.state.blendFunc.dstAlpha===i||(this.state.blendFunc.src=e,this.state.blendFunc.dst=s,this.state.blendFunc.srcAlpha=r,this.state.blendFunc.dstAlpha=i,r!==void 0?this.gl.blendFuncSeparate(e,s,r,i):this.gl.blendFunc(e,s))}setBlendEquation(e,s){e=e||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===e&&this.state.blendEquation.modeAlpha===s)&&(this.state.blendEquation.modeRGB=e,this.state.blendEquation.modeAlpha=s,s!==void 0?this.gl.blendEquationSeparate(e,s):this.gl.blendEquation(e))}setCullFace(e){this.state.cullFace!==e&&(this.state.cullFace=e,this.gl.cullFace(e))}setFrontFace(e){this.state.frontFace!==e&&(this.state.frontFace=e,this.gl.frontFace(e))}setDepthMask(e){this.state.depthMask!==e&&(this.state.depthMask=e,this.gl.depthMask(e))}setDepthFunc(e){this.state.depthFunc!==e&&(this.state.depthFunc=e,this.gl.depthFunc(e))}setStencilMask(e){this.state.stencilMask!==e&&(this.state.stencilMask=e,this.gl.stencilMask(e))}setStencilFunc(e,s,r){this.state.stencilFunc===e&&this.state.stencilRef===s&&this.state.stencilFuncMask===r||(this.state.stencilFunc=e||this.gl.ALWAYS,this.state.stencilRef=s||0,this.state.stencilFuncMask=r||0,this.gl.stencilFunc(e||this.gl.ALWAYS,s||0,r||0))}setStencilOp(e,s,r){this.state.stencilFail===e&&this.state.stencilDepthFail===s&&this.state.stencilDepthPass===r||(this.state.stencilFail=e,this.state.stencilDepthFail=s,this.state.stencilDepthPass=r,this.gl.stencilOp(e,s,r))}activeTexture(e){this.state.activeTextureUnit!==e&&(this.state.activeTextureUnit=e,this.gl.activeTexture(this.gl.TEXTURE0+e))}bindFramebuffer({target:e=this.gl.FRAMEBUFFER,buffer:s=null}={}){this.state.framebuffer!==s&&(this.state.framebuffer=s,this.gl.bindFramebuffer(e,s))}getExtension(e,s,r){return s&&this.gl[s]?this.gl[s].bind(this.gl):(this.extensions[e]||(this.extensions[e]=this.gl.getExtension(e)),s?this.extensions[e]?this.extensions[e][r].bind(this.extensions[e]):null:this.extensions[e])}sortOpaque(e,s){return e.renderOrder!==s.renderOrder?e.renderOrder-s.renderOrder:e.program.id!==s.program.id?e.program.id-s.program.id:e.zDepth!==s.zDepth?e.zDepth-s.zDepth:s.id-e.id}sortTransparent(e,s){return e.renderOrder!==s.renderOrder?e.renderOrder-s.renderOrder:e.zDepth!==s.zDepth?s.zDepth-e.zDepth:s.id-e.id}sortUI(e,s){return e.renderOrder!==s.renderOrder?e.renderOrder-s.renderOrder:e.program.id!==s.program.id?e.program.id-s.program.id:s.id-e.id}getRenderList({scene:e,camera:s,frustumCull:r,sort:i}){let n=[];if(s&&r&&s.updateFrustum(),e.traverse(a=>{if(!a.visible)return!0;a.draw&&(r&&a.frustumCulled&&s&&!s.frustumIntersectsMesh(a)||n.push(a))}),i){const a=[],l=[],c=[];n.forEach(o=>{o.program.transparent?o.program.depthTest?l.push(o):c.push(o):a.push(o),o.zDepth=0,!(o.renderOrder!==0||!o.program.depthTest||!s)&&(o.worldMatrix.getTranslation(Re),Re.applyMatrix4(s.projectionViewMatrix),o.zDepth=Re.z)}),a.sort(this.sortOpaque),l.sort(this.sortTransparent),c.sort(this.sortUI),n=a.concat(l,c)}return n}render({scene:e,camera:s,target:r=null,update:i=!0,sort:n=!0,frustumCull:a=!0,clear:l}){r===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(r),this.setViewport(r.width,r.height)),(l||this.autoClear&&l!==!1)&&(this.depth&&(!r||r.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!r||r.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),i&&e.updateMatrixWorld(),s&&s.updateMatrixWorld(),this.getRenderList({scene:e,camera:s,frustumCull:a,sort:n}).forEach(o=>{o.draw({camera:s})})}}function ui(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function fi(t,e,s,r,i){return t[0]=e,t[1]=s,t[2]=r,t[3]=i,t}function gi(t,e){let s=e[0],r=e[1],i=e[2],n=e[3],a=s*s+r*r+i*i+n*n;return a>0&&(a=1/Math.sqrt(a)),t[0]=s*a,t[1]=r*a,t[2]=i*a,t[3]=n*a,t}function pi(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function mi(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function xi(t,e,s){s=s*.5;let r=Math.sin(s);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(s),t}function dt(t,e,s){let r=e[0],i=e[1],n=e[2],a=e[3],l=s[0],c=s[1],o=s[2],d=s[3];return t[0]=r*d+a*l+i*o-n*c,t[1]=i*d+a*c+n*l-r*o,t[2]=n*d+a*o+r*c-i*l,t[3]=a*d-r*l-i*c-n*o,t}function yi(t,e,s){s*=.5;let r=e[0],i=e[1],n=e[2],a=e[3],l=Math.sin(s),c=Math.cos(s);return t[0]=r*c+a*l,t[1]=i*c+n*l,t[2]=n*c-i*l,t[3]=a*c-r*l,t}function vi(t,e,s){s*=.5;let r=e[0],i=e[1],n=e[2],a=e[3],l=Math.sin(s),c=Math.cos(s);return t[0]=r*c-n*l,t[1]=i*c+a*l,t[2]=n*c+r*l,t[3]=a*c-i*l,t}function bi(t,e,s){s*=.5;let r=e[0],i=e[1],n=e[2],a=e[3],l=Math.sin(s),c=Math.cos(s);return t[0]=r*c+i*l,t[1]=i*c-r*l,t[2]=n*c+a*l,t[3]=a*c-n*l,t}function ji(t,e,s,r){let i=e[0],n=e[1],a=e[2],l=e[3],c=s[0],o=s[1],d=s[2],u=s[3],f,p,g,m,x;return p=i*c+n*o+a*d+l*u,p<0&&(p=-p,c=-c,o=-o,d=-d,u=-u),1-p>1e-6?(f=Math.acos(p),g=Math.sin(f),m=Math.sin((1-r)*f)/g,x=Math.sin(r*f)/g):(m=1-r,x=r),t[0]=m*i+x*c,t[1]=m*n+x*o,t[2]=m*a+x*d,t[3]=m*l+x*u,t}function wi(t,e){let s=e[0],r=e[1],i=e[2],n=e[3],a=s*s+r*r+i*i+n*n,l=a?1/a:0;return t[0]=-s*l,t[1]=-r*l,t[2]=-i*l,t[3]=n*l,t}function Si(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function Ei(t,e){let s=e[0]+e[4]+e[8],r;if(s>0)r=Math.sqrt(s+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{let i=0;e[4]>e[0]&&(i=1),e[8]>e[i*3+i]&&(i=2);let n=(i+1)%3,a=(i+2)%3;r=Math.sqrt(e[i*3+i]-e[n*3+n]-e[a*3+a]+1),t[i]=.5*r,r=.5/r,t[3]=(e[n*3+a]-e[a*3+n])*r,t[n]=(e[n*3+i]+e[i*3+n])*r,t[a]=(e[a*3+i]+e[i*3+a])*r}return t}function Ti(t,e,s="YXZ"){let r=Math.sin(e[0]*.5),i=Math.cos(e[0]*.5),n=Math.sin(e[1]*.5),a=Math.cos(e[1]*.5),l=Math.sin(e[2]*.5),c=Math.cos(e[2]*.5);return s==="XYZ"?(t[0]=r*a*c+i*n*l,t[1]=i*n*c-r*a*l,t[2]=i*a*l+r*n*c,t[3]=i*a*c-r*n*l):s==="YXZ"?(t[0]=r*a*c+i*n*l,t[1]=i*n*c-r*a*l,t[2]=i*a*l-r*n*c,t[3]=i*a*c+r*n*l):s==="ZXY"?(t[0]=r*a*c-i*n*l,t[1]=i*n*c+r*a*l,t[2]=i*a*l+r*n*c,t[3]=i*a*c-r*n*l):s==="ZYX"?(t[0]=r*a*c-i*n*l,t[1]=i*n*c+r*a*l,t[2]=i*a*l-r*n*c,t[3]=i*a*c+r*n*l):s==="YZX"?(t[0]=r*a*c+i*n*l,t[1]=i*n*c+r*a*l,t[2]=i*a*l-r*n*c,t[3]=i*a*c-r*n*l):s==="XZY"&&(t[0]=r*a*c-i*n*l,t[1]=i*n*c-r*a*l,t[2]=i*a*l+r*n*c,t[3]=i*a*c+r*n*l),t}const Ri=ui,Mi=fi,_i=pi,Ai=gi;class Ci extends Array{constructor(e=0,s=0,r=0,i=1){super(e,s,r,i),this.onChange=()=>{},this._target=this;const n=["0","1","2","3"];return new Proxy(this,{set(a,l){const c=Reflect.set(...arguments);return c&&n.includes(l)&&a.onChange(),c}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set w(e){this._target[3]=e,this.onChange()}identity(){return mi(this._target),this.onChange(),this}set(e,s,r,i){return e.length?this.copy(e):(Mi(this._target,e,s,r,i),this.onChange(),this)}rotateX(e){return yi(this._target,this._target,e),this.onChange(),this}rotateY(e){return vi(this._target,this._target,e),this.onChange(),this}rotateZ(e){return bi(this._target,this._target,e),this.onChange(),this}inverse(e=this._target){return wi(this._target,e),this.onChange(),this}conjugate(e=this._target){return Si(this._target,e),this.onChange(),this}copy(e){return Ri(this._target,e),this.onChange(),this}normalize(e=this._target){return Ai(this._target,e),this.onChange(),this}multiply(e,s){return s?dt(this._target,e,s):dt(this._target,this._target,e),this.onChange(),this}dot(e){return _i(this._target,e)}fromMatrix3(e){return Ei(this._target,e),this.onChange(),this}fromEuler(e,s){return Ti(this._target,e,e.order),s||this.onChange(),this}fromAxisAngle(e,s){return xi(this._target,e,s),this.onChange(),this}slerp(e,s){return ji(this._target,this._target,e,s),this.onChange(),this}fromArray(e,s=0){return this._target[0]=e[s],this._target[1]=e[s+1],this._target[2]=e[s+2],this._target[3]=e[s+3],this.onChange(),this}toArray(e=[],s=0){return e[s]=this[0],e[s+1]=this[1],e[s+2]=this[2],e[s+3]=this[3],e}}const Ii=1e-6;function Fi(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function zi(t,e,s,r,i,n,a,l,c,o,d,u,f,p,g,m,x){return t[0]=e,t[1]=s,t[2]=r,t[3]=i,t[4]=n,t[5]=a,t[6]=l,t[7]=c,t[8]=o,t[9]=d,t[10]=u,t[11]=f,t[12]=p,t[13]=g,t[14]=m,t[15]=x,t}function Pi(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ki(t,e){let s=e[0],r=e[1],i=e[2],n=e[3],a=e[4],l=e[5],c=e[6],o=e[7],d=e[8],u=e[9],f=e[10],p=e[11],g=e[12],m=e[13],x=e[14],y=e[15],w=s*l-r*a,b=s*c-i*a,j=s*o-n*a,S=r*c-i*l,E=r*o-n*l,R=i*o-n*c,F=d*m-u*g,z=d*x-f*g,M=d*y-p*g,P=u*x-f*m,_=u*y-p*m,k=f*y-p*x,T=w*k-b*_+j*P+S*M-E*z+R*F;return T?(T=1/T,t[0]=(l*k-c*_+o*P)*T,t[1]=(i*_-r*k-n*P)*T,t[2]=(m*R-x*E+y*S)*T,t[3]=(f*E-u*R-p*S)*T,t[4]=(c*M-a*k-o*z)*T,t[5]=(s*k-i*M+n*z)*T,t[6]=(x*j-g*R-y*b)*T,t[7]=(d*R-f*j+p*b)*T,t[8]=(a*_-l*M+o*F)*T,t[9]=(r*M-s*_-n*F)*T,t[10]=(g*E-m*j+y*w)*T,t[11]=(u*j-d*E-p*w)*T,t[12]=(l*z-a*P-c*F)*T,t[13]=(s*P-r*z+i*F)*T,t[14]=(m*b-g*S-x*w)*T,t[15]=(d*S-u*b+f*w)*T,t):null}function Yt(t){let e=t[0],s=t[1],r=t[2],i=t[3],n=t[4],a=t[5],l=t[6],c=t[7],o=t[8],d=t[9],u=t[10],f=t[11],p=t[12],g=t[13],m=t[14],x=t[15],y=e*a-s*n,w=e*l-r*n,b=e*c-i*n,j=s*l-r*a,S=s*c-i*a,E=r*c-i*l,R=o*g-d*p,F=o*m-u*p,z=o*x-f*p,M=d*m-u*g,P=d*x-f*g,_=u*x-f*m;return y*_-w*P+b*M+j*z-S*F+E*R}function ut(t,e,s){let r=e[0],i=e[1],n=e[2],a=e[3],l=e[4],c=e[5],o=e[6],d=e[7],u=e[8],f=e[9],p=e[10],g=e[11],m=e[12],x=e[13],y=e[14],w=e[15],b=s[0],j=s[1],S=s[2],E=s[3];return t[0]=b*r+j*l+S*u+E*m,t[1]=b*i+j*c+S*f+E*x,t[2]=b*n+j*o+S*p+E*y,t[3]=b*a+j*d+S*g+E*w,b=s[4],j=s[5],S=s[6],E=s[7],t[4]=b*r+j*l+S*u+E*m,t[5]=b*i+j*c+S*f+E*x,t[6]=b*n+j*o+S*p+E*y,t[7]=b*a+j*d+S*g+E*w,b=s[8],j=s[9],S=s[10],E=s[11],t[8]=b*r+j*l+S*u+E*m,t[9]=b*i+j*c+S*f+E*x,t[10]=b*n+j*o+S*p+E*y,t[11]=b*a+j*d+S*g+E*w,b=s[12],j=s[13],S=s[14],E=s[15],t[12]=b*r+j*l+S*u+E*m,t[13]=b*i+j*c+S*f+E*x,t[14]=b*n+j*o+S*p+E*y,t[15]=b*a+j*d+S*g+E*w,t}function Oi(t,e,s){let r=s[0],i=s[1],n=s[2],a,l,c,o,d,u,f,p,g,m,x,y;return e===t?(t[12]=e[0]*r+e[4]*i+e[8]*n+e[12],t[13]=e[1]*r+e[5]*i+e[9]*n+e[13],t[14]=e[2]*r+e[6]*i+e[10]*n+e[14],t[15]=e[3]*r+e[7]*i+e[11]*n+e[15]):(a=e[0],l=e[1],c=e[2],o=e[3],d=e[4],u=e[5],f=e[6],p=e[7],g=e[8],m=e[9],x=e[10],y=e[11],t[0]=a,t[1]=l,t[2]=c,t[3]=o,t[4]=d,t[5]=u,t[6]=f,t[7]=p,t[8]=g,t[9]=m,t[10]=x,t[11]=y,t[12]=a*r+d*i+g*n+e[12],t[13]=l*r+u*i+m*n+e[13],t[14]=c*r+f*i+x*n+e[14],t[15]=o*r+p*i+y*n+e[15]),t}function Li(t,e,s){let r=s[0],i=s[1],n=s[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function $i(t,e,s,r){let i=r[0],n=r[1],a=r[2],l=Math.hypot(i,n,a),c,o,d,u,f,p,g,m,x,y,w,b,j,S,E,R,F,z,M,P,_,k,T,J;return Math.abs(l)<Ii?null:(l=1/l,i*=l,n*=l,a*=l,c=Math.sin(s),o=Math.cos(s),d=1-o,u=e[0],f=e[1],p=e[2],g=e[3],m=e[4],x=e[5],y=e[6],w=e[7],b=e[8],j=e[9],S=e[10],E=e[11],R=i*i*d+o,F=n*i*d+a*c,z=a*i*d-n*c,M=i*n*d-a*c,P=n*n*d+o,_=a*n*d+i*c,k=i*a*d+n*c,T=n*a*d-i*c,J=a*a*d+o,t[0]=u*R+m*F+b*z,t[1]=f*R+x*F+j*z,t[2]=p*R+y*F+S*z,t[3]=g*R+w*F+E*z,t[4]=u*M+m*P+b*_,t[5]=f*M+x*P+j*_,t[6]=p*M+y*P+S*_,t[7]=g*M+w*P+E*_,t[8]=u*k+m*T+b*J,t[9]=f*k+x*T+j*J,t[10]=p*k+y*T+S*J,t[11]=g*k+w*T+E*J,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function Ni(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function Zt(t,e){let s=e[0],r=e[1],i=e[2],n=e[4],a=e[5],l=e[6],c=e[8],o=e[9],d=e[10];return t[0]=Math.hypot(s,r,i),t[1]=Math.hypot(n,a,l),t[2]=Math.hypot(c,o,d),t}function Bi(t){let e=t[0],s=t[1],r=t[2],i=t[4],n=t[5],a=t[6],l=t[8],c=t[9],o=t[10];const d=e*e+s*s+r*r,u=i*i+n*n+a*a,f=l*l+c*c+o*o;return Math.sqrt(Math.max(d,u,f))}const Kt=(function(){const t=[1,1,1];return function(e,s){let r=t;Zt(r,s);let i=1/r[0],n=1/r[1],a=1/r[2],l=s[0]*i,c=s[1]*n,o=s[2]*a,d=s[4]*i,u=s[5]*n,f=s[6]*a,p=s[8]*i,g=s[9]*n,m=s[10]*a,x=l+u+m,y=0;return x>0?(y=Math.sqrt(x+1)*2,e[3]=.25*y,e[0]=(f-g)/y,e[1]=(p-o)/y,e[2]=(c-d)/y):l>u&&l>m?(y=Math.sqrt(1+l-u-m)*2,e[3]=(f-g)/y,e[0]=.25*y,e[1]=(c+d)/y,e[2]=(p+o)/y):u>m?(y=Math.sqrt(1+u-l-m)*2,e[3]=(p-o)/y,e[0]=(c+d)/y,e[1]=.25*y,e[2]=(f+g)/y):(y=Math.sqrt(1+m-l-u)*2,e[3]=(c-d)/y,e[0]=(p+o)/y,e[1]=(f+g)/y,e[2]=.25*y),e}})();function Di(t,e,s,r){let i=ee([t[0],t[1],t[2]]);const n=ee([t[4],t[5],t[6]]),a=ee([t[8],t[9],t[10]]);Yt(t)<0&&(i=-i),s[0]=t[12],s[1]=t[13],s[2]=t[14];const c=t.slice(),o=1/i,d=1/n,u=1/a;c[0]*=o,c[1]*=o,c[2]*=o,c[4]*=d,c[5]*=d,c[6]*=d,c[8]*=u,c[9]*=u,c[10]*=u,Kt(e,c),r[0]=i,r[1]=n,r[2]=a}function qi(t,e,s,r){const i=t,n=e[0],a=e[1],l=e[2],c=e[3],o=n+n,d=a+a,u=l+l,f=n*o,p=n*d,g=n*u,m=a*d,x=a*u,y=l*u,w=c*o,b=c*d,j=c*u,S=r[0],E=r[1],R=r[2];return i[0]=(1-(m+y))*S,i[1]=(p+j)*S,i[2]=(g-b)*S,i[3]=0,i[4]=(p-j)*E,i[5]=(1-(f+y))*E,i[6]=(x+w)*E,i[7]=0,i[8]=(g+b)*R,i[9]=(x-w)*R,i[10]=(1-(f+m))*R,i[11]=0,i[12]=s[0],i[13]=s[1],i[14]=s[2],i[15]=1,i}function Ui(t,e){let s=e[0],r=e[1],i=e[2],n=e[3],a=s+s,l=r+r,c=i+i,o=s*a,d=r*a,u=r*l,f=i*a,p=i*l,g=i*c,m=n*a,x=n*l,y=n*c;return t[0]=1-u-g,t[1]=d+y,t[2]=f-x,t[3]=0,t[4]=d-y,t[5]=1-o-g,t[6]=p+m,t[7]=0,t[8]=f+x,t[9]=p-m,t[10]=1-o-u,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Wi(t,e,s,r,i){let n=1/Math.tan(e/2),a=1/(r-i);return t[0]=n/s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*a,t[15]=0,t}function Vi(t,e,s,r,i,n,a){let l=1/(e-s),c=1/(r-i),o=1/(n-a);return t[0]=-2*l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*o,t[11]=0,t[12]=(e+s)*l,t[13]=(i+r)*c,t[14]=(a+n)*o,t[15]=1,t}function Gi(t,e,s,r){let i=e[0],n=e[1],a=e[2],l=r[0],c=r[1],o=r[2],d=i-s[0],u=n-s[1],f=a-s[2],p=d*d+u*u+f*f;p===0?f=1:(p=1/Math.sqrt(p),d*=p,u*=p,f*=p);let g=c*f-o*u,m=o*d-l*f,x=l*u-c*d;return p=g*g+m*m+x*x,p===0&&(o?l+=1e-6:c?o+=1e-6:c+=1e-6,g=c*f-o*u,m=o*d-l*f,x=l*u-c*d,p=g*g+m*m+x*x),p=1/Math.sqrt(p),g*=p,m*=p,x*=p,t[0]=g,t[1]=m,t[2]=x,t[3]=0,t[4]=u*x-f*m,t[5]=f*g-d*x,t[6]=d*m-u*g,t[7]=0,t[8]=d,t[9]=u,t[10]=f,t[11]=0,t[12]=i,t[13]=n,t[14]=a,t[15]=1,t}function ft(t,e,s){return t[0]=e[0]+s[0],t[1]=e[1]+s[1],t[2]=e[2]+s[2],t[3]=e[3]+s[3],t[4]=e[4]+s[4],t[5]=e[5]+s[5],t[6]=e[6]+s[6],t[7]=e[7]+s[7],t[8]=e[8]+s[8],t[9]=e[9]+s[9],t[10]=e[10]+s[10],t[11]=e[11]+s[11],t[12]=e[12]+s[12],t[13]=e[13]+s[13],t[14]=e[14]+s[14],t[15]=e[15]+s[15],t}function gt(t,e,s){return t[0]=e[0]-s[0],t[1]=e[1]-s[1],t[2]=e[2]-s[2],t[3]=e[3]-s[3],t[4]=e[4]-s[4],t[5]=e[5]-s[5],t[6]=e[6]-s[6],t[7]=e[7]-s[7],t[8]=e[8]-s[8],t[9]=e[9]-s[9],t[10]=e[10]-s[10],t[11]=e[11]-s[11],t[12]=e[12]-s[12],t[13]=e[13]-s[13],t[14]=e[14]-s[14],t[15]=e[15]-s[15],t}function Xi(t,e,s){return t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t[3]=e[3]*s,t[4]=e[4]*s,t[5]=e[5]*s,t[6]=e[6]*s,t[7]=e[7]*s,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12]*s,t[13]=e[13]*s,t[14]=e[14]*s,t[15]=e[15]*s,t}class ye extends Array{constructor(e=1,s=0,r=0,i=0,n=0,a=1,l=0,c=0,o=0,d=0,u=1,f=0,p=0,g=0,m=0,x=1){return super(e,s,r,i,n,a,l,c,o,d,u,f,p,g,m,x),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(e){this[12]=e}set y(e){this[13]=e}set z(e){this[14]=e}set w(e){this[15]=e}set(e,s,r,i,n,a,l,c,o,d,u,f,p,g,m,x){return e.length?this.copy(e):(zi(this,e,s,r,i,n,a,l,c,o,d,u,f,p,g,m,x),this)}translate(e,s=this){return Oi(this,s,e),this}rotate(e,s,r=this){return $i(this,r,e,s),this}scale(e,s=this){return Li(this,s,typeof e=="number"?[e,e,e]:e),this}add(e,s){return s?ft(this,e,s):ft(this,this,e),this}sub(e,s){return s?gt(this,e,s):gt(this,this,e),this}multiply(e,s){return e.length?s?ut(this,e,s):ut(this,this,e):Xi(this,this,e),this}identity(){return Pi(this),this}copy(e){return Fi(this,e),this}fromPerspective({fov:e,aspect:s,near:r,far:i}={}){return Wi(this,e,s,r,i),this}fromOrthogonal({left:e,right:s,bottom:r,top:i,near:n,far:a}){return Vi(this,e,s,r,i,n,a),this}fromQuaternion(e){return Ui(this,e),this}setPosition(e){return this.x=e[0],this.y=e[1],this.z=e[2],this}inverse(e=this){return ki(this,e),this}compose(e,s,r){return qi(this,e,s,r),this}decompose(e,s,r){return Di(this,e,s,r),this}getRotation(e){return Kt(e,this),this}getTranslation(e){return Ni(e,this),this}getScaling(e){return Zt(e,this),this}getMaxScaleOnAxis(){return Bi(this)}lookAt(e,s,r){return Gi(this,e,s,r),this}determinant(){return Yt(this)}fromArray(e,s=0){return this[0]=e[s],this[1]=e[s+1],this[2]=e[s+2],this[3]=e[s+3],this[4]=e[s+4],this[5]=e[s+5],this[6]=e[s+6],this[7]=e[s+7],this[8]=e[s+8],this[9]=e[s+9],this[10]=e[s+10],this[11]=e[s+11],this[12]=e[s+12],this[13]=e[s+13],this[14]=e[s+14],this[15]=e[s+15],this}toArray(e=[],s=0){return e[s]=this[0],e[s+1]=this[1],e[s+2]=this[2],e[s+3]=this[3],e[s+4]=this[4],e[s+5]=this[5],e[s+6]=this[6],e[s+7]=this[7],e[s+8]=this[8],e[s+9]=this[9],e[s+10]=this[10],e[s+11]=this[11],e[s+12]=this[12],e[s+13]=this[13],e[s+14]=this[14],e[s+15]=this[15],e}}function Yi(t,e,s="YXZ"){return s==="XYZ"?(t[1]=Math.asin(Math.min(Math.max(e[8],-1),1)),Math.abs(e[8])<.99999?(t[0]=Math.atan2(-e[9],e[10]),t[2]=Math.atan2(-e[4],e[0])):(t[0]=Math.atan2(e[6],e[5]),t[2]=0)):s==="YXZ"?(t[0]=Math.asin(-Math.min(Math.max(e[9],-1),1)),Math.abs(e[9])<.99999?(t[1]=Math.atan2(e[8],e[10]),t[2]=Math.atan2(e[1],e[5])):(t[1]=Math.atan2(-e[2],e[0]),t[2]=0)):s==="ZXY"?(t[0]=Math.asin(Math.min(Math.max(e[6],-1),1)),Math.abs(e[6])<.99999?(t[1]=Math.atan2(-e[2],e[10]),t[2]=Math.atan2(-e[4],e[5])):(t[1]=0,t[2]=Math.atan2(e[1],e[0]))):s==="ZYX"?(t[1]=Math.asin(-Math.min(Math.max(e[2],-1),1)),Math.abs(e[2])<.99999?(t[0]=Math.atan2(e[6],e[10]),t[2]=Math.atan2(e[1],e[0])):(t[0]=0,t[2]=Math.atan2(-e[4],e[5]))):s==="YZX"?(t[2]=Math.asin(Math.min(Math.max(e[1],-1),1)),Math.abs(e[1])<.99999?(t[0]=Math.atan2(-e[9],e[5]),t[1]=Math.atan2(-e[2],e[0])):(t[0]=0,t[1]=Math.atan2(e[8],e[10]))):s==="XZY"&&(t[2]=Math.asin(-Math.min(Math.max(e[4],-1),1)),Math.abs(e[4])<.99999?(t[0]=Math.atan2(e[6],e[5]),t[1]=Math.atan2(e[8],e[0])):(t[0]=Math.atan2(-e[9],e[10]),t[1]=0)),t}const pt=new ye;class Zi extends Array{constructor(e=0,s=e,r=e,i="YXZ"){super(e,s,r),this.order=i,this.onChange=()=>{},this._target=this;const n=["0","1","2"];return new Proxy(this,{set(a,l){const c=Reflect.set(...arguments);return c&&n.includes(l)&&a.onChange(),c}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set(e,s=e,r=e){return e.length?this.copy(e):(this._target[0]=e,this._target[1]=s,this._target[2]=r,this.onChange(),this)}copy(e){return this._target[0]=e[0],this._target[1]=e[1],this._target[2]=e[2],this.onChange(),this}reorder(e){return this._target.order=e,this.onChange(),this}fromRotationMatrix(e,s=this.order){return Yi(this._target,e,s),this.onChange(),this}fromQuaternion(e,s=this.order,r){return pt.fromQuaternion(e),this._target.fromRotationMatrix(pt,s),r||this.onChange(),this}fromArray(e,s=0){return this._target[0]=e[s],this._target[1]=e[s+1],this._target[2]=e[s+2],this}toArray(e=[],s=0){return e[s]=this[0],e[s+1]=this[1],e[s+2]=this[2],e}}class Ki{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new ye,this.worldMatrix=new ye,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new N,this.quaternion=new Ci,this.scale=new N(1),this.rotation=new Zi,this.up=new N(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(e,s=!0){this.parent&&e!==this.parent&&this.parent.removeChild(this,!1),this.parent=e,s&&e&&e.addChild(this,!1)}addChild(e,s=!0){~this.children.indexOf(e)||this.children.push(e),s&&e.setParent(this,!1)}removeChild(e,s=!0){~this.children.indexOf(e)&&this.children.splice(this.children.indexOf(e),1),s&&e.setParent(null,!1)}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||e)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,e=!0);for(let s=0,r=this.children.length;s<r;s++)this.children[s].updateMatrixWorld(e)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(e){if(!e(this))for(let s=0,r=this.children.length;s<r;s++)this.children[s].traverse(e)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(e,s=!1){s?this.matrix.lookAt(this.position,e,this.up):this.matrix.lookAt(e,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}function Ji(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function Qi(t,e){let s=e[0],r=e[1],i=e[2],n=e[3],a=s+s,l=r+r,c=i+i,o=s*a,d=r*a,u=r*l,f=i*a,p=i*l,g=i*c,m=n*a,x=n*l,y=n*c;return t[0]=1-u-g,t[3]=d-y,t[6]=f+x,t[1]=d+y,t[4]=1-o-g,t[7]=p-m,t[2]=f-x,t[5]=p+m,t[8]=1-o-u,t}function Hi(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function en(t,e,s,r,i,n,a,l,c,o){return t[0]=e,t[1]=s,t[2]=r,t[3]=i,t[4]=n,t[5]=a,t[6]=l,t[7]=c,t[8]=o,t}function tn(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function sn(t,e){let s=e[0],r=e[1],i=e[2],n=e[3],a=e[4],l=e[5],c=e[6],o=e[7],d=e[8],u=d*a-l*o,f=-d*n+l*c,p=o*n-a*c,g=s*u+r*f+i*p;return g?(g=1/g,t[0]=u*g,t[1]=(-d*r+i*o)*g,t[2]=(l*r-i*a)*g,t[3]=f*g,t[4]=(d*s-i*c)*g,t[5]=(-l*s+i*n)*g,t[6]=p*g,t[7]=(-o*s+r*c)*g,t[8]=(a*s-r*n)*g,t):null}function mt(t,e,s){let r=e[0],i=e[1],n=e[2],a=e[3],l=e[4],c=e[5],o=e[6],d=e[7],u=e[8],f=s[0],p=s[1],g=s[2],m=s[3],x=s[4],y=s[5],w=s[6],b=s[7],j=s[8];return t[0]=f*r+p*a+g*o,t[1]=f*i+p*l+g*d,t[2]=f*n+p*c+g*u,t[3]=m*r+x*a+y*o,t[4]=m*i+x*l+y*d,t[5]=m*n+x*c+y*u,t[6]=w*r+b*a+j*o,t[7]=w*i+b*l+j*d,t[8]=w*n+b*c+j*u,t}function rn(t,e,s){let r=e[0],i=e[1],n=e[2],a=e[3],l=e[4],c=e[5],o=e[6],d=e[7],u=e[8],f=s[0],p=s[1];return t[0]=r,t[1]=i,t[2]=n,t[3]=a,t[4]=l,t[5]=c,t[6]=f*r+p*a+o,t[7]=f*i+p*l+d,t[8]=f*n+p*c+u,t}function nn(t,e,s){let r=e[0],i=e[1],n=e[2],a=e[3],l=e[4],c=e[5],o=e[6],d=e[7],u=e[8],f=Math.sin(s),p=Math.cos(s);return t[0]=p*r+f*a,t[1]=p*i+f*l,t[2]=p*n+f*c,t[3]=p*a-f*r,t[4]=p*l-f*i,t[5]=p*c-f*n,t[6]=o,t[7]=d,t[8]=u,t}function an(t,e,s){let r=s[0],i=s[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function ln(t,e){let s=e[0],r=e[1],i=e[2],n=e[3],a=e[4],l=e[5],c=e[6],o=e[7],d=e[8],u=e[9],f=e[10],p=e[11],g=e[12],m=e[13],x=e[14],y=e[15],w=s*l-r*a,b=s*c-i*a,j=s*o-n*a,S=r*c-i*l,E=r*o-n*l,R=i*o-n*c,F=d*m-u*g,z=d*x-f*g,M=d*y-p*g,P=u*x-f*m,_=u*y-p*m,k=f*y-p*x,T=w*k-b*_+j*P+S*M-E*z+R*F;return T?(T=1/T,t[0]=(l*k-c*_+o*P)*T,t[1]=(c*M-a*k-o*z)*T,t[2]=(a*_-l*M+o*F)*T,t[3]=(i*_-r*k-n*P)*T,t[4]=(s*k-i*M+n*z)*T,t[5]=(r*M-s*_-n*F)*T,t[6]=(m*R-x*E+y*S)*T,t[7]=(x*j-g*R-y*b)*T,t[8]=(g*E-m*j+y*w)*T,t):null}class cn extends Array{constructor(e=1,s=0,r=0,i=0,n=1,a=0,l=0,c=0,o=1){return super(e,s,r,i,n,a,l,c,o),this}set(e,s,r,i,n,a,l,c,o){return e.length?this.copy(e):(en(this,e,s,r,i,n,a,l,c,o),this)}translate(e,s=this){return rn(this,s,e),this}rotate(e,s=this){return nn(this,s,e),this}scale(e,s=this){return an(this,s,e),this}multiply(e,s){return s?mt(this,e,s):mt(this,this,e),this}identity(){return tn(this),this}copy(e){return Hi(this,e),this}fromMatrix4(e){return Ji(this,e),this}fromQuaternion(e){return Qi(this,e),this}fromBasis(e,s,r){return this.set(e[0],e[1],e[2],s[0],s[1],s[2],r[0],r[1],r[2]),this}inverse(e=this){return sn(this,e),this}getNormalMatrix(e){return ln(this,e),this}}let hn=0;class on extends Ki{constructor(e,{geometry:s,program:r,mode:i=e.TRIANGLES,frustumCulled:n=!0,renderOrder:a=0}={}){super(),e.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=e,this.id=hn++,this.geometry=s,this.program=r,this.mode=i,this.frustumCulled=n,this.renderOrder=a,this.modelViewMatrix=new ye,this.normalMatrix=new cn,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(e){return this.beforeRenderCallbacks.push(e),this}onAfterRender(e){return this.afterRenderCallbacks.push(e),this}draw({camera:e}={}){e&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=e.projectionMatrix,this.program.uniforms.cameraPosition.value=e.worldPosition,this.program.uniforms.viewMatrix.value=e.viewMatrix,this.modelViewMatrix.multiply(e.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(r=>r&&r({mesh:this,camera:e}));let s=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:s}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(r=>r&&r({mesh:this,camera:e}))}}function dn(t,e){return t[0]=e[0],t[1]=e[1],t}function un(t,e,s){return t[0]=e,t[1]=s,t}function xt(t,e,s){return t[0]=e[0]+s[0],t[1]=e[1]+s[1],t}function yt(t,e,s){return t[0]=e[0]-s[0],t[1]=e[1]-s[1],t}function fn(t,e,s){return t[0]=e[0]*s[0],t[1]=e[1]*s[1],t}function gn(t,e,s){return t[0]=e[0]/s[0],t[1]=e[1]/s[1],t}function Me(t,e,s){return t[0]=e[0]*s,t[1]=e[1]*s,t}function pn(t,e){var s=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(s*s+r*r)}function mn(t,e){var s=e[0]-t[0],r=e[1]-t[1];return s*s+r*r}function vt(t){var e=t[0],s=t[1];return Math.sqrt(e*e+s*s)}function xn(t){var e=t[0],s=t[1];return e*e+s*s}function yn(t,e){return t[0]=-e[0],t[1]=-e[1],t}function vn(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function bn(t,e){var s=e[0],r=e[1],i=s*s+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function jn(t,e){return t[0]*e[0]+t[1]*e[1]}function bt(t,e){return t[0]*e[1]-t[1]*e[0]}function wn(t,e,s,r){var i=e[0],n=e[1];return t[0]=i+r*(s[0]-i),t[1]=n+r*(s[1]-n),t}function Sn(t,e,s,r,i){const n=Math.exp(-r*i);let a=e[0],l=e[1];return t[0]=s[0]+(a-s[0])*n,t[1]=s[1]+(l-s[1])*n,t}function En(t,e,s){var r=e[0],i=e[1];return t[0]=s[0]*r+s[3]*i+s[6],t[1]=s[1]*r+s[4]*i+s[7],t}function Tn(t,e,s){let r=e[0],i=e[1];return t[0]=s[0]*r+s[4]*i+s[12],t[1]=s[1]*r+s[5]*i+s[13],t}function Rn(t,e){return t[0]===e[0]&&t[1]===e[1]}class Le extends Array{constructor(e=0,s=e){return super(e,s),this}get x(){return this[0]}get y(){return this[1]}set x(e){this[0]=e}set y(e){this[1]=e}set(e,s=e){return e.length?this.copy(e):(un(this,e,s),this)}copy(e){return dn(this,e),this}add(e,s){return s?xt(this,e,s):xt(this,this,e),this}sub(e,s){return s?yt(this,e,s):yt(this,this,e),this}multiply(e){return e.length?fn(this,this,e):Me(this,this,e),this}divide(e){return e.length?gn(this,this,e):Me(this,this,1/e),this}inverse(e=this){return vn(this,e),this}len(){return vt(this)}distance(e){return e?pn(this,e):vt(this)}squaredLen(){return this.squaredDistance()}squaredDistance(e){return e?mn(this,e):xn(this)}negate(e=this){return yn(this,e),this}cross(e,s){return s?bt(e,s):bt(this,e)}scale(e){return Me(this,this,e),this}normalize(){return bn(this,this),this}dot(e){return jn(this,e)}equals(e){return Rn(this,e)}applyMatrix3(e){return En(this,this,e),this}applyMatrix4(e){return Tn(this,this,e),this}lerp(e,s){return wn(this,this,e,s),this}smoothLerp(e,s,r){return Sn(this,this,e,s,r),this}clone(){return new Le(this[0],this[1])}fromArray(e,s=0){return this[0]=e[s],this[1]=e[s+1],this}toArray(e=[],s=0){return e[s]=this[0],e[s+1]=this[1],e}}class Mn extends ii{constructor(e,{attributes:s={}}={}){Object.assign(s,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(e,s)}}const _n=`
attribute vec2 position;
void main(){gl_Position=vec4(position,0.0,1.0);}
`,An=`
#ifdef GL_ES
precision lowp float;
#endif
uniform vec2 uResolution;
uniform float uTime;
uniform float uHueShift;
uniform float uNoise;
uniform float uScan;
uniform float uScanFreq;
uniform float uWarp;
#define iTime uTime
#define iResolution uResolution

vec4 buf[8];
float rand(vec2 c){return fract(sin(dot(c,vec2(12.9898,78.233)))*43758.5453);}

mat3 rgb2yiq=mat3(0.299,0.587,0.114,0.596,-0.274,-0.322,0.211,-0.523,0.312);
mat3 yiq2rgb=mat3(1.0,0.956,0.621,1.0,-0.272,-0.647,1.0,-1.106,1.703);

vec3 hueShiftRGB(vec3 col,float deg){
    vec3 yiq=rgb2yiq*col;
    float rad=radians(deg);
    float cosh=cos(rad),sinh=sin(rad);
    vec3 yiqShift=vec3(yiq.x,yiq.y*cosh-yiq.z*sinh,yiq.y*sinh+yiq.z*cosh);
    return clamp(yiq2rgb*yiqShift,0.0,1.0);
}

vec4 sigmoid(vec4 x){return 1./(1.+exp(-x));}

vec4 cppn_fn(vec2 coordinate,float in0,float in1,float in2){
    buf[6]=vec4(coordinate.x,coordinate.y,0.3948333106474662+in0,0.36+in1);
    buf[7]=vec4(0.14+in2,sqrt(coordinate.x*coordinate.x+coordinate.y*coordinate.y),0.,0.);
    buf[0]=mat4(vec4(6.5404263,-3.6126034,0.7590882,-1.13613),vec4(2.4582713,3.1660357,1.2219609,0.06276096),vec4(-5.478085,-6.159632,1.8701609,-4.7742867),vec4(6.039214,-5.542865,-0.90925294,3.251348))*buf[6]+mat4(vec4(0.8473259,-5.722911,3.975766,1.6522468),vec4(-0.24321538,0.5839259,-1.7661959,-5.350116),vec4(0.,0.,0.,0.),vec4(0.,0.,0.,0.))*buf[7]+vec4(0.21808943,1.1243913,-1.7969975,5.0294676);
    buf[1]=mat4(vec4(-3.3522482,-6.0612736,0.55641043,-4.4719114),vec4(0.8631464,1.7432913,5.643898,1.6106541),vec4(2.4941394,-3.5012043,1.7184316,6.357333),vec4(3.310376,8.209261,1.1355612,-1.165539))*buf[6]+mat4(vec4(5.24046,-13.034365,0.009859298,15.870829),vec4(2.987511,3.129433,-0.89023495,-1.6822904),vec4(0.,0.,0.,0.),vec4(0.,0.,0.,0.))*buf[7]+vec4(-5.9457836,-6.573602,-0.8812491,1.5436668);
    buf[0]=sigmoid(buf[0]);buf[1]=sigmoid(buf[1]);
    buf[2]=mat4(vec4(-15.219568,8.095543,-2.429353,-1.9381982),vec4(-5.951362,4.3115187,2.6393783,1.274315),vec4(-7.3145227,6.7297835,5.2473326,5.9411426),vec4(5.0796127,8.979051,-1.7278991,-1.158976))*buf[6]+mat4(vec4(-11.967154,-11.608155,6.1486754,11.237008),vec4(2.124141,-6.263192,-1.7050359,-0.7021966),vec4(0.,0.,0.,0.),vec4(0.,0.,0.,0.))*buf[7]+vec4(-4.17164,-3.2281182,-4.576417,-3.6401186);
    buf[3]=mat4(vec4(3.1832156,-13.738922,1.879223,3.233465),vec4(0.64300746,12.768129,1.9141049,0.50990224),vec4(-0.049295485,4.4807224,1.4733979,1.801449),vec4(5.0039253,13.000481,3.3991797,-4.5561905))*buf[6]+mat4(vec4(-0.1285731,7.720628,-3.1425676,4.742367),vec4(0.6393625,3.714393,-0.8108378,-0.39174938),vec4(0.,0.,0.,0.),vec4(0.,0.,0.,0.))*buf[7]+vec4(-1.1811101,-21.621881,0.7851888,1.2329718);
    buf[2]=sigmoid(buf[2]);buf[3]=sigmoid(buf[3]);
    buf[4]=mat4(vec4(5.214916,-7.183024,2.7228765,2.6592617),vec4(-5.601878,-25.3591,4.067988,0.4602802),vec4(-10.57759,24.286327,21.102104,37.546658),vec4(4.3024497,-1.9625226,2.3458803,-1.372816))*buf[0]+mat4(vec4(-17.6526,-10.507558,2.2587414,12.462782),vec4(6.265566,-502.75443,-12.642513,0.9112289),vec4(-10.983244,20.741234,-9.701768,-0.7635988),vec4(5.383626,1.4819539,-4.1911616,-4.8444734))*buf[1]+mat4(vec4(12.785233,-16.345072,-0.39901125,1.7955981),vec4(-30.48365,-1.8345358,1.4542528,-1.1118771),vec4(19.872723,-7.337935,-42.941723,-98.52709),vec4(8.337645,-2.7312303,-2.2927687,-36.142323))*buf[2]+mat4(vec4(-16.298317,3.5471997,-0.44300047,-9.444417),vec4(57.5077,-35.609753,16.163465,-4.1534753),vec4(-0.07470326,-3.8656476,-7.0901804,3.1523974),vec4(-12.559385,-7.077619,1.490437,-0.8211543))*buf[3]+vec4(-7.67914,15.927437,1.3207729,-1.6686112);
    buf[5]=mat4(vec4(-1.4109162,-0.372762,-3.770383,-21.367174),vec4(-6.2103205,-9.35908,0.92529047,8.82561),vec4(11.460242,-22.348068,13.625772,-18.693201),vec4(-0.3429052,-3.9905605,-2.4626114,-0.45033523))*buf[0]+mat4(vec4(7.3481627,-4.3661838,-6.3037653,-3.868115),vec4(1.5462853,6.5488915,1.9701879,-0.58291394),vec4(6.5858274,-2.2180402,3.7127688,-1.3730392),vec4(-5.7973905,10.134961,-2.3395722,-5.965605))*buf[1]+mat4(vec4(-2.5132585,-6.6685553,-1.4029363,-0.16285264),vec4(-0.37908727,0.53738135,4.389061,-1.3024765),vec4(-0.70647055,2.0111287,-5.1659346,-3.728635),vec4(-13.562562,10.487719,-0.9173751,-2.6487076))*buf[2]+mat4(vec4(-8.645013,6.5546675,-6.3944063,-5.5933375),vec4(-0.57783127,-1.077275,36.91025,5.736769),vec4(14.283112,3.7146652,7.1452246,-4.5958776),vec4(2.7192075,3.6021907,-4.366337,-2.3653464))*buf[3]+vec4(-5.9000807,-4.329569,1.2427121,8.59503);
    buf[4]=sigmoid(buf[4]);buf[5]=sigmoid(buf[5]);
    buf[6]=mat4(vec4(-1.61102,0.7970257,1.4675229,0.20917463),vec4(-28.793737,-7.1390953,1.5025433,4.656581),vec4(-10.94861,39.66238,0.74318546,-10.095605),vec4(-0.7229728,-1.5483948,0.7301322,2.1687684))*buf[0]+mat4(vec4(3.2547753,21.489103,-1.0194173,-3.3100595),vec4(-3.7316632,-3.3792162,-7.223193,-0.23685838),vec4(13.1804495,0.7916005,5.338587,5.687114),vec4(-4.167605,-17.798311,-6.815736,-1.6451967))*buf[1]+mat4(vec4(0.604885,-7.800309,-7.213122,-2.741014),vec4(-3.522382,-0.12359311,-0.5258442,0.43852118),vec4(9.6752825,-22.853785,2.062431,0.099892326),vec4(-4.3196306,-17.730087,2.5184598,5.30267))*buf[2]+mat4(vec4(-6.545563,-15.790176,-6.0438633,-5.415399),vec4(-43.591583,28.551912,-16.00161,18.84728),vec4(4.212382,8.394307,3.0958717,8.657522),vec4(-5.0237565,-4.450633,-4.4768,-5.5010443))*buf[3]+mat4(vec4(1.6985557,-67.05806,6.897715,1.9004834),vec4(1.8680354,2.3915145,2.5231109,4.081538),vec4(11.158006,1.7294737,2.0738268,7.386411),vec4(-4.256034,-306.24686,8.258898,-17.132736))*buf[4]+mat4(vec4(1.6889864,-4.5852966,3.8534803,-6.3482175),vec4(1.3543309,-1.2640043,9.932754,2.9079645),vec4(-5.2770967,0.07150358,-0.13962056,3.3269649),vec4(28.34703,-4.918278,6.1044083,4.085355))*buf[5]+vec4(6.6818056,12.522166,-3.7075126,-4.104386);
    buf[7]=mat4(vec4(-8.265602,-4.7027016,5.098234,0.7509808),vec4(8.6507845,-17.15949,16.51939,-8.884479),vec4(-4.036479,-2.3946867,-2.6055532,-1.9866527),vec4(-2.2167742,-1.8135649,-5.9759874,4.8846445))*buf[0]+mat4(vec4(6.7790847,3.5076547,-2.8191125,-2.7028968),vec4(-5.743024,-0.27844876,1.4958696,-5.0517144),vec4(13.122226,15.735168,-2.9397483,-4.101023),vec4(-14.375265,-5.030483,-6.2599335,2.9848232))*buf[1]+mat4(vec4(4.0950394,-0.94011575,-5.674733,4.755022),vec4(4.3809423,4.8310084,1.7425908,-3.437416),vec4(2.117492,0.16342592,-104.56341,16.949184),vec4(-5.22543,-2.994248,3.8350096,-1.9364246))*buf[2]+mat4(vec4(-5.900337,1.7946124,-13.604192,-3.8060522),vec4(6.6583457,31.911177,25.164474,91.81147),vec4(11.840538,4.1503043,-0.7314397,6.768467),vec4(-6.3967767,4.034772,6.1714606,-0.32874924))*buf[3]+mat4(vec4(3.4992442,-196.91893,-8.923708,2.8142626),vec4(3.4806502,-3.1846354,5.1725626,5.1804223),vec4(-2.4009497,15.585794,1.2863957,2.0252278),vec4(-71.25271,-62.441242,-8.138444,0.50670296))*buf[4]+mat4(vec4(-12.291733,-11.176166,-7.3474145,4.390294),vec4(10.805477,5.6337385,-0.9385842,-4.7348723),vec4(-12.869276,-7.039391,5.3029537,7.5436664),vec4(1.4593618,8.91898,3.5101583,5.840625))*buf[5]+vec4(2.2415268,-6.705987,-0.98861027,-2.117676);
    buf[6]=sigmoid(buf[6]);buf[7]=sigmoid(buf[7]);
    buf[0]=mat4(vec4(1.6794263,1.3817469,2.9625452,0.),vec4(-1.8834411,-1.4806935,-3.5924516,0.),vec4(-1.3279216,-1.0918057,-2.3124623,0.),vec4(0.2662234,0.23235129,0.44178495,0.))*buf[0]+mat4(vec4(-0.6299101,-0.5945583,-0.9125601,0.),vec4(0.17828953,0.18300213,0.18182953,0.),vec4(-2.96544,-2.5819945,-4.9001055,0.),vec4(1.4195864,1.1868085,2.5176322,0.))*buf[1]+mat4(vec4(-1.2584374,-1.0552157,-2.1688404,0.),vec4(-0.7200217,-0.52666044,-1.438251,0.),vec4(0.15345335,0.15196142,0.272854,0.),vec4(0.945728,0.8861938,1.2766753,0.))*buf[2]+mat4(vec4(-2.4218085,-1.968602,-4.35166,0.),vec4(-22.683098,-18.0544,-41.954372,0.),vec4(0.63792,0.5470648,1.1078634,0.),vec4(-1.5489894,-1.3075932,-2.6444845,0.))*buf[3]+mat4(vec4(-0.49252132,-0.39877754,-0.91366625,0.),vec4(0.95609266,0.7923952,1.640221,0.),vec4(0.30616966,0.15693925,0.8639857,0.),vec4(1.1825981,0.94504964,2.176963,0.))*buf[4]+mat4(vec4(0.35446745,0.3293795,0.59547555,0.),vec4(-0.58784515,-0.48177817,-1.0614829,0.),vec4(2.5271258,1.9991658,4.6846647,0.),vec4(0.13042648,0.08864098,0.30187556,0.))*buf[5]+mat4(vec4(-1.7718065,-1.4033192,-3.3355875,0.),vec4(3.1664357,2.638297,5.378702,0.),vec4(-3.1724713,-2.6107926,-5.549295,0.),vec4(-2.851368,-2.249092,-5.3013067,0.))*buf[6]+mat4(vec4(1.5203838,1.2212278,2.8404984,0.),vec4(1.5210563,1.2651345,2.683903,0.),vec4(2.9789467,2.4364579,5.2347264,0.),vec4(2.2270417,1.8825914,3.8028636,0.))*buf[7]+vec4(-1.5468478,-3.6171484,0.24762098,0.);
    buf[0]=sigmoid(buf[0]);
    return vec4(buf[0].x,buf[0].y,buf[0].z,1.);
}

void mainImage(out vec4 fragColor,in vec2 fragCoord){
    vec2 uv=fragCoord/uResolution.xy*2.-1.;
    uv.y*=-1.;
    uv+=uWarp*vec2(sin(uv.y*6.283+uTime*0.5),cos(uv.x*6.283+uTime*0.5))*0.05;
    fragColor=cppn_fn(uv,0.1*sin(0.3*uTime),0.1*sin(0.69*uTime),0.1*sin(0.44*uTime));
}

void main(){
    vec4 col;mainImage(col,gl_FragCoord.xy);
    col.rgb=hueShiftRGB(col.rgb,uHueShift);
    float scanline_val=sin(gl_FragCoord.y*uScanFreq)*0.5+0.5;
    col.rgb*=1.-(scanline_val*scanline_val)*uScan;
    col.rgb+=(rand(gl_FragCoord.xy+uTime)-0.5)*uNoise;
    gl_FragColor=vec4(clamp(col.rgb,0.0,1.0),1.0);
}
`;function Cn({hueShift:t=0,noiseIntensity:e=0,scanlineIntensity:s=0,speed:r=.5,scanlineFrequency:i=0,warpAmount:n=0,resolutionScale:a=1}){const l=v.useRef(null);return v.useEffect(()=>{const c=l.current,o=c.parentElement,d=new di({dpr:Math.min(window.devicePixelRatio,2),canvas:c}),u=d.gl,f=new Mn(u),p=new ai(u,{vertex:_n,fragment:An,uniforms:{uTime:{value:0},uResolution:{value:new Le},uHueShift:{value:t},uNoise:{value:e},uScan:{value:s},uScanFreq:{value:i},uWarp:{value:n}}}),g=new on(u,{geometry:f,program:p}),m=()=>{const b=o.clientWidth,j=o.clientHeight;d.setSize(b*a,j*a),p.uniforms.uResolution.value.set(b,j)};window.addEventListener("resize",m),m();const x=performance.now();let y=0;const w=()=>{p.uniforms.uTime.value=(performance.now()-x)/1e3*r,p.uniforms.uHueShift.value=t,p.uniforms.uNoise.value=e,p.uniforms.uScan.value=s,p.uniforms.uScanFreq.value=i,p.uniforms.uWarp.value=n,d.render({scene:g}),y=requestAnimationFrame(w)};return w(),()=>{cancelAnimationFrame(y),window.removeEventListener("resize",m)}},[t,e,s,r,i,n,a]),h.jsx("canvas",{ref:l,className:"darkveil-canvas"})}const{Title:In}=K,Fn=()=>{const[t,e]=v.useState(!1),[s,r]=v.useState(!1),{login:i}=V(),n=ae(),a=async l=>{e(!0);try{await i(l)?(A.success("Успешная авторизация"),n("/dashboard")):A.error("Неверное имя пользователя или пароль")}catch{A.error("Ошибка авторизации")}finally{e(!1)}};return v.useEffect(()=>{const l=setTimeout(()=>r(!0),100);return()=>clearTimeout(l)},[]),h.jsxs("div",{style:{width:"100%",height:"100vh",position:"relative",background:"#0c1018"},children:[h.jsx(Cn,{}),h.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center",pointerEvents:"none"},children:h.jsxs(I,{style:{width:420,borderRadius:12,boxShadow:"0 8px 24px rgba(0,0,0,0.6)",background:"rgba(20,28,38,0.85)",pointerEvents:"all",opacity:s?1:0,transform:s?"translateY(0px)":"translateY(-20px)",transition:"opacity 0.5s ease, transform 0.5s ease",color:"#fff"},children:[h.jsxs("div",{style:{textAlign:"center",marginBottom:24},children:[h.jsx(In,{level:2,style:{color:"#fff"},children:"QA Payments"}),h.jsx("p",{style:{color:"#ccc"},children:"Войдите в свою учетную запись"})]}),h.jsxs(C,{name:"auth",onFinish:a,autoComplete:"off",children:[h.jsx(C.Item,{name:"username",rules:[{required:!0,message:"Пожалуйста, введите имя пользователя!"}],children:h.jsx(q,{className:"input-dark",prefix:h.jsx(W,{style:{color:"#fff"}}),placeholder:"Имя пользователя",size:"large",style:{background:"rgba(255,255,255,0.05)",color:"#fff",border:"none"}})}),h.jsx(C.Item,{name:"password",rules:[{required:!0,message:"Пожалуйста, введите пароль!"}],children:h.jsx(q,{className:"input-dark",prefix:h.jsx(fe,{style:{color:"#fff"}}),type:"password",placeholder:"Пароль",size:"large",style:{background:"rgba(255,255,255,0.05)",color:"#fff",border:"none"}})}),h.jsx(C.Item,{children:h.jsx(B,{type:"primary",htmlType:"submit",loading:t,block:!0,size:"large",style:{background:"#1f6f9b",borderColor:"#1f6f9b",fontWeight:600,color:"#fff"},children:"Войти"})})]}),h.jsxs("div",{style:{textAlign:"center",marginTop:16},children:[h.jsx("p",{style:{color:"#ccc"},children:h.jsx("strong",{children:"Демо учетные данные:"})}),h.jsx("p",{style:{color:"#ccc"},children:"Администратор: admin / password"}),h.jsx("p",{style:{color:"#ccc"},children:"Пользователь: user / password"})]})]})})]})},{Title:he,Text:oe}=K,de={totalTests:1247,passedTests:987,failedTests:42,runningTests:18},zn=()=>{const{user:t}=V();return h.jsxs("div",{children:[h.jsx(I,{style:{marginBottom:24},children:h.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[h.jsx(ve,{size:64,src:t==null?void 0:t.avatar,icon:h.jsx(W,{}),style:{marginRight:16}}),h.jsxs("div",{children:[h.jsxs(he,{level:3,style:{margin:0},children:["Рад видеть вас снова, ",t==null?void 0:t.username,"!"]}),h.jsx(oe,{type:"secondary",children:"Статистика по автотестам"})]})]})}),h.jsxs(Z,{gutter:[16,16],style:{marginBottom:24},children:[h.jsx($,{xs:24,sm:12,lg:6,children:h.jsx(I,{children:h.jsx(le,{title:"Всего тестов",value:de.totalTests,prefix:h.jsx(U,{}),valueStyle:{color:"#3f8600"}})})}),h.jsx($,{xs:24,sm:12,lg:6,children:h.jsx(I,{children:h.jsx(le,{title:"Пройдено",value:de.passedTests,prefix:h.jsx(St,{}),valueStyle:{color:"#3f8600"}})})}),h.jsx($,{xs:24,sm:12,lg:6,children:h.jsx(I,{children:h.jsx(le,{title:"Провалено",value:de.failedTests,prefix:h.jsx(Et,{}),valueStyle:{color:"#cf1322"}})})}),h.jsx($,{xs:24,sm:12,lg:6,children:h.jsx(I,{children:h.jsx(le,{title:"Выполняется",value:de.runningTests,prefix:h.jsx(Tt,{spin:!0}),valueStyle:{color:"#1890ff"}})})})]}),h.jsxs(Z,{gutter:[16,16],style:{marginBottom:24},children:[h.jsx($,{xs:24,lg:16,children:h.jsx(I,{title:"Результаты тестов по дням",extra:h.jsx(U,{style:{color:"#1890ff"}}),children:h.jsx("div",{style:{textAlign:"center",padding:"40px 0"},children:h.jsxs(L,{direction:"vertical",size:"large",children:[h.jsx(U,{style:{fontSize:48,color:"#1890ff"}}),h.jsxs("div",{children:[h.jsx(he,{level:4,style:{margin:0},children:"График результатов тестов"}),h.jsx(oe,{type:"secondary",children:"Столбчатая диаграмма с результатами тестов по дням"})]})]})})})}),h.jsx($,{xs:24,lg:8,children:h.jsx(I,{title:"Статусы тестов",extra:h.jsx(pe,{style:{color:"#ff4d4f"}}),children:h.jsx("div",{style:{textAlign:"center",padding:"40px 0"},children:h.jsxs(L,{direction:"vertical",size:"large",children:[h.jsx(pe,{style:{fontSize:48,color:"#ff4d4f"}}),h.jsxs("div",{children:[h.jsx(he,{level:4,style:{margin:0},children:"Распределение статусов"}),h.jsx(oe,{type:"secondary",children:"Круговая диаграмма с распределением статусов тестов"})]})]})})})})]}),h.jsx(Z,{gutter:[16,16],children:h.jsx($,{xs:24,children:h.jsx(I,{title:"Динамика тестов",extra:h.jsx(me,{style:{color:"#52c41a"}}),children:h.jsx("div",{style:{textAlign:"center",padding:"40px 0"},children:h.jsxs(L,{direction:"vertical",size:"large",children:[h.jsx(me,{style:{fontSize:48,color:"#52c41a"}}),h.jsxs("div",{children:[h.jsx(he,{level:4,style:{margin:0},children:"Динамика прохождения тестов"}),h.jsx(oe,{type:"secondary",children:"Линейный график с динамикой прохождения тестов"})]})]})})})})})]})},{Title:ue,Text:D}=K,Pn=[{id:"at-bk",name:"AT: BK",status:"completed",progress:100,tests:124,failed:2},{id:"at-pb",name:"AT: PB",status:"running",progress:65,tests:89,failed:1},{id:"at-nyse",name:"AT: NYSE",status:"stopped",progress:0,tests:0,failed:0},{id:"at-lse",name:"AT: LSE",status:"error",progress:30,tests:56,failed:5},{id:"at-tse",name:"AT: TSE",status:"completed",progress:100,tests:78,failed:0},{id:"at-fwb",name:"AT: FWB",status:"completed",progress:100,tests:92,failed:3}],kn=t=>{switch(t){case"completed":return{color:"success",text:"Завершено",icon:h.jsx(U,{})};case"running":return{color:"processing",text:"Выполняется",icon:h.jsx(_t,{spin:!0})};case"stopped":return{color:"default",text:"Остановлено",icon:h.jsx(Rt,{})};case"error":return{color:"error",text:"Ошибки",icon:h.jsx(U,{})};default:return{color:"default",text:"Неизвестно",icon:null}}},On=()=>{const[t,e]=v.useState(Pn),s=i=>{const n=t.find(a=>a.id===i);n&&n.status!=="running"?(e(a=>a.map(l=>l.id===i?{...l,status:"running",progress:0}:l)),A.success(`Запущены тесты для ${n.name}`)):A.warning("Тесты уже выполняются для этого рынка")},r=i=>{const n=t.find(a=>a.id===i);n&&n.status==="running"?(e(a=>a.map(l=>l.id===i?{...l,status:"stopped",progress:0}:l)),A.success(`Остановлены тесты для ${n.name}`)):A.warning("Нет активных тестов для остановки")};return h.jsxs("div",{children:[h.jsx(ue,{level:2,children:"Автотесты и запуск"}),h.jsx(Z,{gutter:[16,16],style:{marginBottom:24},children:t.map(i=>{const n=kn(i.status);return h.jsx($,{xs:24,sm:12,lg:8,children:h.jsx(I,{title:h.jsxs(L,{children:[n.icon,h.jsx("span",{children:i.name})]}),extra:h.jsx(Mt,{color:n.color,children:n.text}),actions:[h.jsx(B,{type:"primary",icon:h.jsx(ss,{}),onClick:()=>s(i.id),disabled:i.status==="running",children:"Запустить"},"start"),h.jsx(B,{danger:!0,icon:h.jsx(Rt,{}),onClick:()=>r(i.id),disabled:i.status!=="running",children:"Остановить"},"stop")],children:h.jsxs(L,{direction:"vertical",style:{width:"100%"},children:[h.jsxs("div",{children:[h.jsx(D,{strong:!0,children:"Прогресс: "}),h.jsx(ts,{percent:i.progress,status:i.status==="error"?"exception":"normal"})]}),h.jsxs("div",{children:[h.jsx(D,{strong:!0,children:"Тестов: "}),h.jsx(D,{children:i.tests})]}),h.jsxs("div",{children:[h.jsx(D,{strong:!0,children:"Провалено: "}),h.jsx(D,{type:"danger",children:i.failed})]})]})})},i.id)})}),h.jsxs(Z,{gutter:[16,16],children:[h.jsx($,{xs:24,lg:12,children:h.jsx(I,{title:"Статистика запусков",extra:h.jsx(U,{}),children:h.jsx("div",{style:{textAlign:"center",padding:"40px 0"},children:h.jsxs(L,{direction:"vertical",size:"large",children:[h.jsx(U,{style:{fontSize:48,color:"#1890ff"}}),h.jsxs("div",{children:[h.jsx(ue,{level:4,style:{margin:0},children:"График запусков тестов по рынкам"}),h.jsx(D,{type:"secondary",children:"Столбчатая диаграмма с количеством запусков по рынкам"})]})]})})})}),h.jsx($,{xs:24,lg:12,children:h.jsx(I,{title:"Частота падений",extra:h.jsx(pe,{}),children:h.jsx("div",{style:{textAlign:"center",padding:"40px 0"},children:h.jsxs(L,{direction:"vertical",size:"large",children:[h.jsx(pe,{style:{fontSize:48,color:"#ff4d4f"}}),h.jsxs("div",{children:[h.jsx(ue,{level:4,style:{margin:0},children:"Диаграмма частоты падений тестов"}),h.jsx(D,{type:"secondary",children:"Круговая диаграмма с частотой падений тестов"})]})]})})})})]}),h.jsx(Z,{gutter:[16,16],style:{marginTop:24},children:h.jsx($,{xs:24,children:h.jsx(I,{title:"Динамика тестов",extra:h.jsx(me,{}),children:h.jsx("div",{style:{textAlign:"center",padding:"40px 0"},children:h.jsxs(L,{direction:"vertical",size:"large",children:[h.jsx(me,{style:{fontSize:48,color:"#52c41a"}}),h.jsxs("div",{children:[h.jsx(ue,{level:4,style:{margin:0},children:"График общей динамики прохождения тестов"}),h.jsx(D,{type:"secondary",children:"Линейный график с динамикой прохождения тестов"})]})]})})})})})]})},Ln=[{id:"market-1",name:"AT: BK",code:"BK"},{id:"market-2",name:"AT: PB",code:"PB"},{id:"market-3",name:"AT: NYSE",code:"NYSE"},{id:"market-4",name:"AT: LSE",code:"LSE"},{id:"market-5",name:"AT: TSE",code:"TSE"},{id:"market-6",name:"AT: FWB",code:"FWB"}],$n=[{id:"run-1",marketId:"market-1",status:"completed",progress:100,totalTests:124,passedTests:122,failedTests:2,startTime:"2023-07-15T10:00:00Z",endTime:"2023-07-15T10:15:00Z"},{id:"run-2",marketId:"market-2",status:"running",progress:65,totalTests:89,passedTests:58,failedTests:1,startTime:"2023-07-15T10:30:00Z"},{id:"run-3",marketId:"market-4",status:"failed",progress:30,totalTests:56,passedTests:12,failedTests:5,startTime:"2023-07-15T09:45:00Z",endTime:"2023-07-15T10:05:00Z"}],Nn=[{id:"result-1",testRunId:"run-1",testName:"LoginTest",expected:"Success",actual:"Success",status:"passed",timestamp:"2023-07-15T10:01:00Z"},{id:"result-2",testRunId:"run-1",testName:"PortfolioTest",expected:"Success",actual:"Failed",status:"failed",errorMessage:"Timeout exceeded",timestamp:"2023-07-15T10:02:30Z"},{id:"result-3",testRunId:"run-2",testName:"OrderTest",expected:"Success",actual:"Success",status:"passed",timestamp:"2023-07-15T10:31:15Z"},{id:"result-4",testRunId:"run-2",testName:"MarginTest",expected:"Success",actual:"Running",status:"running",timestamp:"2023-07-15T10:40:30Z"}],Bn=()=>{const t=ke(),{markets:e,testRuns:s,testResults:r,loading:i,error:n}=Oe(o=>o.autotests);return v.useEffect(()=>{t(qs(Ln)),t(We($n)),t(Ve(Nn))},[t]),v.useEffect(()=>{const o=localStorage.getItem("testRuns"),d=localStorage.getItem("testResults");if(o)try{const u=JSON.parse(o);t(We(u))}catch(u){console.error("Ошибка при парсинге testRuns из localStorage",u)}if(d)try{const u=JSON.parse(d);t(Ve(u))}catch(u){console.error("Ошибка при парсинге testResults из localStorage",u)}},[t]),v.useEffect(()=>{localStorage.setItem("testRuns",JSON.stringify(s))},[s]),v.useEffect(()=>{localStorage.setItem("testResults",JSON.stringify(r))},[r]),{markets:e,testRuns:s,testResults:r,loading:i,error:n,startTestRun:o=>{if(s.find(f=>f.marketId===o&&f.status==="running"))return;const u={id:`run-${Date.now()}`,marketId:o,status:"running",progress:0,totalTests:Math.floor(Math.random()*100)+50,passedTests:0,failedTests:0,startTime:new Date().toISOString()};t(Us(u))},stopTestRun:o=>{const d=s.find(u=>u.id===o);d&&t(Ws({...d,status:"stopped",endTime:new Date().toISOString()}))},rerunTest:o=>{const d=r.find(u=>u.id===o);d&&d.status!=="running"&&(t(Ge({...d,status:"running",actual:"Running"})),setTimeout(()=>{const u=Math.random()>.3;t(Ge({...d,status:u?"passed":"failed",actual:u?"Success":"Failed",errorMessage:u?void 0:"Test failed due to timeout"}))},3e3))}}},{Title:Dn,Text:ha}=K,jt=t=>{switch(t){case"passed":return{color:"success",text:"Пройден",icon:h.jsx(St,{})};case"failed":return{color:"error",text:"Провален",icon:h.jsx(is,{})};case"running":return{color:"processing",text:"Выполняется",icon:h.jsx(Tt,{spin:!0})};default:return{color:"default",text:"Неизвестно",icon:null}}},qn=()=>{const{markets:t,testResults:e,rerunTest:s}=Bn(),r=a=>{const l=e.find(c=>c.id===a);if(l){if(l.status==="running"){A.warning("Тест уже выполняется");return}s(a),A.success(`Перезапущен тест: ${l.testName}`)}},i=a=>{const l=t.find(c=>c.id===a);return l?l.name:a},n=[{title:"Рынок",dataIndex:"marketId",key:"marketId",render:a=>i(a)},{title:"Название теста",dataIndex:"testName",key:"testName"},{title:"Ожидаемый результат",dataIndex:"expected",key:"expected"},{title:"Фактический результат",dataIndex:"actual",key:"actual",render:(a,l)=>{const c=jt(l.status);return h.jsxs(L,{children:[c.icon,h.jsx("span",{children:a})]})}},{title:"Статус",dataIndex:"status",key:"status",render:a=>{const l=jt(a);return h.jsx(Mt,{color:l.color,icon:l.icon,className:a==="running"?"status-tag processing":"status-tag",children:l.text})}},{title:"Время запуска",dataIndex:"timestamp",key:"timestamp",render:a=>new Date(a).toLocaleString()},{title:"Действия",key:"actions",render:(a,l)=>h.jsx(B,{type:"primary",icon:h.jsx(_t,{}),onClick:()=>r(l.id),disabled:l.status==="running",size:"small",children:"Перезапустить"})}];return h.jsxs("div",{children:[h.jsx(Dn,{level:2,children:"Результаты автотестов"}),h.jsx(I,{children:h.jsx(rs,{dataSource:e,columns:n,pagination:{pageSize:10},rowKey:"id"})})]})},{Title:Un,Text:Wn}=K,{Option:Vn}=At,Gn=[{id:"at-bk",name:"AT: BK"},{id:"at-pb",name:"AT: PB"},{id:"at-nyse",name:"AT: NYSE"},{id:"at-lse",name:"AT: LSE"},{id:"at-tse",name:"AT: TSE"},{id:"at-fwb",name:"AT: FWB"}],Xn=()=>{const[t]=C.useForm(),[e,s]=v.useState(!1),[r,i]=v.useState(null),n=async l=>{s(!0),i(null);try{if(!l.market)throw new Error("Пожалуйста, выберите рынок");if(!l.transactionId||l.transactionId.trim()==="")throw new Error("Пожалуйста, введите номер транзакции");if(await new Promise(c=>setTimeout(c,1500)),Math.random()<.3)throw new Error("Ошибка сервера. Пожалуйста, попробуйте позже.");A.success("Коллбэк успешно отправлен"),t.resetFields()}catch(c){const o=c instanceof Error?c.message:"Произошла неизвестная ошибка";i(o),A.error(o)}finally{s(!1)}},a=()=>{A.error("Пожалуйста, заполните все обязательные поля")};return h.jsxs("div",{children:[h.jsx(Un,{level:2,children:"Отправить коллбэк"}),h.jsx(I,{children:h.jsxs(C,{form:t,name:"callback",onFinish:n,onFinishFailed:a,layout:"vertical",children:[h.jsx(C.Item,{label:"Рынок",name:"market",rules:[{required:!0,message:"Пожалуйста, выберите рынок!"}],children:h.jsx(At,{placeholder:"Выберите рынок",size:"large",children:Gn.map(l=>h.jsx(Vn,{value:l.id,children:l.name},l.id))})}),h.jsx(C.Item,{label:"Номер транзакции",name:"transactionId",rules:[{required:!0,message:"Пожалуйста, введите номер транзакции!"},{pattern:/^\d+$/,message:"Номер транзакции должен содержать только цифры"}],children:h.jsx(q,{placeholder:"Введите номер транзакции",size:"large"})}),r&&h.jsx("div",{style:{background:"#fff2f0",border:"1px solid #ffccc7",padding:12,borderRadius:4,marginBottom:16},children:h.jsxs(L,{children:[h.jsx(ns,{style:{color:"#ff4d4f"}}),h.jsx(Wn,{type:"danger",children:r})]})}),h.jsx(C.Item,{children:h.jsx(B,{type:"primary",htmlType:"submit",loading:e,icon:h.jsx(Ct,{}),size:"large",children:"Отправить коллбэк"})})]})})]})},{Title:Yn}=K,Zn=()=>{const{user:t}=V(),[e,s]=v.useState(!1),[r,i]=v.useState((t==null?void 0:t.avatar)||"");ae();const n=async c=>{s(!0);try{await new Promise(o=>setTimeout(o,1e3)),A.success("Профиль успешно обновлен")}catch{A.error("Ошибка обновления профиля")}finally{s(!1)}},a=async c=>{if(c.newPassword!==c.confirmNewPassword){A.error("Пароли не совпадают");return}s(!0);try{await new Promise(o=>setTimeout(o,1e3)),A.success("Пароль успешно изменен")}catch{A.error("Ошибка изменения пароля")}finally{s(!1)}},l=c=>{c.file.status==="done"?(i("https://api.dicebear.com/7.x/miniavs/svg?seed="+Math.floor(Math.random()*100)),A.success("Аватар успешно загружен")):c.file.status==="error"&&A.error("Ошибка загрузки аватара")};return h.jsxs("div",{children:[h.jsx(Yn,{level:2,children:"Настройки аккаунта"}),h.jsx(I,{children:h.jsxs(L,{align:"start",style:{marginBottom:24},children:[h.jsx(ve,{size:100,src:r,icon:h.jsx(W,{})}),h.jsxs("div",{children:[h.jsx(as,{showUploadList:!1,beforeUpload:()=>!1,onChange:l,children:h.jsx(B,{icon:h.jsx(ls,{}),children:"Изменить аватар"})}),h.jsx("p",{style:{marginTop:8,color:"#888"},children:"JPG, PNG или GIF, макс. 2MB"})]})]})}),h.jsx(I,{title:"Информация профиля",style:{marginTop:24},children:h.jsxs(C,{name:"profile",onFinish:n,layout:"vertical",initialValues:{username:t==null?void 0:t.username,email:t==null?void 0:t.email},children:[h.jsx(C.Item,{label:"Имя пользователя",name:"username",rules:[{required:!0,message:"Пожалуйста, введите имя пользователя!"}],children:h.jsx(q,{prefix:h.jsx(W,{}),size:"large"})}),h.jsx(C.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Пожалуйста, введите email!"},{type:"email",message:"Пожалуйста, введите корректный email!"}],children:h.jsx(q,{size:"large"})}),h.jsx(C.Item,{children:h.jsx(B,{type:"primary",htmlType:"submit",loading:e,icon:h.jsx($e,{}),size:"large",children:"Сохранить изменения"})})]})}),h.jsx(I,{title:"Изменение пароля",style:{marginTop:24},children:h.jsxs(C,{name:"password",onFinish:a,layout:"vertical",children:[h.jsx(C.Item,{label:"Текущий пароль",name:"oldPassword",rules:[{required:!0,message:"Пожалуйста, введите текущий пароль!"}],children:h.jsx(q.Password,{prefix:h.jsx(fe,{}),size:"large"})}),h.jsx(C.Item,{label:"Новый пароль",name:"newPassword",rules:[{required:!0,message:"Пожалуйста, введите новый пароль!"}],children:h.jsx(q.Password,{prefix:h.jsx(fe,{}),size:"large"})}),h.jsx(C.Item,{label:"Подтвердите новый пароль",name:"confirmNewPassword",rules:[{required:!0,message:"Пожалуйста, подтвердите новый пароль!"}],children:h.jsx(q.Password,{prefix:h.jsx(fe,{}),size:"large"})}),h.jsx(C.Item,{children:h.jsx(B,{type:"primary",htmlType:"submit",loading:e,icon:h.jsx($e,{}),size:"large",children:"Изменить пароль"})})]})})]})},H=({children:t,allowedRoles:e})=>{const{isAuth:s,user:r}=V();return s?e&&r&&!e.includes(r.role)?h.jsxs("div",{style:{padding:24,textAlign:"center"},children:[h.jsx("h2",{children:"Доступ запрещен"}),h.jsx("p",{children:"У вас нет прав для просмотра этой страницы."})]}):h.jsx(h.Fragment,{children:t}):h.jsx(ge,{to:"/auth",replace:!0})},Kn=()=>h.jsxs("div",{style:{padding:24,textAlign:"center"},children:[h.jsx("h2",{children:"Страница не найдена"}),h.jsx("p",{children:"Запрашиваемая страница не существует."})]}),wt=({isAuth:t})=>(V(),wr([{path:"/",element:t?h.jsx(ge,{to:"/dashboard"}):h.jsx(ge,{to:"/auth"})},{path:"/auth",element:t?h.jsx(ge,{to:"/dashboard"}):h.jsx(Fn,{})},{path:"/dashboard",element:h.jsx(H,{children:h.jsx(zn,{})})},{path:"/autotests",element:h.jsx(H,{allowedRoles:["admin"],children:h.jsx(On,{})})},{path:"/test-results",element:h.jsx(H,{allowedRoles:["admin"],children:h.jsx(qn,{})})},{path:"/callback",element:h.jsx(H,{allowedRoles:["admin","user"],children:h.jsx(Xn,{})})},{path:"/account",element:h.jsx(H,{allowedRoles:["admin","user"],children:h.jsx(Zn,{})})},{path:"*",element:h.jsx(Kn,{})}])),{Sider:Jn}=te,Qn=[{key:"/dashboard",icon:h.jsx(ds,{}),label:"Дашборд",path:"/dashboard",roles:["admin","user"]},{key:"/autotests",icon:h.jsx(Et,{}),label:"Автотесты",path:"/autotests",roles:["admin"]},{key:"/test-results",icon:h.jsx(U,{}),label:"Результаты тестов",path:"/test-results",roles:["admin"]},{key:"/callback",icon:h.jsx(Ct,{}),label:"Отправить коллбэк",path:"/callback",roles:["admin","user"]},{key:"/account",icon:h.jsx(W,{}),label:"Аккаунт",path:"/account",roles:["admin","user"]}],Hn=({collapsed:t,setCollapsed:e})=>{var p;const s=ae(),r=be(),{user:i}=V(),n=()=>e(!t),a=Qn.filter(g=>i&&g.roles.includes(i.role)),l=a.findIndex(g=>g.path==="/account"),c=l!==-1?a[l]:null,o=a.filter(g=>g.path!=="/account"),d=((p=a.find(g=>r.pathname===g.path||r.pathname.startsWith(g.path+"/")))==null?void 0:p.path)||void 0,u=({key:g})=>{s(String(g))},f=()=>{c&&s(c.path)};return h.jsxs(Jn,{trigger:null,collapsible:!0,collapsed:t,collapsedWidth:64,width:250,style:{display:"flex",flexDirection:"column",height:"100vh",position:"fixed",left:0,top:0,bottom:0,zIndex:100,background:"#0b1b2b",boxShadow:"2px 0 8px rgba(0,0,0,0.15)",transition:"width 0.3s ease"},children:[h.jsxs("div",{style:{height:64,display:"flex",alignItems:"center",justifyContent:t?"center":"space-between",padding:"0 12px",transition:"all 0.3s ease"},children:[!t&&h.jsx("div",{style:{color:"white",fontWeight:700,fontSize:18,opacity:t?0:1,transition:"opacity 0.3s ease"},children:"QA Payments"}),h.jsx(B,{type:"primary",onClick:n,"aria-label":t?"Развернуть меню":"Свернуть меню",style:{height:40,minWidth:40,padding:0,borderRadius:8,background:"#1f6f9b",borderColor:"#1f6f9b",boxShadow:"0 1px 0 rgba(0,0,0,0.12)",display:"flex",alignItems:"center",justifyContent:"center"},icon:t?h.jsx(cs,{style:{fontSize:16,color:"white"}}):h.jsx(hs,{style:{fontSize:16,color:"white"}})})]}),h.jsx("div",{style:{flex:1,overflow:"auto",padding:"8px 8px 0 8px"},children:h.jsx(os,{theme:"dark",mode:"inline",selectedKeys:d?[d]:[],onClick:u,items:o.map(g=>({key:g.path,icon:g.icon,label:g.label,style:{fontSize:16,fontWeight:600,paddingLeft:12}})),style:{background:"transparent",border:"none",color:"#e6f7ff",paddingTop:8,lineHeight:"40px",userSelect:"none"}})}),c&&h.jsx("div",{style:{padding:"12px",borderTop:"1px solid rgba(255,255,255,0.04)",display:"flex",alignItems:"center",justifyContent:t?"center":"flex-start"},children:h.jsxs("div",{role:"button",tabIndex:0,onClick:f,onKeyDown:g=>{(g.key==="Enter"||g.key===" ")&&(g.preventDefault(),f())},"aria-label":"Перейти в аккаунт",style:{height:48,width:t?48:"100%",maxWidth:220,padding:t?0:"0 12px",borderRadius:8,background:d===c.path?"rgba(30,144,255,0.12)":"transparent",display:"flex",alignItems:"center",justifyContent:t?"center":"flex-start",gap:12,cursor:"pointer",transition:"all 0.3s ease",outline:"none",userSelect:"none"},onMouseEnter:g=>{!t&&d!==c.path&&(g.currentTarget.style.background="rgba(255,255,255,0.05)")},onMouseLeave:g=>{!t&&d!==c.path&&(g.currentTarget.style.background="transparent")},children:[h.jsx("div",{style:{flexShrink:0,width:40,height:40,borderRadius:"50%",overflow:"hidden",border:"2px solid #1f6f9b",background:"#17364a"},children:h.jsx(ve,{src:i==null?void 0:i.avatar,icon:h.jsx(W,{}),size:40,style:{width:"100%",height:"100%",display:"block"},shape:"circle"})}),!t&&h.jsx("span",{style:{color:"#e6f7ff",fontWeight:600,fontSize:16,whiteSpace:"nowrap"},children:c.label})]})})]})},{Header:ea}=te,ta=()=>{const{user:t,logout:e}=V(),{isDarkTheme:s,toggleTheme:r}=Gt(),i=ae(),l={items:[{key:"/account",icon:h.jsx(W,{}),label:"Профиль"},{key:"/settings",icon:h.jsx(vs,{}),label:"Настройки"},{type:"divider"},{key:"/logout",icon:h.jsx(bs,{}),label:"Выйти"}],onClick:c=>{const{key:o}=c,d=String(o);if(d==="/logout"){e();return}i(d)}};return h.jsxs(ea,{style:{padding:"0 20px",display:"flex",alignItems:"center",justifyContent:"space-between",position:"sticky",top:0,zIndex:99,height:64,background:s?"#001529":"#ffffff",borderBottom:"1px solid rgba(0,0,0,0.06)"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16},children:[h.jsx("div",{style:{width:40,height:40,borderRadius:8,background:"#d915f3ff",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700},children:"QA"}),h.jsx("div",{style:{display:"flex",flexDirection:"column",lineHeight:1},children:h.jsx("div",{style:{fontWeight:600,fontSize:28},children:"Autotest"})})]}),h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[h.jsx(us,{title:"Уведомления",children:h.jsx(B,{type:"text",icon:h.jsx(fs,{})})}),h.jsx(gs,{checked:s,onChange:r,checkedChildren:h.jsx(ms,{}),unCheckedChildren:h.jsx(ps,{})}),h.jsx(xs,{menu:l,trigger:["click"],children:h.jsx(ys,{dot:!1,children:h.jsxs(L,{style:{cursor:"pointer",alignItems:"center"},children:[h.jsx(ve,{src:t==null?void 0:t.avatar,icon:h.jsx(W,{})}),h.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[h.jsx("div",{style:{fontWeight:600},children:(t==null?void 0:t.username)||"Гость"}),h.jsx("div",{style:{fontSize:12,color:"rgba(0,0,0,0.45)"},children:(t==null?void 0:t.role)||""})]})]})})})]})]})},{Content:sa}=te,ra=({children:t})=>{const[e,s]=v.useState(!1);return h.jsxs(te,{style:{minHeight:"100vh"},children:[h.jsx(Hn,{collapsed:e,setCollapsed:s}),h.jsxs(te,{className:e?"collapsed":"",style:{marginLeft:e?80:250,transition:"margin-left 0.2s"},children:[h.jsx(ta,{}),h.jsx(sa,{style:{margin:"24px 16px 0",overflow:"initial",paddingTop:24},children:h.jsx("div",{className:"main-content",children:t})})]})]})},ia=()=>{const{isDarkTheme:t}=Gt(),{isAuth:e}=V();return h.jsx(js,{theme:{algorithm:t?Ne.darkAlgorithm:Ne.defaultAlgorithm},children:h.jsx(Nr,{children:e?h.jsx(ra,{children:h.jsx(wt,{isAuth:e})}):h.jsx(wt,{isAuth:e})})})},na=Is.createRoot(document.getElementById("root"));na.render(h.jsx(ws.StrictMode,{children:h.jsx(Rs,{store:Gs,children:h.jsx(ia,{})})}));
