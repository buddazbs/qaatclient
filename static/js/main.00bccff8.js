"use strict";(self.webpackChunkitstartup_admin=self.webpackChunkitstartup_admin||[]).push([[792],{6736:(e,t,n)=>{var r,s=n(4922),i=n(7810),a=n(4140),o=n(1633),l=n(7930),c=function(){try{var e=sessionStorage.getItem("auth");if(e){var t=JSON.parse(e);return{user:t.user,token:t.token,isAuthenticated:!0,loading:!1,error:null}}}catch(e){}return{user:null,token:null,isAuthenticated:!1,loading:!1,error:null}}(),u=(0,l.Z0)({name:"@@app/auth",initialState:c,reducers:{loginStart:function(e){e.loading=!0,e.error=null},loginSuccess:function(e,t){e.loading=!1,e.isAuthenticated=!0,e.user=t.payload.user,e.token=t.payload.token,sessionStorage.setItem("auth",JSON.stringify({user:t.payload.user,token:t.payload.token}))},loginFailure:function(e,t){e.loading=!1,e.error=t.payload},logout:function(e){e.user=null,e.token=null,e.isAuthenticated=!1,sessionStorage.removeItem("auth")},updateProfile:function(e,t){e.user=t.payload;var n=sessionStorage.getItem("auth");if(n){var r=JSON.parse(n);r.user=t.payload,sessionStorage.setItem("auth",JSON.stringify(r))}}}}),d=(r=u.actions).loginStart,f=r.loginSuccess,h=r.loginFailure,p=r.logout;r.updateProfile;const v=u.reducer;var m,x={isDarkMode:"dark"===localStorage.getItem("theme")},g=(0,l.Z0)({name:"@@app/theme",initialState:x,reducers:{toggleTheme:function(e){e.isDarkMode=!e.isDarkMode,localStorage.setItem("theme",e.isDarkMode?"dark":"light")},setTheme:function(e,t){e.isDarkMode=t.payload,localStorage.setItem("theme",t.payload?"dark":"light")}}}),y=(m=g.actions).toggleTheme;m.setTheme;const j=g.reducer;var b,A=(0,l.Z0)({name:"@@app/autotests",initialState:{markets:[],testRuns:[],testResults:[],loading:!1,error:null},reducers:{setMarkets:function(e,t){e.markets=t.payload},setTestRuns:function(e,t){e.testRuns=t.payload},setTestResults:function(e,t){e.testResults=t.payload},addTestRun:function(e,t){e.testRuns.unshift(t.payload)},updateTestRun:function(e,t){var n=e.testRuns.findIndex(function(e){return e.id===t.payload.id});-1!==n&&(e.testRuns[n]=t.payload)},addTestResult:function(e,t){e.testResults.unshift(t.payload)},updateTestResult:function(e,t){var n=e.testResults.findIndex(function(e){return e.id===t.payload.id});-1!==n&&(e.testResults[n]=t.payload)},setLoading:function(e,t){e.loading=t.payload},setError:function(e,t){e.error=t.payload}}}),w=(b=A.actions).setMarkets,k=b.setTestRuns,T=b.setTestResults,S=b.addTestRun,I=b.updateTestRun,R=(b.addTestResult,b.updateTestResult);b.setLoading,b.setError;const O=A.reducer;var z=(0,l.U1)({reducer:{auth:v,theme:j,autotests:O}});var P=n(1342),E=n(4932),C=n(6052),N=o.wA,q=o.d4,F=function(){var e=N(),t=q(function(e){return e.theme.isDarkMode});(0,i.useEffect)(function(){document.documentElement.setAttribute("data-theme",t?"dark":"light")},[t]);return{isDarkTheme:t,toggleTheme:function(){e(y())}}},B=n(8689),M=n(4096),W=n(9184),D=n(2414),Z=n(4809),L=n(6173),_=n(6317),G=n(8430),H=n(7321),J=function(e,t,n,r){return new(n||(n=Promise))(function(s,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function o(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})},K=function(e,t){var n,r,s,i,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(a=0)),a;)try{if(n=1,r&&(s=2&o[0]?r.return:o[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,o[1])).done)return s;switch(r=0,s&&(o=[2&o[0],s.value]),o[0]){case 0:case 1:s=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(s=a.trys,(s=s.length>0&&s[s.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!s||o[1]>s[0]&&o[1]<s[3])){a.label=o[1];break}if(6===o[0]&&a.label<s[1]){a.label=s[1],s=o;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(o);break}s[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=s=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Y=[{id:"1",username:"admin",email:"admin@example.com",role:"admin",avatar:"https://api.dicebear.com/7.x/miniavs/svg?seed=1"},{id:"2",username:"user",email:"user@example.com",role:"user",avatar:"https://api.dicebear.com/7.x/miniavs/svg?seed=2"}],Q=function(){var e=N(),t=q(function(e){return e.auth});return{user:t.user,isAuth:t.isAuthenticated,loading:t.loading,error:t.error,login:function(t){return J(void 0,void 0,Promise,function(){var n,r,s,i;return K(this,function(a){switch(a.label){case 0:e(d()),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,new Promise(function(e){return setTimeout(e,500)})];case 2:return a.sent(),(n=Y.find(function(e){return e.username===t.username&&"password"===t.password}))?(r="mock-jwt-token-".concat(n.id),e(f({user:n,token:r})),[2,!0]):(e(h("Неверное имя пользователя или пароль")),[2,!1]);case 3:return s=a.sent(),i=s instanceof Error?s.message:"Произошла неизвестная ошибка",e(h(i)),[2,!1];case 4:return[2]}})})},logout:function(){e(p())}}},U=n(1096),V=n(1051),$=n(2279),X=n(4385),ee=n(6727);function te(e){var t=e.hueShift,n=void 0===t?0:t,r=e.noiseIntensity,a=void 0===r?0:r,o=e.scanlineIntensity,l=void 0===o?0:o,c=e.speed,u=void 0===c?.5:c,d=e.scanlineFrequency,f=void 0===d?0:d,h=e.warpAmount,p=void 0===h?0:h,v=e.resolutionScale,m=void 0===v?1:v,x=(0,i.useRef)(null);return(0,i.useEffect)(function(){var e=x.current,t=e.parentElement,r=new U.A({dpr:Math.min(window.devicePixelRatio,2),canvas:e}),s=r.gl,i=new V.l(s),o=new $.B(s,{vertex:"\nattribute vec2 position;\nvoid main(){gl_Position=vec4(position,0.0,1.0);}\n",fragment:"\n#ifdef GL_ES\nprecision lowp float;\n#endif\nuniform vec2 uResolution;\nuniform float uTime;\nuniform float uHueShift;\nuniform float uNoise;\nuniform float uScan;\nuniform float uScanFreq;\nuniform float uWarp;\n#define iTime uTime\n#define iResolution uResolution\n\nvec4 buf[8];\nfloat rand(vec2 c){return fract(sin(dot(c,vec2(12.9898,78.233)))*43758.5453);}\n\nmat3 rgb2yiq=mat3(0.299,0.587,0.114,0.596,-0.274,-0.322,0.211,-0.523,0.312);\nmat3 yiq2rgb=mat3(1.0,0.956,0.621,1.0,-0.272,-0.647,1.0,-1.106,1.703);\n\nvec3 hueShiftRGB(vec3 col,float deg){\n    vec3 yiq=rgb2yiq*col;\n    float rad=radians(deg);\n    float cosh=cos(rad),sinh=sin(rad);\n    vec3 yiqShift=vec3(yiq.x,yiq.y*cosh-yiq.z*sinh,yiq.y*sinh+yiq.z*cosh);\n    return clamp(yiq2rgb*yiqShift,0.0,1.0);\n}\n\nvec4 sigmoid(vec4 x){return 1./(1.+exp(-x));}\n\nvec4 cppn_fn(vec2 coordinate,float in0,float in1,float in2){\n    buf[6]=vec4(coordinate.x,coordinate.y,0.3948333106474662+in0,0.36+in1);\n    buf[7]=vec4(0.14+in2,sqrt(coordinate.x*coordinate.x+coordinate.y*coordinate.y),0.,0.);\n    buf[0]=mat4(vec4(6.5404263,-3.6126034,0.7590882,-1.13613),vec4(2.4582713,3.1660357,1.2219609,0.06276096),vec4(-5.478085,-6.159632,1.8701609,-4.7742867),vec4(6.039214,-5.542865,-0.90925294,3.251348))*buf[6]+mat4(vec4(0.8473259,-5.722911,3.975766,1.6522468),vec4(-0.24321538,0.5839259,-1.7661959,-5.350116),vec4(0.,0.,0.,0.),vec4(0.,0.,0.,0.))*buf[7]+vec4(0.21808943,1.1243913,-1.7969975,5.0294676);\n    buf[1]=mat4(vec4(-3.3522482,-6.0612736,0.55641043,-4.4719114),vec4(0.8631464,1.7432913,5.643898,1.6106541),vec4(2.4941394,-3.5012043,1.7184316,6.357333),vec4(3.310376,8.209261,1.1355612,-1.165539))*buf[6]+mat4(vec4(5.24046,-13.034365,0.009859298,15.870829),vec4(2.987511,3.129433,-0.89023495,-1.6822904),vec4(0.,0.,0.,0.),vec4(0.,0.,0.,0.))*buf[7]+vec4(-5.9457836,-6.573602,-0.8812491,1.5436668);\n    buf[0]=sigmoid(buf[0]);buf[1]=sigmoid(buf[1]);\n    buf[2]=mat4(vec4(-15.219568,8.095543,-2.429353,-1.9381982),vec4(-5.951362,4.3115187,2.6393783,1.274315),vec4(-7.3145227,6.7297835,5.2473326,5.9411426),vec4(5.0796127,8.979051,-1.7278991,-1.158976))*buf[6]+mat4(vec4(-11.967154,-11.608155,6.1486754,11.237008),vec4(2.124141,-6.263192,-1.7050359,-0.7021966),vec4(0.,0.,0.,0.),vec4(0.,0.,0.,0.))*buf[7]+vec4(-4.17164,-3.2281182,-4.576417,-3.6401186);\n    buf[3]=mat4(vec4(3.1832156,-13.738922,1.879223,3.233465),vec4(0.64300746,12.768129,1.9141049,0.50990224),vec4(-0.049295485,4.4807224,1.4733979,1.801449),vec4(5.0039253,13.000481,3.3991797,-4.5561905))*buf[6]+mat4(vec4(-0.1285731,7.720628,-3.1425676,4.742367),vec4(0.6393625,3.714393,-0.8108378,-0.39174938),vec4(0.,0.,0.,0.),vec4(0.,0.,0.,0.))*buf[7]+vec4(-1.1811101,-21.621881,0.7851888,1.2329718);\n    buf[2]=sigmoid(buf[2]);buf[3]=sigmoid(buf[3]);\n    buf[4]=mat4(vec4(5.214916,-7.183024,2.7228765,2.6592617),vec4(-5.601878,-25.3591,4.067988,0.4602802),vec4(-10.57759,24.286327,21.102104,37.546658),vec4(4.3024497,-1.9625226,2.3458803,-1.372816))*buf[0]+mat4(vec4(-17.6526,-10.507558,2.2587414,12.462782),vec4(6.265566,-502.75443,-12.642513,0.9112289),vec4(-10.983244,20.741234,-9.701768,-0.7635988),vec4(5.383626,1.4819539,-4.1911616,-4.8444734))*buf[1]+mat4(vec4(12.785233,-16.345072,-0.39901125,1.7955981),vec4(-30.48365,-1.8345358,1.4542528,-1.1118771),vec4(19.872723,-7.337935,-42.941723,-98.52709),vec4(8.337645,-2.7312303,-2.2927687,-36.142323))*buf[2]+mat4(vec4(-16.298317,3.5471997,-0.44300047,-9.444417),vec4(57.5077,-35.609753,16.163465,-4.1534753),vec4(-0.07470326,-3.8656476,-7.0901804,3.1523974),vec4(-12.559385,-7.077619,1.490437,-0.8211543))*buf[3]+vec4(-7.67914,15.927437,1.3207729,-1.6686112);\n    buf[5]=mat4(vec4(-1.4109162,-0.372762,-3.770383,-21.367174),vec4(-6.2103205,-9.35908,0.92529047,8.82561),vec4(11.460242,-22.348068,13.625772,-18.693201),vec4(-0.3429052,-3.9905605,-2.4626114,-0.45033523))*buf[0]+mat4(vec4(7.3481627,-4.3661838,-6.3037653,-3.868115),vec4(1.5462853,6.5488915,1.9701879,-0.58291394),vec4(6.5858274,-2.2180402,3.7127688,-1.3730392),vec4(-5.7973905,10.134961,-2.3395722,-5.965605))*buf[1]+mat4(vec4(-2.5132585,-6.6685553,-1.4029363,-0.16285264),vec4(-0.37908727,0.53738135,4.389061,-1.3024765),vec4(-0.70647055,2.0111287,-5.1659346,-3.728635),vec4(-13.562562,10.487719,-0.9173751,-2.6487076))*buf[2]+mat4(vec4(-8.645013,6.5546675,-6.3944063,-5.5933375),vec4(-0.57783127,-1.077275,36.91025,5.736769),vec4(14.283112,3.7146652,7.1452246,-4.5958776),vec4(2.7192075,3.6021907,-4.366337,-2.3653464))*buf[3]+vec4(-5.9000807,-4.329569,1.2427121,8.59503);\n    buf[4]=sigmoid(buf[4]);buf[5]=sigmoid(buf[5]);\n    buf[6]=mat4(vec4(-1.61102,0.7970257,1.4675229,0.20917463),vec4(-28.793737,-7.1390953,1.5025433,4.656581),vec4(-10.94861,39.66238,0.74318546,-10.095605),vec4(-0.7229728,-1.5483948,0.7301322,2.1687684))*buf[0]+mat4(vec4(3.2547753,21.489103,-1.0194173,-3.3100595),vec4(-3.7316632,-3.3792162,-7.223193,-0.23685838),vec4(13.1804495,0.7916005,5.338587,5.687114),vec4(-4.167605,-17.798311,-6.815736,-1.6451967))*buf[1]+mat4(vec4(0.604885,-7.800309,-7.213122,-2.741014),vec4(-3.522382,-0.12359311,-0.5258442,0.43852118),vec4(9.6752825,-22.853785,2.062431,0.099892326),vec4(-4.3196306,-17.730087,2.5184598,5.30267))*buf[2]+mat4(vec4(-6.545563,-15.790176,-6.0438633,-5.415399),vec4(-43.591583,28.551912,-16.00161,18.84728),vec4(4.212382,8.394307,3.0958717,8.657522),vec4(-5.0237565,-4.450633,-4.4768,-5.5010443))*buf[3]+mat4(vec4(1.6985557,-67.05806,6.897715,1.9004834),vec4(1.8680354,2.3915145,2.5231109,4.081538),vec4(11.158006,1.7294737,2.0738268,7.386411),vec4(-4.256034,-306.24686,8.258898,-17.132736))*buf[4]+mat4(vec4(1.6889864,-4.5852966,3.8534803,-6.3482175),vec4(1.3543309,-1.2640043,9.932754,2.9079645),vec4(-5.2770967,0.07150358,-0.13962056,3.3269649),vec4(28.34703,-4.918278,6.1044083,4.085355))*buf[5]+vec4(6.6818056,12.522166,-3.7075126,-4.104386);\n    buf[7]=mat4(vec4(-8.265602,-4.7027016,5.098234,0.7509808),vec4(8.6507845,-17.15949,16.51939,-8.884479),vec4(-4.036479,-2.3946867,-2.6055532,-1.9866527),vec4(-2.2167742,-1.8135649,-5.9759874,4.8846445))*buf[0]+mat4(vec4(6.7790847,3.5076547,-2.8191125,-2.7028968),vec4(-5.743024,-0.27844876,1.4958696,-5.0517144),vec4(13.122226,15.735168,-2.9397483,-4.101023),vec4(-14.375265,-5.030483,-6.2599335,2.9848232))*buf[1]+mat4(vec4(4.0950394,-0.94011575,-5.674733,4.755022),vec4(4.3809423,4.8310084,1.7425908,-3.437416),vec4(2.117492,0.16342592,-104.56341,16.949184),vec4(-5.22543,-2.994248,3.8350096,-1.9364246))*buf[2]+mat4(vec4(-5.900337,1.7946124,-13.604192,-3.8060522),vec4(6.6583457,31.911177,25.164474,91.81147),vec4(11.840538,4.1503043,-0.7314397,6.768467),vec4(-6.3967767,4.034772,6.1714606,-0.32874924))*buf[3]+mat4(vec4(3.4992442,-196.91893,-8.923708,2.8142626),vec4(3.4806502,-3.1846354,5.1725626,5.1804223),vec4(-2.4009497,15.585794,1.2863957,2.0252278),vec4(-71.25271,-62.441242,-8.138444,0.50670296))*buf[4]+mat4(vec4(-12.291733,-11.176166,-7.3474145,4.390294),vec4(10.805477,5.6337385,-0.9385842,-4.7348723),vec4(-12.869276,-7.039391,5.3029537,7.5436664),vec4(1.4593618,8.91898,3.5101583,5.840625))*buf[5]+vec4(2.2415268,-6.705987,-0.98861027,-2.117676);\n    buf[6]=sigmoid(buf[6]);buf[7]=sigmoid(buf[7]);\n    buf[0]=mat4(vec4(1.6794263,1.3817469,2.9625452,0.),vec4(-1.8834411,-1.4806935,-3.5924516,0.),vec4(-1.3279216,-1.0918057,-2.3124623,0.),vec4(0.2662234,0.23235129,0.44178495,0.))*buf[0]+mat4(vec4(-0.6299101,-0.5945583,-0.9125601,0.),vec4(0.17828953,0.18300213,0.18182953,0.),vec4(-2.96544,-2.5819945,-4.9001055,0.),vec4(1.4195864,1.1868085,2.5176322,0.))*buf[1]+mat4(vec4(-1.2584374,-1.0552157,-2.1688404,0.),vec4(-0.7200217,-0.52666044,-1.438251,0.),vec4(0.15345335,0.15196142,0.272854,0.),vec4(0.945728,0.8861938,1.2766753,0.))*buf[2]+mat4(vec4(-2.4218085,-1.968602,-4.35166,0.),vec4(-22.683098,-18.0544,-41.954372,0.),vec4(0.63792,0.5470648,1.1078634,0.),vec4(-1.5489894,-1.3075932,-2.6444845,0.))*buf[3]+mat4(vec4(-0.49252132,-0.39877754,-0.91366625,0.),vec4(0.95609266,0.7923952,1.640221,0.),vec4(0.30616966,0.15693925,0.8639857,0.),vec4(1.1825981,0.94504964,2.176963,0.))*buf[4]+mat4(vec4(0.35446745,0.3293795,0.59547555,0.),vec4(-0.58784515,-0.48177817,-1.0614829,0.),vec4(2.5271258,1.9991658,4.6846647,0.),vec4(0.13042648,0.08864098,0.30187556,0.))*buf[5]+mat4(vec4(-1.7718065,-1.4033192,-3.3355875,0.),vec4(3.1664357,2.638297,5.378702,0.),vec4(-3.1724713,-2.6107926,-5.549295,0.),vec4(-2.851368,-2.249092,-5.3013067,0.))*buf[6]+mat4(vec4(1.5203838,1.2212278,2.8404984,0.),vec4(1.5210563,1.2651345,2.683903,0.),vec4(2.9789467,2.4364579,5.2347264,0.),vec4(2.2270417,1.8825914,3.8028636,0.))*buf[7]+vec4(-1.5468478,-3.6171484,0.24762098,0.);\n    buf[0]=sigmoid(buf[0]);\n    return vec4(buf[0].x,buf[0].y,buf[0].z,1.);\n}\n\nvoid mainImage(out vec4 fragColor,in vec2 fragCoord){\n    vec2 uv=fragCoord/uResolution.xy*2.-1.;\n    uv.y*=-1.;\n    uv+=uWarp*vec2(sin(uv.y*6.283+uTime*0.5),cos(uv.x*6.283+uTime*0.5))*0.05;\n    fragColor=cppn_fn(uv,0.1*sin(0.3*uTime),0.1*sin(0.69*uTime),0.1*sin(0.44*uTime));\n}\n\nvoid main(){\n    vec4 col;mainImage(col,gl_FragCoord.xy);\n    col.rgb=hueShiftRGB(col.rgb,uHueShift);\n    float scanline_val=sin(gl_FragCoord.y*uScanFreq)*0.5+0.5;\n    col.rgb*=1.-(scanline_val*scanline_val)*uScan;\n    col.rgb+=(rand(gl_FragCoord.xy+uTime)-0.5)*uNoise;\n    gl_FragColor=vec4(clamp(col.rgb,0.0,1.0),1.0);\n}\n",uniforms:{uTime:{value:0},uResolution:{value:new X.Z},uHueShift:{value:n},uNoise:{value:a},uScan:{value:l},uScanFreq:{value:f},uWarp:{value:p}}}),c=new ee.e(s,{geometry:i,program:o}),d=function(){var e=t.clientWidth,n=t.clientHeight;r.setSize(e*m,n*m),o.uniforms.uResolution.value.set(e,n)};window.addEventListener("resize",d),d();var h=performance.now(),v=0,g=function(){o.uniforms.uTime.value=(performance.now()-h)/1e3*u,o.uniforms.uHueShift.value=n,o.uniforms.uNoise.value=a,o.uniforms.uScan.value=l,o.uniforms.uScanFreq.value=f,o.uniforms.uWarp.value=p,r.render({scene:c}),v=requestAnimationFrame(g)};return g(),function(){cancelAnimationFrame(v),window.removeEventListener("resize",d)}},[n,a,l,u,f,p,m]),(0,s.jsx)("canvas",{ref:x,className:"darkveil-canvas"})}var ne=function(){return ne=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},ne.apply(this,arguments)},re=function(e,t,n,r){return new(n||(n=Promise))(function(s,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function o(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})},se=function(e,t){var n,r,s,i,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(a=0)),a;)try{if(n=1,r&&(s=2&o[0]?r.return:o[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,o[1])).done)return s;switch(r=0,s&&(o=[2&o[0],s.value]),o[0]){case 0:case 1:s=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(s=a.trys,(s=s.length>0&&s[s.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!s||o[1]>s[0]&&o[1]<s[3])){a.label=o[1];break}if(6===o[0]&&a.label<s[1]){a.label=s[1],s=o;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(o);break}s[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=s=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},ie=M.A.Title,ae=function(){var e=(0,i.useState)(!1),t=e[0],n=e[1],r=(0,i.useState)(!1),a=r[0],o=r[1],l=Q().login,c=(0,B.Zp)();return(0,i.useEffect)(function(){var e=setTimeout(function(){return o(!0)},100);return function(){return clearTimeout(e)}},[]),(0,s.jsxs)("div",ne({style:{width:"100%",height:"100vh",position:"relative",background:"#0c1018"}},{children:[(0,s.jsx)(te,{}),(0,s.jsx)("div",ne({style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center",pointerEvents:"none"}},{children:(0,s.jsxs)(D.A,ne({style:{width:420,borderRadius:12,boxShadow:"0 8px 24px rgba(0,0,0,0.6)",background:"rgba(20,28,38,0.85)",pointerEvents:"all",opacity:a?1:0,transform:a?"translateY(0px)":"translateY(-20px)",transition:"opacity 0.5s ease, transform 0.5s ease",color:"#fff"}},{children:[(0,s.jsxs)("div",ne({style:{textAlign:"center",marginBottom:24}},{children:[(0,s.jsx)(ie,ne({level:2,style:{color:"#fff"}},{children:"QA Payments"})),(0,s.jsx)("p",ne({style:{color:"#ccc"}},{children:"Войдите в свою учетную запись"}))]})),(0,s.jsxs)(Z.A,ne({name:"auth",onFinish:function(e){return re(void 0,void 0,void 0,function(){return se(this,function(t){switch(t.label){case 0:n(!0),t.label=1;case 1:return t.trys.push([1,3,4,5]),[4,l(e)];case 2:return t.sent()?(W.Ay.success("Успешная авторизация"),c("/dashboard")):W.Ay.error("Неверное имя пользователя или пароль"),[3,5];case 3:return t.sent(),W.Ay.error("Ошибка авторизации"),[3,5];case 4:return n(!1),[7];case 5:return[2]}})})},autoComplete:"off"},{children:[(0,s.jsx)(Z.A.Item,ne({name:"username",rules:[{required:!0,message:"Пожалуйста, введите имя пользователя!"}]},{children:(0,s.jsx)(L.A,{className:"input-dark",prefix:(0,s.jsx)(G.A,{style:{color:"#fff"}}),placeholder:"Имя пользователя",size:"large",style:{background:"rgba(255,255,255,0.05)",color:"#fff",border:"none"}})})),(0,s.jsx)(Z.A.Item,ne({name:"password",rules:[{required:!0,message:"Пожалуйста, введите пароль!"}]},{children:(0,s.jsx)(L.A,{className:"input-dark",prefix:(0,s.jsx)(H.A,{style:{color:"#fff"}}),type:"password",placeholder:"Пароль",size:"large",style:{background:"rgba(255,255,255,0.05)",color:"#fff",border:"none"}})})),(0,s.jsx)(Z.A.Item,{children:(0,s.jsx)(_.Ay,ne({type:"primary",htmlType:"submit",loading:t,block:!0,size:"large",style:{background:"#1f6f9b",borderColor:"#1f6f9b",fontWeight:600,color:"#fff"}},{children:"Войти"}))})]})),(0,s.jsxs)("div",ne({style:{textAlign:"center",marginTop:16}},{children:[(0,s.jsx)("p",ne({style:{color:"#ccc"}},{children:(0,s.jsx)("strong",{children:"Демо учетные данные:"})})),(0,s.jsx)("p",ne({style:{color:"#ccc"}},{children:"Администратор: admin / password"})),(0,s.jsx)("p",ne({style:{color:"#ccc"}},{children:"Пользователь: user / password"}))]}))]}))}))]}))},oe=n(9113),le=n(4362),ce=n(4504),ue=n(1838),de=n(2897),fe=n(5997),he=n(8837),pe=n(1470),ve=n(8478),me=n(4458),xe=n(7678),ge=function(){return ge=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},ge.apply(this,arguments)},ye=M.A.Title,je=M.A.Text,be=1247,Ae=987,we=42,ke=18,Te=function(){var e=Q().user;return(0,s.jsxs)("div",{children:[(0,s.jsx)(D.A,ge({style:{marginBottom:24}},{children:(0,s.jsxs)("div",ge({style:{display:"flex",alignItems:"center"}},{children:[(0,s.jsx)(oe.A,{size:64,src:null==e?void 0:e.avatar,icon:(0,s.jsx)(G.A,{}),style:{marginRight:16}}),(0,s.jsxs)("div",{children:[(0,s.jsxs)(ye,ge({level:3,style:{margin:0}},{children:["Рад видеть вас снова, ",null==e?void 0:e.username,"!"]})),(0,s.jsx)(je,ge({type:"secondary"},{children:"Статистика по автотестам"}))]})]}))})),(0,s.jsxs)(le.A,ge({gutter:[16,16],style:{marginBottom:24}},{children:[(0,s.jsx)(ce.A,ge({xs:24,sm:12,lg:6},{children:(0,s.jsx)(D.A,{children:(0,s.jsx)(ue.A,{title:"Всего тестов",value:be,prefix:(0,s.jsx)(fe.A,{}),valueStyle:{color:"#3f8600"}})})})),(0,s.jsx)(ce.A,ge({xs:24,sm:12,lg:6},{children:(0,s.jsx)(D.A,{children:(0,s.jsx)(ue.A,{title:"Пройдено",value:Ae,prefix:(0,s.jsx)(he.A,{}),valueStyle:{color:"#3f8600"}})})})),(0,s.jsx)(ce.A,ge({xs:24,sm:12,lg:6},{children:(0,s.jsx)(D.A,{children:(0,s.jsx)(ue.A,{title:"Провалено",value:we,prefix:(0,s.jsx)(pe.A,{}),valueStyle:{color:"#cf1322"}})})})),(0,s.jsx)(ce.A,ge({xs:24,sm:12,lg:6},{children:(0,s.jsx)(D.A,{children:(0,s.jsx)(ue.A,{title:"Выполняется",value:ke,prefix:(0,s.jsx)(ve.A,{spin:!0}),valueStyle:{color:"#1890ff"}})})}))]})),(0,s.jsxs)(le.A,ge({gutter:[16,16],style:{marginBottom:24}},{children:[(0,s.jsx)(ce.A,ge({xs:24,lg:16},{children:(0,s.jsx)(D.A,ge({title:"Результаты тестов по дням",extra:(0,s.jsx)(fe.A,{style:{color:"#1890ff"}})},{children:(0,s.jsx)("div",ge({style:{textAlign:"center",padding:"40px 0"}},{children:(0,s.jsxs)(de.A,ge({direction:"vertical",size:"large"},{children:[(0,s.jsx)(fe.A,{style:{fontSize:48,color:"#1890ff"}}),(0,s.jsxs)("div",{children:[(0,s.jsx)(ye,ge({level:4,style:{margin:0}},{children:"График результатов тестов"})),(0,s.jsx)(je,ge({type:"secondary"},{children:"Столбчатая диаграмма с результатами тестов по дням"}))]})]}))}))}))})),(0,s.jsx)(ce.A,ge({xs:24,lg:8},{children:(0,s.jsx)(D.A,ge({title:"Статусы тестов",extra:(0,s.jsx)(me.A,{style:{color:"#ff4d4f"}})},{children:(0,s.jsx)("div",ge({style:{textAlign:"center",padding:"40px 0"}},{children:(0,s.jsxs)(de.A,ge({direction:"vertical",size:"large"},{children:[(0,s.jsx)(me.A,{style:{fontSize:48,color:"#ff4d4f"}}),(0,s.jsxs)("div",{children:[(0,s.jsx)(ye,ge({level:4,style:{margin:0}},{children:"Распределение статусов"})),(0,s.jsx)(je,ge({type:"secondary"},{children:"Круговая диаграмма с распределением статусов тестов"}))]})]}))}))}))}))]})),(0,s.jsx)(le.A,ge({gutter:[16,16]},{children:(0,s.jsx)(ce.A,ge({xs:24},{children:(0,s.jsx)(D.A,ge({title:"Динамика тестов",extra:(0,s.jsx)(xe.A,{style:{color:"#52c41a"}})},{children:(0,s.jsx)("div",ge({style:{textAlign:"center",padding:"40px 0"}},{children:(0,s.jsxs)(de.A,ge({direction:"vertical",size:"large"},{children:[(0,s.jsx)(xe.A,{style:{fontSize:48,color:"#52c41a"}}),(0,s.jsxs)("div",{children:[(0,s.jsx)(ye,ge({level:4,style:{margin:0}},{children:"Динамика прохождения тестов"})),(0,s.jsx)(je,ge({type:"secondary"},{children:"Линейный график с динамикой прохождения тестов"}))]})]}))}))}))}))}))]})},Se=n(4587),Ie=n(8110),Re=n(1297),Oe=n(3169),ze=n(2994),Pe=function(){return Pe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},Pe.apply(this,arguments)},Ee=M.A.Title,Ce=M.A.Text,Ne=[{id:"at-bk",name:"AT: BK",status:"completed",progress:100,tests:124,failed:2},{id:"at-pb",name:"AT: PB",status:"running",progress:65,tests:89,failed:1},{id:"at-nyse",name:"AT: NYSE",status:"stopped",progress:0,tests:0,failed:0},{id:"at-lse",name:"AT: LSE",status:"error",progress:30,tests:56,failed:5},{id:"at-tse",name:"AT: TSE",status:"completed",progress:100,tests:78,failed:0},{id:"at-fwb",name:"AT: FWB",status:"completed",progress:100,tests:92,failed:3}],qe=function(){var e=(0,i.useState)(Ne),t=e[0],n=e[1];return(0,s.jsxs)("div",{children:[(0,s.jsx)(Ee,Pe({level:2},{children:"Автотесты и запуск"})),(0,s.jsx)(le.A,Pe({gutter:[16,16],style:{marginBottom:24}},{children:t.map(function(e){var r=function(e){switch(e){case"completed":return{color:"success",text:"Завершено",icon:(0,s.jsx)(fe.A,{})};case"running":return{color:"processing",text:"Выполняется",icon:(0,s.jsx)(Re.A,{spin:!0})};case"stopped":return{color:"default",text:"Остановлено",icon:(0,s.jsx)(Oe.A,{})};case"error":return{color:"error",text:"Ошибки",icon:(0,s.jsx)(fe.A,{})};default:return{color:"default",text:"Неизвестно",icon:null}}}(e.status);return(0,s.jsx)(ce.A,Pe({xs:24,sm:12,lg:8},{children:(0,s.jsx)(D.A,Pe({title:(0,s.jsxs)(de.A,{children:[r.icon,(0,s.jsx)("span",{children:e.name})]}),extra:(0,s.jsx)(Se.A,Pe({color:r.color},{children:r.text})),actions:[(0,s.jsx)(_.Ay,Pe({type:"primary",icon:(0,s.jsx)(ze.A,{}),onClick:function(){return function(e){var r=t.find(function(t){return t.id===e});r&&"running"!==r.status?(n(function(t){return t.map(function(t){return t.id===e?Pe(Pe({},t),{status:"running",progress:0}):t})}),W.Ay.success("Запущены тесты для ".concat(r.name))):W.Ay.warning("Тесты уже выполняются для этого рынка")}(e.id)},disabled:"running"===e.status},{children:"Запустить"}),"start"),(0,s.jsx)(_.Ay,Pe({danger:!0,icon:(0,s.jsx)(Oe.A,{}),onClick:function(){return function(e){var r=t.find(function(t){return t.id===e});r&&"running"===r.status?(n(function(t){return t.map(function(t){return t.id===e?Pe(Pe({},t),{status:"stopped",progress:0}):t})}),W.Ay.success("Остановлены тесты для ".concat(r.name))):W.Ay.warning("Нет активных тестов для остановки")}(e.id)},disabled:"running"!==e.status},{children:"Остановить"}),"stop")]},{children:(0,s.jsxs)(de.A,Pe({direction:"vertical",style:{width:"100%"}},{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(Ce,Pe({strong:!0},{children:"Прогресс: "})),(0,s.jsx)(Ie.A,{percent:e.progress,status:"error"===e.status?"exception":"normal"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(Ce,Pe({strong:!0},{children:"Тестов: "})),(0,s.jsx)(Ce,{children:e.tests})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(Ce,Pe({strong:!0},{children:"Провалено: "})),(0,s.jsx)(Ce,Pe({type:"danger"},{children:e.failed}))]})]}))}))}),e.id)})})),(0,s.jsxs)(le.A,Pe({gutter:[16,16]},{children:[(0,s.jsx)(ce.A,Pe({xs:24,lg:12},{children:(0,s.jsx)(D.A,Pe({title:"Статистика запусков",extra:(0,s.jsx)(fe.A,{})},{children:(0,s.jsx)("div",Pe({style:{textAlign:"center",padding:"40px 0"}},{children:(0,s.jsxs)(de.A,Pe({direction:"vertical",size:"large"},{children:[(0,s.jsx)(fe.A,{style:{fontSize:48,color:"#1890ff"}}),(0,s.jsxs)("div",{children:[(0,s.jsx)(Ee,Pe({level:4,style:{margin:0}},{children:"График запусков тестов по рынкам"})),(0,s.jsx)(Ce,Pe({type:"secondary"},{children:"Столбчатая диаграмма с количеством запусков по рынкам"}))]})]}))}))}))})),(0,s.jsx)(ce.A,Pe({xs:24,lg:12},{children:(0,s.jsx)(D.A,Pe({title:"Частота падений",extra:(0,s.jsx)(me.A,{})},{children:(0,s.jsx)("div",Pe({style:{textAlign:"center",padding:"40px 0"}},{children:(0,s.jsxs)(de.A,Pe({direction:"vertical",size:"large"},{children:[(0,s.jsx)(me.A,{style:{fontSize:48,color:"#ff4d4f"}}),(0,s.jsxs)("div",{children:[(0,s.jsx)(Ee,Pe({level:4,style:{margin:0}},{children:"Диаграмма частоты падений тестов"})),(0,s.jsx)(Ce,Pe({type:"secondary"},{children:"Круговая диаграмма с частотой падений тестов"}))]})]}))}))}))}))]})),(0,s.jsx)(le.A,Pe({gutter:[16,16],style:{marginTop:24}},{children:(0,s.jsx)(ce.A,Pe({xs:24},{children:(0,s.jsx)(D.A,Pe({title:"Динамика тестов",extra:(0,s.jsx)(xe.A,{})},{children:(0,s.jsx)("div",Pe({style:{textAlign:"center",padding:"40px 0"}},{children:(0,s.jsxs)(de.A,Pe({direction:"vertical",size:"large"},{children:[(0,s.jsx)(xe.A,{style:{fontSize:48,color:"#52c41a"}}),(0,s.jsxs)("div",{children:[(0,s.jsx)(Ee,Pe({level:4,style:{margin:0}},{children:"График общей динамики прохождения тестов"})),(0,s.jsx)(Ce,Pe({type:"secondary"},{children:"Линейный график с динамикой прохождения тестов"}))]})]}))}))}))}))}))]})},Fe=n(244),Be=n(8282),Me=[{id:"market-1",name:"AT: BK",code:"BK"},{id:"market-2",name:"AT: PB",code:"PB"},{id:"market-3",name:"AT: NYSE",code:"NYSE"},{id:"market-4",name:"AT: LSE",code:"LSE"},{id:"market-5",name:"AT: TSE",code:"TSE"},{id:"market-6",name:"AT: FWB",code:"FWB"}],We=[{id:"run-1",marketId:"market-1",status:"completed",progress:100,totalTests:124,passedTests:122,failedTests:2,startTime:"2023-07-15T10:00:00Z",endTime:"2023-07-15T10:15:00Z"},{id:"run-2",marketId:"market-2",status:"running",progress:65,totalTests:89,passedTests:58,failedTests:1,startTime:"2023-07-15T10:30:00Z"},{id:"run-3",marketId:"market-4",status:"failed",progress:30,totalTests:56,passedTests:12,failedTests:5,startTime:"2023-07-15T09:45:00Z",endTime:"2023-07-15T10:05:00Z"}],De=[{id:"result-1",testRunId:"run-1",testName:"LoginTest",expected:"Success",actual:"Success",status:"passed",timestamp:"2023-07-15T10:01:00Z"},{id:"result-2",testRunId:"run-1",testName:"PortfolioTest",expected:"Success",actual:"Failed",status:"failed",errorMessage:"Timeout exceeded",timestamp:"2023-07-15T10:02:30Z"},{id:"result-3",testRunId:"run-2",testName:"OrderTest",expected:"Success",actual:"Success",status:"passed",timestamp:"2023-07-15T10:31:15Z"},{id:"result-4",testRunId:"run-2",testName:"MarginTest",expected:"Success",actual:"Running",status:"running",timestamp:"2023-07-15T10:40:30Z"}],Ze=function(){return Ze=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},Ze.apply(this,arguments)},Le=function(){return Le=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},Le.apply(this,arguments)},_e=M.A.Title,Ge=(M.A.Text,function(e){switch(e){case"passed":return{color:"success",text:"Пройден",icon:(0,s.jsx)(he.A,{})};case"failed":return{color:"error",text:"Провален",icon:(0,s.jsx)(Be.A,{})};case"running":return{color:"processing",text:"Выполняется",icon:(0,s.jsx)(ve.A,{spin:!0})};default:return{color:"default",text:"Неизвестно",icon:null}}}),He=function(){var e=function(){var e=N(),t=q(function(e){return e.autotests}),n=t.markets,r=t.testRuns,s=t.testResults,a=t.loading,o=t.error;return(0,i.useEffect)(function(){e(w(Me)),e(k(We)),e(T(De))},[e]),(0,i.useEffect)(function(){var t=localStorage.getItem("testRuns"),n=localStorage.getItem("testResults");if(t)try{var r=JSON.parse(t);e(k(r))}catch(e){console.error("Ошибка при парсинге testRuns из localStorage",e)}if(n)try{var s=JSON.parse(n);e(T(s))}catch(e){console.error("Ошибка при парсинге testResults из localStorage",e)}},[e]),(0,i.useEffect)(function(){localStorage.setItem("testRuns",JSON.stringify(r))},[r]),(0,i.useEffect)(function(){localStorage.setItem("testResults",JSON.stringify(s))},[s]),{markets:n,testRuns:r,testResults:s,loading:a,error:o,startTestRun:function(t){if(!r.find(function(e){return e.marketId===t&&"running"===e.status})){var n={id:"run-".concat(Date.now()),marketId:t,status:"running",progress:0,totalTests:Math.floor(100*Math.random())+50,passedTests:0,failedTests:0,startTime:(new Date).toISOString()};e(S(n))}},stopTestRun:function(t){var n=r.find(function(e){return e.id===t});n&&e(I(Ze(Ze({},n),{status:"stopped",endTime:(new Date).toISOString()})))},rerunTest:function(t){var n=s.find(function(e){return e.id===t});n&&"running"!==n.status&&(e(R(Ze(Ze({},n),{status:"running",actual:"Running"}))),setTimeout(function(){var t=Math.random()>.3;e(R(Ze(Ze({},n),{status:t?"passed":"failed",actual:t?"Success":"Failed",errorMessage:t?void 0:"Test failed due to timeout"})))},3e3))}}}(),t=e.markets,n=e.testResults,r=e.rerunTest,a=[{title:"Рынок",dataIndex:"marketId",key:"marketId",render:function(e){return function(e){var n=t.find(function(t){return t.id===e});return n?n.name:e}(e)}},{title:"Название теста",dataIndex:"testName",key:"testName"},{title:"Ожидаемый результат",dataIndex:"expected",key:"expected"},{title:"Фактический результат",dataIndex:"actual",key:"actual",render:function(e,t){var n=Ge(t.status);return(0,s.jsxs)(de.A,{children:[n.icon,(0,s.jsx)("span",{children:e})]})}},{title:"Статус",dataIndex:"status",key:"status",render:function(e){var t=Ge(e);return(0,s.jsx)(Se.A,Le({color:t.color,icon:t.icon,className:"running"===e?"status-tag processing":"status-tag"},{children:t.text}))}},{title:"Время запуска",dataIndex:"timestamp",key:"timestamp",render:function(e){return new Date(e).toLocaleString()}},{title:"Действия",key:"actions",render:function(e,t){return(0,s.jsx)(_.Ay,Le({type:"primary",icon:(0,s.jsx)(Re.A,{}),onClick:function(){return e=t.id,void((s=n.find(function(t){return t.id===e}))&&("running"!==s.status?(r(e),W.Ay.success("Перезапущен тест: ".concat(s.testName))):W.Ay.warning("Тест уже выполняется")));var e,s},disabled:"running"===t.status,size:"small"},{children:"Перезапустить"}))}}];return(0,s.jsxs)("div",{children:[(0,s.jsx)(_e,Le({level:2},{children:"Результаты автотестов"})),(0,s.jsx)(D.A,{children:(0,s.jsx)(Fe.A,{dataSource:n,columns:a,pagination:{pageSize:10},rowKey:"id"})})]})},Je=n(9712),Ke=n(4892),Ye=n(9704),Qe=function(){return Qe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},Qe.apply(this,arguments)},Ue=function(e,t,n,r){return new(n||(n=Promise))(function(s,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function o(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})},Ve=function(e,t){var n,r,s,i,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(a=0)),a;)try{if(n=1,r&&(s=2&o[0]?r.return:o[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,o[1])).done)return s;switch(r=0,s&&(o=[2&o[0],s.value]),o[0]){case 0:case 1:s=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(s=a.trys,(s=s.length>0&&s[s.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!s||o[1]>s[0]&&o[1]<s[3])){a.label=o[1];break}if(6===o[0]&&a.label<s[1]){a.label=s[1],s=o;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(o);break}s[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=s=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},$e=M.A.Title,Xe=M.A.Text,et=Je.A.Option,tt=[{id:"at-bk",name:"AT: BK"},{id:"at-pb",name:"AT: PB"},{id:"at-nyse",name:"AT: NYSE"},{id:"at-lse",name:"AT: LSE"},{id:"at-tse",name:"AT: TSE"},{id:"at-fwb",name:"AT: FWB"}],nt=function(){var e=Z.A.useForm()[0],t=(0,i.useState)(!1),n=t[0],r=t[1],a=(0,i.useState)(null),o=a[0],l=a[1];return(0,s.jsxs)("div",{children:[(0,s.jsx)($e,Qe({level:2},{children:"Отправить коллбэк"})),(0,s.jsx)(D.A,{children:(0,s.jsxs)(Z.A,Qe({form:e,name:"callback",onFinish:function(t){return Ue(void 0,void 0,void 0,function(){var n,s;return Ve(this,function(i){switch(i.label){case 0:r(!0),l(null),i.label=1;case 1:if(i.trys.push([1,3,4,5]),!t.market)throw new Error("Пожалуйста, выберите рынок");if(!t.transactionId||""===t.transactionId.trim())throw new Error("Пожалуйста, введите номер транзакции");return[4,new Promise(function(e){return setTimeout(e,1500)})];case 2:if(i.sent(),Math.random()<.3)throw new Error("Ошибка сервера. Пожалуйста, попробуйте позже.");return W.Ay.success("Коллбэк успешно отправлен"),e.resetFields(),[3,5];case 3:return n=i.sent(),s=n instanceof Error?n.message:"Произошла неизвестная ошибка",l(s),W.Ay.error(s),[3,5];case 4:return r(!1),[7];case 5:return[2]}})})},onFinishFailed:function(){W.Ay.error("Пожалуйста, заполните все обязательные поля")},layout:"vertical"},{children:[(0,s.jsx)(Z.A.Item,Qe({label:"Рынок",name:"market",rules:[{required:!0,message:"Пожалуйста, выберите рынок!"}]},{children:(0,s.jsx)(Je.A,Qe({placeholder:"Выберите рынок",size:"large"},{children:tt.map(function(e){return(0,s.jsx)(et,Qe({value:e.id},{children:e.name}),e.id)})}))})),(0,s.jsx)(Z.A.Item,Qe({label:"Номер транзакции",name:"transactionId",rules:[{required:!0,message:"Пожалуйста, введите номер транзакции!"},{pattern:/^\d+$/,message:"Номер транзакции должен содержать только цифры"}]},{children:(0,s.jsx)(L.A,{placeholder:"Введите номер транзакции",size:"large"})})),o&&(0,s.jsx)("div",Qe({style:{background:"#fff2f0",border:"1px solid #ffccc7",padding:12,borderRadius:4,marginBottom:16}},{children:(0,s.jsxs)(de.A,{children:[(0,s.jsx)(Ke.A,{style:{color:"#ff4d4f"}}),(0,s.jsx)(Xe,Qe({type:"danger"},{children:o}))]})})),(0,s.jsx)(Z.A.Item,{children:(0,s.jsx)(_.Ay,Qe({type:"primary",htmlType:"submit",loading:n,icon:(0,s.jsx)(Ye.A,{}),size:"large"},{children:"Отправить коллбэк"}))})]}))})]})},rt=n(926),st=n(9580),it=n(3086),at=function(){return at=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},at.apply(this,arguments)},ot=function(e,t,n,r){return new(n||(n=Promise))(function(s,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function o(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})},lt=function(e,t){var n,r,s,i,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(a=0)),a;)try{if(n=1,r&&(s=2&o[0]?r.return:o[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,o[1])).done)return s;switch(r=0,s&&(o=[2&o[0],s.value]),o[0]){case 0:case 1:s=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(s=a.trys,(s=s.length>0&&s[s.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!s||o[1]>s[0]&&o[1]<s[3])){a.label=o[1];break}if(6===o[0]&&a.label<s[1]){a.label=s[1],s=o;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(o);break}s[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=s=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},ct=M.A.Title,ut=function(){var e=Q().user,t=(0,i.useState)(!1),n=t[0],r=t[1],a=(0,i.useState)((null==e?void 0:e.avatar)||""),o=a[0],l=a[1];(0,B.Zp)();return(0,s.jsxs)("div",{children:[(0,s.jsx)(ct,at({level:2},{children:"Настройки аккаунта"})),(0,s.jsx)(D.A,{children:(0,s.jsxs)(de.A,at({align:"start",style:{marginBottom:24}},{children:[(0,s.jsx)(oe.A,{size:100,src:o,icon:(0,s.jsx)(G.A,{})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(rt.A,at({showUploadList:!1,beforeUpload:function(){return!1},onChange:function(e){"done"===e.file.status?(l("https://api.dicebear.com/7.x/miniavs/svg?seed="+Math.floor(100*Math.random())),W.Ay.success("Аватар успешно загружен")):"error"===e.file.status&&W.Ay.error("Ошибка загрузки аватара")}},{children:(0,s.jsx)(_.Ay,at({icon:(0,s.jsx)(st.A,{})},{children:"Изменить аватар"}))})),(0,s.jsx)("p",at({style:{marginTop:8,color:"#888"}},{children:"JPG, PNG или GIF, макс. 2MB"}))]})]}))}),(0,s.jsx)(D.A,at({title:"Информация профиля",style:{marginTop:24}},{children:(0,s.jsxs)(Z.A,at({name:"profile",onFinish:function(e){return ot(void 0,void 0,void 0,function(){return lt(this,function(e){switch(e.label){case 0:r(!0),e.label=1;case 1:return e.trys.push([1,3,4,5]),[4,new Promise(function(e){return setTimeout(e,1e3)})];case 2:return e.sent(),W.Ay.success("Профиль успешно обновлен"),[3,5];case 3:return e.sent(),W.Ay.error("Ошибка обновления профиля"),[3,5];case 4:return r(!1),[7];case 5:return[2]}})})},layout:"vertical",initialValues:{username:null==e?void 0:e.username,email:null==e?void 0:e.email}},{children:[(0,s.jsx)(Z.A.Item,at({label:"Имя пользователя",name:"username",rules:[{required:!0,message:"Пожалуйста, введите имя пользователя!"}]},{children:(0,s.jsx)(L.A,{prefix:(0,s.jsx)(G.A,{}),size:"large"})})),(0,s.jsx)(Z.A.Item,at({label:"Email",name:"email",rules:[{required:!0,message:"Пожалуйста, введите email!"},{type:"email",message:"Пожалуйста, введите корректный email!"}]},{children:(0,s.jsx)(L.A,{size:"large"})})),(0,s.jsx)(Z.A.Item,{children:(0,s.jsx)(_.Ay,at({type:"primary",htmlType:"submit",loading:n,icon:(0,s.jsx)(it.A,{}),size:"large"},{children:"Сохранить изменения"}))})]}))})),(0,s.jsx)(D.A,at({title:"Изменение пароля",style:{marginTop:24}},{children:(0,s.jsxs)(Z.A,at({name:"password",onFinish:function(e){return ot(void 0,void 0,void 0,function(){return lt(this,function(t){switch(t.label){case 0:if(e.newPassword!==e.confirmNewPassword)return W.Ay.error("Пароли не совпадают"),[2];r(!0),t.label=1;case 1:return t.trys.push([1,3,4,5]),[4,new Promise(function(e){return setTimeout(e,1e3)})];case 2:return t.sent(),W.Ay.success("Пароль успешно изменен"),[3,5];case 3:return t.sent(),W.Ay.error("Ошибка изменения пароля"),[3,5];case 4:return r(!1),[7];case 5:return[2]}})})},layout:"vertical"},{children:[(0,s.jsx)(Z.A.Item,at({label:"Текущий пароль",name:"oldPassword",rules:[{required:!0,message:"Пожалуйста, введите текущий пароль!"}]},{children:(0,s.jsx)(L.A.Password,{prefix:(0,s.jsx)(H.A,{}),size:"large"})})),(0,s.jsx)(Z.A.Item,at({label:"Новый пароль",name:"newPassword",rules:[{required:!0,message:"Пожалуйста, введите новый пароль!"}]},{children:(0,s.jsx)(L.A.Password,{prefix:(0,s.jsx)(H.A,{}),size:"large"})})),(0,s.jsx)(Z.A.Item,at({label:"Подтвердите новый пароль",name:"confirmNewPassword",rules:[{required:!0,message:"Пожалуйста, подтвердите новый пароль!"}]},{children:(0,s.jsx)(L.A.Password,{prefix:(0,s.jsx)(H.A,{}),size:"large"})})),(0,s.jsx)(Z.A.Item,{children:(0,s.jsx)(_.Ay,at({type:"primary",htmlType:"submit",loading:n,icon:(0,s.jsx)(it.A,{}),size:"large"},{children:"Изменить пароль"}))})]}))}))]})},dt=function(){return dt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},dt.apply(this,arguments)},ft=function(e){var t=e.children,n=e.allowedRoles,r=Q(),i=r.isAuth,a=r.user;return i?n&&a&&!n.includes(a.role)?(0,s.jsxs)("div",dt({style:{padding:24,textAlign:"center"}},{children:[(0,s.jsx)("h2",{children:"Доступ запрещен"}),(0,s.jsx)("p",{children:"У вас нет прав для просмотра этой страницы."})]})):(0,s.jsx)(s.Fragment,{children:t}):(0,s.jsx)(B.C5,{to:"/auth",replace:!0})},ht=function(){return(0,s.jsxs)("div",dt({style:{padding:24,textAlign:"center"}},{children:[(0,s.jsx)("h2",{children:"Страница не найдена"}),(0,s.jsx)("p",{children:"Запрашиваемая страница не существует."})]}))},pt=function(e){var t=e.isAuth;Q().user;return(0,B.Ye)([{path:"/",element:t?(0,s.jsx)(B.C5,{to:"/dashboard"}):(0,s.jsx)(B.C5,{to:"/auth"})},{path:"/auth",element:t?(0,s.jsx)(B.C5,{to:"/dashboard"}):(0,s.jsx)(ae,{})},{path:"/dashboard",element:(0,s.jsx)(ft,{children:(0,s.jsx)(Te,{})})},{path:"/autotests",element:(0,s.jsx)(ft,dt({allowedRoles:["admin"]},{children:(0,s.jsx)(qe,{})}))},{path:"/test-results",element:(0,s.jsx)(ft,dt({allowedRoles:["admin"]},{children:(0,s.jsx)(He,{})}))},{path:"/callback",element:(0,s.jsx)(ft,dt({allowedRoles:["admin","user"]},{children:(0,s.jsx)(nt,{})}))},{path:"/account",element:(0,s.jsx)(ft,dt({allowedRoles:["admin","user"]},{children:(0,s.jsx)(ut,{})}))},{path:"*",element:(0,s.jsx)(ht,{})}])},vt=n(7679),mt=n(7568),xt=n(5994),gt=n(8166),yt=n(3788),jt=function(){return jt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},jt.apply(this,arguments)},bt=vt.A.Sider,At=[{key:"/dashboard",icon:(0,s.jsx)(xt.A,{}),label:"Дашборд",path:"/dashboard",roles:["admin","user"]},{key:"/autotests",icon:(0,s.jsx)(pe.A,{}),label:"Автотесты",path:"/autotests",roles:["admin"]},{key:"/test-results",icon:(0,s.jsx)(fe.A,{}),label:"Результаты тестов",path:"/test-results",roles:["admin"]},{key:"/callback",icon:(0,s.jsx)(Ye.A,{}),label:"Отправить коллбэк",path:"/callback",roles:["admin","user"]},{key:"/account",icon:(0,s.jsx)(G.A,{}),label:"Аккаунт",path:"/account",roles:["admin","user"]}],wt=function(e){var t,n=e.collapsed,r=e.setCollapsed,i=(0,B.Zp)(),a=(0,B.zy)(),o=Q().user,l=At.filter(function(e){return o&&e.roles.includes(o.role)}),c=l.findIndex(function(e){return"/account"===e.path}),u=-1!==c?l[c]:null,d=l.filter(function(e){return"/account"!==e.path}),f=(null===(t=l.find(function(e){return a.pathname===e.path||a.pathname.startsWith(e.path+"/")}))||void 0===t?void 0:t.path)||void 0,h=function(){u&&i(u.path)};return(0,s.jsxs)(bt,jt({trigger:null,collapsible:!0,collapsed:n,collapsedWidth:64,width:250,style:{display:"flex",flexDirection:"column",height:"100vh",position:"fixed",left:0,top:0,bottom:0,zIndex:100,background:"#0b1b2b",boxShadow:"2px 0 8px rgba(0,0,0,0.15)",transition:"width 0.3s ease"}},{children:[(0,s.jsxs)("div",jt({style:{height:64,display:"flex",alignItems:"center",justifyContent:n?"center":"space-between",padding:"0 12px",transition:"all 0.3s ease"}},{children:[!n&&(0,s.jsx)("div",jt({style:{color:"white",fontWeight:700,fontSize:18,opacity:n?0:1,transition:"opacity 0.3s ease"}},{children:"QA Payments"})),(0,s.jsx)(_.Ay,{type:"primary",onClick:function(){return r(!n)},"aria-label":n?"Развернуть меню":"Свернуть меню",style:{height:40,minWidth:40,padding:0,borderRadius:8,background:"#1f6f9b",borderColor:"#1f6f9b",boxShadow:"0 1px 0 rgba(0,0,0,0.12)",display:"flex",alignItems:"center",justifyContent:"center"},icon:n?(0,s.jsx)(gt.A,{style:{fontSize:16,color:"white"}}):(0,s.jsx)(yt.A,{style:{fontSize:16,color:"white"}})})]})),(0,s.jsx)("div",jt({style:{flex:1,overflow:"auto",padding:"8px 8px 0 8px"}},{children:(0,s.jsx)(mt.A,{theme:"dark",mode:"inline",selectedKeys:f?[f]:[],onClick:function(e){var t=e.key;i(String(t))},items:d.map(function(e){return{key:e.path,icon:e.icon,label:e.label,style:{fontSize:16,fontWeight:600,paddingLeft:12}}}),style:{background:"transparent",border:"none",color:"#e6f7ff",paddingTop:8,lineHeight:"40px",userSelect:"none"}})})),u&&(0,s.jsx)("div",jt({style:{padding:"12px",borderTop:"1px solid rgba(255,255,255,0.04)",display:"flex",alignItems:"center",justifyContent:n?"center":"flex-start"}},{children:(0,s.jsxs)("div",jt({role:"button",tabIndex:0,onClick:h,onKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),h())},"aria-label":"Перейти в аккаунт",style:{height:48,width:n?48:"100%",maxWidth:220,padding:n?0:"0 12px",borderRadius:8,background:f===u.path?"rgba(30,144,255,0.12)":"transparent",display:"flex",alignItems:"center",justifyContent:n?"center":"flex-start",gap:12,cursor:"pointer",transition:"all 0.3s ease",outline:"none",userSelect:"none"},onMouseEnter:function(e){n||f===u.path||(e.currentTarget.style.background="rgba(255,255,255,0.05)")},onMouseLeave:function(e){n||f===u.path||(e.currentTarget.style.background="transparent")}},{children:[(0,s.jsx)("div",jt({style:{flexShrink:0,width:40,height:40,borderRadius:"50%",overflow:"hidden",border:"2px solid #1f6f9b",background:"#17364a"}},{children:(0,s.jsx)(oe.A,{src:null==o?void 0:o.avatar,icon:(0,s.jsx)(G.A,{}),size:40,style:{width:"100%",height:"100%",display:"block"},shape:"circle"})})),!n&&(0,s.jsx)("span",jt({style:{color:"#e6f7ff",fontWeight:600,fontSize:16,whiteSpace:"nowrap"}},{children:u.label}))]}))}))]}))},kt=n(5932),Tt=n(7362),St=n(5181),It=n(3e3),Rt=n(7503),Ot=n(5761),zt=n(3761),Pt=n(1759),Et=n(1700),Ct=function(){return Ct=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},Ct.apply(this,arguments)},Nt=vt.A.Header,qt=function(){var e=Q(),t=e.user,n=e.logout,r=F(),i=r.isDarkTheme,a=r.toggleTheme,o=(0,B.Zp)(),l={items:[{key:"/account",icon:(0,s.jsx)(G.A,{}),label:"Профиль"},{key:"/settings",icon:(0,s.jsx)(Rt.A,{}),label:"Настройки"},{type:"divider"},{key:"/logout",icon:(0,s.jsx)(Ot.A,{}),label:"Выйти"}],onClick:function(e){var t=e.key,r=String(t);"/logout"!==r?o(r):n()}};return(0,s.jsxs)(Nt,Ct({style:{padding:"0 20px",display:"flex",alignItems:"center",justifyContent:"space-between",position:"sticky",top:0,zIndex:99,height:64,background:i?"#001529":"#ffffff",borderBottom:"1px solid rgba(0,0,0,0.06)"}},{children:[(0,s.jsxs)("div",Ct({style:{display:"flex",alignItems:"center",gap:16}},{children:[(0,s.jsx)("div",Ct({style:{width:40,height:40,borderRadius:8,background:"#d915f3ff",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700}},{children:"QA"})),(0,s.jsx)("div",Ct({style:{display:"flex",flexDirection:"column",lineHeight:1}},{children:(0,s.jsx)("div",Ct({style:{fontWeight:600,fontSize:28}},{children:"Autotest"}))}))]})),(0,s.jsxs)("div",Ct({style:{display:"flex",alignItems:"center",gap:12}},{children:[(0,s.jsx)(kt.A,Ct({title:"Уведомления"},{children:(0,s.jsx)(_.Ay,{type:"text",icon:(0,s.jsx)(zt.A,{})})})),(0,s.jsx)(Tt.A,{checked:i,onChange:a,checkedChildren:(0,s.jsx)(Pt.A,{}),unCheckedChildren:(0,s.jsx)(Et.A,{})}),(0,s.jsx)(St.A,Ct({menu:l,trigger:["click"]},{children:(0,s.jsx)(It.A,Ct({dot:!1},{children:(0,s.jsxs)(de.A,Ct({style:{cursor:"pointer",alignItems:"center"}},{children:[(0,s.jsx)(oe.A,{src:null==t?void 0:t.avatar,icon:(0,s.jsx)(G.A,{})}),(0,s.jsxs)("div",Ct({style:{display:"flex",flexDirection:"column",alignItems:"flex-start"}},{children:[(0,s.jsx)("div",Ct({style:{fontWeight:600}},{children:(null==t?void 0:t.username)||"Гость"})),(0,s.jsx)("div",Ct({style:{fontSize:12,color:"rgba(0,0,0,0.45)"}},{children:(null==t?void 0:t.role)||""}))]}))]}))}))}))]}))]}))},Ft=function(){return Ft=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},Ft.apply(this,arguments)},Bt=vt.A.Content,Mt=function(e){var t=e.children,n=(0,i.useState)(!1),r=n[0],a=n[1];return(0,s.jsxs)(vt.A,Ft({style:{minHeight:"100vh"}},{children:[(0,s.jsx)(wt,{collapsed:r,setCollapsed:a}),(0,s.jsxs)(vt.A,Ft({className:r?"collapsed":"",style:{marginLeft:r?80:250,transition:"margin-left 0.2s"}},{children:[(0,s.jsx)(qt,{}),(0,s.jsx)(Bt,Ft({style:{margin:"24px 16px 0",overflow:"initial",paddingTop:24}},{children:(0,s.jsx)("div",Ft({className:"main-content"},{children:t}))}))]}))]}))},Wt=function(){return Wt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},Wt.apply(this,arguments)},Dt=function(){return Dt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},Dt.apply(this,arguments)};a.createRoot(document.getElementById("root")).render((0,s.jsx)(i.StrictMode,{children:(0,s.jsx)(o.Kq,Dt({store:z},{children:(0,s.jsx)(function(){var e=F().isDarkTheme,t=Q().isAuth;return(0,s.jsx)(E.Ay,Wt({theme:{algorithm:e?C.A.darkAlgorithm:C.A.defaultAlgorithm}},{children:(0,s.jsx)(P.Kd,{children:t?(0,s.jsx)(Mt,{children:(0,s.jsx)(pt,{isAuth:t})}):(0,s.jsx)(pt,{isAuth:t})})}))},{})}))}))}},e=>{e.O(0,[125],()=>{return t=6736,e(e.s=t);var t});e.O()}]);
//# sourceMappingURL=main.00bccff8.js.map