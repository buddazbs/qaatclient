"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[792],{1482:(e,s,t)=>{var n=t(4848),i=t(6540),a=t(5338),r=t(2896),c=t(7412);const l=(()=>{try{const e=sessionStorage.getItem("auth");if(e){const{user:s,token:t}=JSON.parse(e);return{user:s,token:t,isAuthenticated:!0,loading:!1,error:null}}}catch(e){}return{user:null,token:null,isAuthenticated:!1,loading:!1,error:null}})(),o=(0,c.Z0)({name:"@@app/auth",initialState:l,reducers:{loginStart:e=>{e.loading=!0,e.error=null},loginSuccess:(e,s)=>{e.loading=!1,e.isAuthenticated=!0,e.user=s.payload.user,e.token=s.payload.token,sessionStorage.setItem("auth",JSON.stringify({user:s.payload.user,token:s.payload.token}))},loginFailure:(e,s)=>{e.loading=!1,e.error=s.payload},logout:e=>{e.user=null,e.token=null,e.isAuthenticated=!1,sessionStorage.removeItem("auth")},updateProfile:(e,s)=>{e.user=s.payload;const t=sessionStorage.getItem("auth");if(t){const e=JSON.parse(t);e.user=s.payload,sessionStorage.setItem("auth",JSON.stringify(e))}}}}),{loginStart:d,loginSuccess:u,loginFailure:g,logout:m,updateProfile:j}=o.actions,x=o.reducer,h={isDarkMode:"dark"===localStorage.getItem("theme")},f=(0,c.Z0)({name:"@@app/theme",initialState:h,reducers:{toggleTheme:e=>{e.isDarkMode=!e.isDarkMode,localStorage.setItem("theme",e.isDarkMode?"dark":"light")},setTheme:(e,s)=>{e.isDarkMode=s.payload,localStorage.setItem("theme",s.payload?"dark":"light")}}}),{toggleTheme:v,setTheme:p}=f.actions,b=f.reducer,y=(0,c.Z0)({name:"@@app/autotests",initialState:{markets:[],testRuns:[],testResults:[],loading:!1,error:null},reducers:{setMarkets:(e,s)=>{e.markets=s.payload},setTestRuns:(e,s)=>{e.testRuns=s.payload},setTestResults:(e,s)=>{e.testResults=s.payload},addTestRun:(e,s)=>{e.testRuns.unshift(s.payload)},updateTestRun:(e,s)=>{const t=e.testRuns.findIndex(e=>e.id===s.payload.id);-1!==t&&(e.testRuns[t]=s.payload)},addTestResult:(e,s)=>{e.testResults.unshift(s.payload)},updateTestResult:(e,s)=>{const t=e.testResults.findIndex(e=>e.id===s.payload.id);-1!==t&&(e.testResults[t]=s.payload)},setLoading:(e,s)=>{e.loading=s.payload},setError:(e,s)=>{e.error=s.payload}}}),{setMarkets:A,setTestRuns:O,setTestResults:T,addTestRun:k,updateTestRun:S,addTestResult:w,updateTestResult:I,setLoading:R,setError:z}=y.actions,C=y.reducer,E=(0,c.U1)({reducer:{auth:x,theme:b,autotests:C}});var N=t(4976),q=t(2770),F=t(5131);const P=r.wA,B=r.d4,M=()=>{const e=P(),s=B(e=>e.theme.isDarkMode);return(0,i.useEffect)(()=>{document.documentElement.setAttribute("data-theme",s?"dark":"light")},[s]),{isDarkTheme:s,toggleTheme:()=>{e(v())}}};var W=t(7767),D=t(3041),Z=t(2937),L=t(1575),_=t(3691),H=t(9957),J=t(6893),K=t(7450),Y=t(5763);const G=[{id:"1",username:"admin",email:"admin@example.com",role:"admin",avatar:"https://api.dicebear.com/7.x/miniavs/svg?seed=1"},{id:"2",username:"user",email:"user@example.com",role:"user",avatar:"https://api.dicebear.com/7.x/miniavs/svg?seed=2"}],$=()=>{const e=P(),{user:s,isAuthenticated:t,loading:n,error:i}=B(e=>e.auth);return{user:s,isAuth:t,loading:n,error:i,login:s=>{return t=void 0,n=void 0,a=function*(){e(d());try{yield new Promise(e=>setTimeout(e,500));const t=G.find(e=>e.username===s.username&&"password"===s.password);if(t){const s=`mock-jwt-token-${t.id}`;return e(u({user:t,token:s})),!0}return e(g("Неверное имя пользователя или пароль")),!1}catch(s){const t=s instanceof Error?s.message:"Произошла неизвестная ошибка";return e(g(t)),!1}},new((i=void 0)||(i=Promise))(function(e,s){function r(e){try{l(a.next(e))}catch(e){s(e)}}function c(e){try{l(a.throw(e))}catch(e){s(e)}}function l(s){var t;s.done?e(s.value):(t=s.value,t instanceof i?t:new i(function(e){e(t)})).then(r,c)}l((a=a.apply(t,n||[])).next())});var t,n,i,a},logout:()=>{e(m())}}};var Q=t(9412),U=t(969),V=t(4347),X=t(9433),ee=t(8956);function se({hueShift:e=0,noiseIntensity:s=0,scanlineIntensity:t=0,speed:a=.5,scanlineFrequency:r=0,warpAmount:c=0,resolutionScale:l=1}){const o=(0,i.useRef)(null);return(0,i.useEffect)(()=>{const n=o.current,i=n.parentElement,d=new Q.A({dpr:Math.min(window.devicePixelRatio,2),canvas:n}),u=d.gl,g=new U.l(u),m=new V.B(u,{vertex:"\nattribute vec2 position;\nvoid main(){gl_Position=vec4(position,0.0,1.0);}\n",fragment:"\n#ifdef GL_ES\nprecision lowp float;\n#endif\nuniform vec2 uResolution;\nuniform float uTime;\nuniform float uHueShift;\nuniform float uNoise;\nuniform float uScan;\nuniform float uScanFreq;\nuniform float uWarp;\n#define iTime uTime\n#define iResolution uResolution\n\nvec4 buf[8];\nfloat rand(vec2 c){return fract(sin(dot(c,vec2(12.9898,78.233)))*43758.5453);}\n\nmat3 rgb2yiq=mat3(0.299,0.587,0.114,0.596,-0.274,-0.322,0.211,-0.523,0.312);\nmat3 yiq2rgb=mat3(1.0,0.956,0.621,1.0,-0.272,-0.647,1.0,-1.106,1.703);\n\nvec3 hueShiftRGB(vec3 col,float deg){\n    vec3 yiq=rgb2yiq*col;\n    float rad=radians(deg);\n    float cosh=cos(rad),sinh=sin(rad);\n    vec3 yiqShift=vec3(yiq.x,yiq.y*cosh-yiq.z*sinh,yiq.y*sinh+yiq.z*cosh);\n    return clamp(yiq2rgb*yiqShift,0.0,1.0);\n}\n\nvec4 sigmoid(vec4 x){return 1./(1.+exp(-x));}\n\nvec4 cppn_fn(vec2 coordinate,float in0,float in1,float in2){\n    buf[6]=vec4(coordinate.x,coordinate.y,0.3948333106474662+in0,0.36+in1);\n    buf[7]=vec4(0.14+in2,sqrt(coordinate.x*coordinate.x+coordinate.y*coordinate.y),0.,0.);\n    buf[0]=mat4(vec4(6.5404263,-3.6126034,0.7590882,-1.13613),vec4(2.4582713,3.1660357,1.2219609,0.06276096),vec4(-5.478085,-6.159632,1.8701609,-4.7742867),vec4(6.039214,-5.542865,-0.90925294,3.251348))*buf[6]+mat4(vec4(0.8473259,-5.722911,3.975766,1.6522468),vec4(-0.24321538,0.5839259,-1.7661959,-5.350116),vec4(0.,0.,0.,0.),vec4(0.,0.,0.,0.))*buf[7]+vec4(0.21808943,1.1243913,-1.7969975,5.0294676);\n    buf[1]=mat4(vec4(-3.3522482,-6.0612736,0.55641043,-4.4719114),vec4(0.8631464,1.7432913,5.643898,1.6106541),vec4(2.4941394,-3.5012043,1.7184316,6.357333),vec4(3.310376,8.209261,1.1355612,-1.165539))*buf[6]+mat4(vec4(5.24046,-13.034365,0.009859298,15.870829),vec4(2.987511,3.129433,-0.89023495,-1.6822904),vec4(0.,0.,0.,0.),vec4(0.,0.,0.,0.))*buf[7]+vec4(-5.9457836,-6.573602,-0.8812491,1.5436668);\n    buf[0]=sigmoid(buf[0]);buf[1]=sigmoid(buf[1]);\n    buf[2]=mat4(vec4(-15.219568,8.095543,-2.429353,-1.9381982),vec4(-5.951362,4.3115187,2.6393783,1.274315),vec4(-7.3145227,6.7297835,5.2473326,5.9411426),vec4(5.0796127,8.979051,-1.7278991,-1.158976))*buf[6]+mat4(vec4(-11.967154,-11.608155,6.1486754,11.237008),vec4(2.124141,-6.263192,-1.7050359,-0.7021966),vec4(0.,0.,0.,0.),vec4(0.,0.,0.,0.))*buf[7]+vec4(-4.17164,-3.2281182,-4.576417,-3.6401186);\n    buf[3]=mat4(vec4(3.1832156,-13.738922,1.879223,3.233465),vec4(0.64300746,12.768129,1.9141049,0.50990224),vec4(-0.049295485,4.4807224,1.4733979,1.801449),vec4(5.0039253,13.000481,3.3991797,-4.5561905))*buf[6]+mat4(vec4(-0.1285731,7.720628,-3.1425676,4.742367),vec4(0.6393625,3.714393,-0.8108378,-0.39174938),vec4(0.,0.,0.,0.),vec4(0.,0.,0.,0.))*buf[7]+vec4(-1.1811101,-21.621881,0.7851888,1.2329718);\n    buf[2]=sigmoid(buf[2]);buf[3]=sigmoid(buf[3]);\n    buf[4]=mat4(vec4(5.214916,-7.183024,2.7228765,2.6592617),vec4(-5.601878,-25.3591,4.067988,0.4602802),vec4(-10.57759,24.286327,21.102104,37.546658),vec4(4.3024497,-1.9625226,2.3458803,-1.372816))*buf[0]+mat4(vec4(-17.6526,-10.507558,2.2587414,12.462782),vec4(6.265566,-502.75443,-12.642513,0.9112289),vec4(-10.983244,20.741234,-9.701768,-0.7635988),vec4(5.383626,1.4819539,-4.1911616,-4.8444734))*buf[1]+mat4(vec4(12.785233,-16.345072,-0.39901125,1.7955981),vec4(-30.48365,-1.8345358,1.4542528,-1.1118771),vec4(19.872723,-7.337935,-42.941723,-98.52709),vec4(8.337645,-2.7312303,-2.2927687,-36.142323))*buf[2]+mat4(vec4(-16.298317,3.5471997,-0.44300047,-9.444417),vec4(57.5077,-35.609753,16.163465,-4.1534753),vec4(-0.07470326,-3.8656476,-7.0901804,3.1523974),vec4(-12.559385,-7.077619,1.490437,-0.8211543))*buf[3]+vec4(-7.67914,15.927437,1.3207729,-1.6686112);\n    buf[5]=mat4(vec4(-1.4109162,-0.372762,-3.770383,-21.367174),vec4(-6.2103205,-9.35908,0.92529047,8.82561),vec4(11.460242,-22.348068,13.625772,-18.693201),vec4(-0.3429052,-3.9905605,-2.4626114,-0.45033523))*buf[0]+mat4(vec4(7.3481627,-4.3661838,-6.3037653,-3.868115),vec4(1.5462853,6.5488915,1.9701879,-0.58291394),vec4(6.5858274,-2.2180402,3.7127688,-1.3730392),vec4(-5.7973905,10.134961,-2.3395722,-5.965605))*buf[1]+mat4(vec4(-2.5132585,-6.6685553,-1.4029363,-0.16285264),vec4(-0.37908727,0.53738135,4.389061,-1.3024765),vec4(-0.70647055,2.0111287,-5.1659346,-3.728635),vec4(-13.562562,10.487719,-0.9173751,-2.6487076))*buf[2]+mat4(vec4(-8.645013,6.5546675,-6.3944063,-5.5933375),vec4(-0.57783127,-1.077275,36.91025,5.736769),vec4(14.283112,3.7146652,7.1452246,-4.5958776),vec4(2.7192075,3.6021907,-4.366337,-2.3653464))*buf[3]+vec4(-5.9000807,-4.329569,1.2427121,8.59503);\n    buf[4]=sigmoid(buf[4]);buf[5]=sigmoid(buf[5]);\n    buf[6]=mat4(vec4(-1.61102,0.7970257,1.4675229,0.20917463),vec4(-28.793737,-7.1390953,1.5025433,4.656581),vec4(-10.94861,39.66238,0.74318546,-10.095605),vec4(-0.7229728,-1.5483948,0.7301322,2.1687684))*buf[0]+mat4(vec4(3.2547753,21.489103,-1.0194173,-3.3100595),vec4(-3.7316632,-3.3792162,-7.223193,-0.23685838),vec4(13.1804495,0.7916005,5.338587,5.687114),vec4(-4.167605,-17.798311,-6.815736,-1.6451967))*buf[1]+mat4(vec4(0.604885,-7.800309,-7.213122,-2.741014),vec4(-3.522382,-0.12359311,-0.5258442,0.43852118),vec4(9.6752825,-22.853785,2.062431,0.099892326),vec4(-4.3196306,-17.730087,2.5184598,5.30267))*buf[2]+mat4(vec4(-6.545563,-15.790176,-6.0438633,-5.415399),vec4(-43.591583,28.551912,-16.00161,18.84728),vec4(4.212382,8.394307,3.0958717,8.657522),vec4(-5.0237565,-4.450633,-4.4768,-5.5010443))*buf[3]+mat4(vec4(1.6985557,-67.05806,6.897715,1.9004834),vec4(1.8680354,2.3915145,2.5231109,4.081538),vec4(11.158006,1.7294737,2.0738268,7.386411),vec4(-4.256034,-306.24686,8.258898,-17.132736))*buf[4]+mat4(vec4(1.6889864,-4.5852966,3.8534803,-6.3482175),vec4(1.3543309,-1.2640043,9.932754,2.9079645),vec4(-5.2770967,0.07150358,-0.13962056,3.3269649),vec4(28.34703,-4.918278,6.1044083,4.085355))*buf[5]+vec4(6.6818056,12.522166,-3.7075126,-4.104386);\n    buf[7]=mat4(vec4(-8.265602,-4.7027016,5.098234,0.7509808),vec4(8.6507845,-17.15949,16.51939,-8.884479),vec4(-4.036479,-2.3946867,-2.6055532,-1.9866527),vec4(-2.2167742,-1.8135649,-5.9759874,4.8846445))*buf[0]+mat4(vec4(6.7790847,3.5076547,-2.8191125,-2.7028968),vec4(-5.743024,-0.27844876,1.4958696,-5.0517144),vec4(13.122226,15.735168,-2.9397483,-4.101023),vec4(-14.375265,-5.030483,-6.2599335,2.9848232))*buf[1]+mat4(vec4(4.0950394,-0.94011575,-5.674733,4.755022),vec4(4.3809423,4.8310084,1.7425908,-3.437416),vec4(2.117492,0.16342592,-104.56341,16.949184),vec4(-5.22543,-2.994248,3.8350096,-1.9364246))*buf[2]+mat4(vec4(-5.900337,1.7946124,-13.604192,-3.8060522),vec4(6.6583457,31.911177,25.164474,91.81147),vec4(11.840538,4.1503043,-0.7314397,6.768467),vec4(-6.3967767,4.034772,6.1714606,-0.32874924))*buf[3]+mat4(vec4(3.4992442,-196.91893,-8.923708,2.8142626),vec4(3.4806502,-3.1846354,5.1725626,5.1804223),vec4(-2.4009497,15.585794,1.2863957,2.0252278),vec4(-71.25271,-62.441242,-8.138444,0.50670296))*buf[4]+mat4(vec4(-12.291733,-11.176166,-7.3474145,4.390294),vec4(10.805477,5.6337385,-0.9385842,-4.7348723),vec4(-12.869276,-7.039391,5.3029537,7.5436664),vec4(1.4593618,8.91898,3.5101583,5.840625))*buf[5]+vec4(2.2415268,-6.705987,-0.98861027,-2.117676);\n    buf[6]=sigmoid(buf[6]);buf[7]=sigmoid(buf[7]);\n    buf[0]=mat4(vec4(1.6794263,1.3817469,2.9625452,0.),vec4(-1.8834411,-1.4806935,-3.5924516,0.),vec4(-1.3279216,-1.0918057,-2.3124623,0.),vec4(0.2662234,0.23235129,0.44178495,0.))*buf[0]+mat4(vec4(-0.6299101,-0.5945583,-0.9125601,0.),vec4(0.17828953,0.18300213,0.18182953,0.),vec4(-2.96544,-2.5819945,-4.9001055,0.),vec4(1.4195864,1.1868085,2.5176322,0.))*buf[1]+mat4(vec4(-1.2584374,-1.0552157,-2.1688404,0.),vec4(-0.7200217,-0.52666044,-1.438251,0.),vec4(0.15345335,0.15196142,0.272854,0.),vec4(0.945728,0.8861938,1.2766753,0.))*buf[2]+mat4(vec4(-2.4218085,-1.968602,-4.35166,0.),vec4(-22.683098,-18.0544,-41.954372,0.),vec4(0.63792,0.5470648,1.1078634,0.),vec4(-1.5489894,-1.3075932,-2.6444845,0.))*buf[3]+mat4(vec4(-0.49252132,-0.39877754,-0.91366625,0.),vec4(0.95609266,0.7923952,1.640221,0.),vec4(0.30616966,0.15693925,0.8639857,0.),vec4(1.1825981,0.94504964,2.176963,0.))*buf[4]+mat4(vec4(0.35446745,0.3293795,0.59547555,0.),vec4(-0.58784515,-0.48177817,-1.0614829,0.),vec4(2.5271258,1.9991658,4.6846647,0.),vec4(0.13042648,0.08864098,0.30187556,0.))*buf[5]+mat4(vec4(-1.7718065,-1.4033192,-3.3355875,0.),vec4(3.1664357,2.638297,5.378702,0.),vec4(-3.1724713,-2.6107926,-5.549295,0.),vec4(-2.851368,-2.249092,-5.3013067,0.))*buf[6]+mat4(vec4(1.5203838,1.2212278,2.8404984,0.),vec4(1.5210563,1.2651345,2.683903,0.),vec4(2.9789467,2.4364579,5.2347264,0.),vec4(2.2270417,1.8825914,3.8028636,0.))*buf[7]+vec4(-1.5468478,-3.6171484,0.24762098,0.);\n    buf[0]=sigmoid(buf[0]);\n    return vec4(buf[0].x,buf[0].y,buf[0].z,1.);\n}\n\nvoid mainImage(out vec4 fragColor,in vec2 fragCoord){\n    vec2 uv=fragCoord/uResolution.xy*2.-1.;\n    uv.y*=-1.;\n    uv+=uWarp*vec2(sin(uv.y*6.283+uTime*0.5),cos(uv.x*6.283+uTime*0.5))*0.05;\n    fragColor=cppn_fn(uv,0.1*sin(0.3*uTime),0.1*sin(0.69*uTime),0.1*sin(0.44*uTime));\n}\n\nvoid main(){\n    vec4 col;mainImage(col,gl_FragCoord.xy);\n    col.rgb=hueShiftRGB(col.rgb,uHueShift);\n    float scanline_val=sin(gl_FragCoord.y*uScanFreq)*0.5+0.5;\n    col.rgb*=1.-(scanline_val*scanline_val)*uScan;\n    col.rgb+=(rand(gl_FragCoord.xy+uTime)-0.5)*uNoise;\n    gl_FragColor=vec4(clamp(col.rgb,0.0,1.0),1.0);\n}\n",uniforms:{uTime:{value:0},uResolution:{value:new X.Z},uHueShift:{value:e},uNoise:{value:s},uScan:{value:t},uScanFreq:{value:r},uWarp:{value:c}}}),j=new ee.e(u,{geometry:g,program:m}),x=()=>{const e=i.clientWidth,s=i.clientHeight;d.setSize(e*l,s*l),m.uniforms.uResolution.value.set(e,s)};window.addEventListener("resize",x),x();const h=performance.now();let f=0;const v=()=>{m.uniforms.uTime.value=(performance.now()-h)/1e3*a,m.uniforms.uHueShift.value=e,m.uniforms.uNoise.value=s,m.uniforms.uScan.value=t,m.uniforms.uScanFreq.value=r,m.uniforms.uWarp.value=c,d.render({scene:j}),f=requestAnimationFrame(v)};return v(),()=>{cancelAnimationFrame(f),window.removeEventListener("resize",x)}},[e,s,t,a,r,c,l]),(0,n.jsx)("canvas",{ref:o,className:"darkveil-canvas"})}const{Title:te}=D.A,ne=()=>{const[e,s]=(0,i.useState)(!1),[t,a]=(0,i.useState)(!1),{login:r}=$(),c=(0,W.Zp)();return(0,i.useEffect)(()=>{const e=setTimeout(()=>a(!0),100);return()=>clearTimeout(e)},[]),(0,n.jsxs)("div",Object.assign({style:{width:"100%",height:"100vh",position:"relative",background:"#0c1018"}},{children:[(0,n.jsx)(se,{}),(0,n.jsx)("div",Object.assign({style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center",pointerEvents:"none"}},{children:(0,n.jsxs)(L.A,Object.assign({style:{width:420,borderRadius:12,boxShadow:"0 8px 24px rgba(0,0,0,0.6)",background:"rgba(20,28,38,0.85)",pointerEvents:"all",opacity:t?1:0,transform:t?"translateY(0px)":"translateY(-20px)",transition:"opacity 0.5s ease, transform 0.5s ease",color:"#fff"}},{children:[(0,n.jsxs)("div",Object.assign({style:{textAlign:"center",marginBottom:24}},{children:[(0,n.jsx)(te,Object.assign({level:2,style:{color:"#fff"}},{children:"QA Payments"})),(0,n.jsx)("p",Object.assign({style:{color:"#ccc"}},{children:"Войдите в свою учетную запись"}))]})),(0,n.jsxs)(_.A,Object.assign({name:"auth",onFinish:e=>{return t=void 0,n=void 0,a=function*(){s(!0);try{(yield r(e))?(Z.Ay.success("Успешная авторизация"),c("/dashboard")):Z.Ay.error("Неверное имя пользователя или пароль")}catch(e){Z.Ay.error("Ошибка авторизации")}finally{s(!1)}},new((i=void 0)||(i=Promise))(function(e,s){function r(e){try{l(a.next(e))}catch(e){s(e)}}function c(e){try{l(a.throw(e))}catch(e){s(e)}}function l(s){var t;s.done?e(s.value):(t=s.value,t instanceof i?t:new i(function(e){e(t)})).then(r,c)}l((a=a.apply(t,n||[])).next())});var t,n,i,a},autoComplete:"off"},{children:[(0,n.jsx)(_.A.Item,Object.assign({name:"username",rules:[{required:!0,message:"Пожалуйста, введите имя пользователя!"}]},{children:(0,n.jsx)(H.A,{className:"input-dark",prefix:(0,n.jsx)(K.A,{style:{color:"#fff"}}),placeholder:"Имя пользователя",size:"large",style:{background:"rgba(255,255,255,0.05)",color:"#fff",border:"none"}})})),(0,n.jsx)(_.A.Item,Object.assign({name:"password",rules:[{required:!0,message:"Пожалуйста, введите пароль!"}]},{children:(0,n.jsx)(H.A,{className:"input-dark",prefix:(0,n.jsx)(Y.A,{style:{color:"#fff"}}),type:"password",placeholder:"Пароль",size:"large",style:{background:"rgba(255,255,255,0.05)",color:"#fff",border:"none"}})})),(0,n.jsx)(_.A.Item,{children:(0,n.jsx)(J.Ay,Object.assign({type:"primary",htmlType:"submit",loading:e,block:!0,size:"large",style:{background:"#1f6f9b",borderColor:"#1f6f9b",fontWeight:600,color:"#fff"}},{children:"Войти"}))})]})),(0,n.jsxs)("div",Object.assign({style:{textAlign:"center",marginTop:16}},{children:[(0,n.jsx)("p",Object.assign({style:{color:"#ccc"}},{children:(0,n.jsx)("strong",{children:"Демо учетные данные:"})})),(0,n.jsx)("p",Object.assign({style:{color:"#ccc"}},{children:"Администратор: admin / password"})),(0,n.jsx)("p",Object.assign({style:{color:"#ccc"}},{children:"Пользователь: user / password"}))]}))]}))}))]}))};var ie=t(1922),ae=t(7152),re=t(6370),ce=t(7122),le=t(4603),oe=t(845),de=t(1295),ue=t(9274),ge=t(1005),me=t(2396),je=t(4890);const{Title:xe,Text:he}=D.A,fe=()=>{const{user:e}=$();return(0,n.jsxs)("div",{children:[(0,n.jsx)(L.A,Object.assign({style:{marginBottom:24}},{children:(0,n.jsxs)("div",Object.assign({style:{display:"flex",alignItems:"center"}},{children:[(0,n.jsx)(ie.A,{size:64,src:null==e?void 0:e.avatar,icon:(0,n.jsx)(K.A,{}),style:{marginRight:16}}),(0,n.jsxs)("div",{children:[(0,n.jsxs)(xe,Object.assign({level:3,style:{margin:0}},{children:["Рад видеть вас снова, ",null==e?void 0:e.username,"!"]})),(0,n.jsx)(he,Object.assign({type:"secondary"},{children:"Статистика по автотестам"}))]})]}))})),(0,n.jsxs)(ae.A,Object.assign({gutter:[16,16],style:{marginBottom:24}},{children:[(0,n.jsx)(re.A,Object.assign({xs:24,sm:12,lg:6},{children:(0,n.jsx)(L.A,{children:(0,n.jsx)(ce.A,{title:"Всего тестов",value:1247,prefix:(0,n.jsx)(oe.A,{}),valueStyle:{color:"#3f8600"}})})})),(0,n.jsx)(re.A,Object.assign({xs:24,sm:12,lg:6},{children:(0,n.jsx)(L.A,{children:(0,n.jsx)(ce.A,{title:"Пройдено",value:987,prefix:(0,n.jsx)(de.A,{}),valueStyle:{color:"#3f8600"}})})})),(0,n.jsx)(re.A,Object.assign({xs:24,sm:12,lg:6},{children:(0,n.jsx)(L.A,{children:(0,n.jsx)(ce.A,{title:"Провалено",value:42,prefix:(0,n.jsx)(ue.A,{}),valueStyle:{color:"#cf1322"}})})})),(0,n.jsx)(re.A,Object.assign({xs:24,sm:12,lg:6},{children:(0,n.jsx)(L.A,{children:(0,n.jsx)(ce.A,{title:"Выполняется",value:18,prefix:(0,n.jsx)(ge.A,{spin:!0}),valueStyle:{color:"#1890ff"}})})}))]})),(0,n.jsxs)(ae.A,Object.assign({gutter:[16,16],style:{marginBottom:24}},{children:[(0,n.jsx)(re.A,Object.assign({xs:24,lg:16},{children:(0,n.jsx)(L.A,Object.assign({title:"Результаты тестов по дням",extra:(0,n.jsx)(oe.A,{style:{color:"#1890ff"}})},{children:(0,n.jsx)("div",Object.assign({style:{textAlign:"center",padding:"40px 0"}},{children:(0,n.jsxs)(le.A,Object.assign({direction:"vertical",size:"large"},{children:[(0,n.jsx)(oe.A,{style:{fontSize:48,color:"#1890ff"}}),(0,n.jsxs)("div",{children:[(0,n.jsx)(xe,Object.assign({level:4,style:{margin:0}},{children:"График результатов тестов"})),(0,n.jsx)(he,Object.assign({type:"secondary"},{children:"Столбчатая диаграмма с результатами тестов по дням"}))]})]}))}))}))})),(0,n.jsx)(re.A,Object.assign({xs:24,lg:8},{children:(0,n.jsx)(L.A,Object.assign({title:"Статусы тестов",extra:(0,n.jsx)(me.A,{style:{color:"#ff4d4f"}})},{children:(0,n.jsx)("div",Object.assign({style:{textAlign:"center",padding:"40px 0"}},{children:(0,n.jsxs)(le.A,Object.assign({direction:"vertical",size:"large"},{children:[(0,n.jsx)(me.A,{style:{fontSize:48,color:"#ff4d4f"}}),(0,n.jsxs)("div",{children:[(0,n.jsx)(xe,Object.assign({level:4,style:{margin:0}},{children:"Распределение статусов"})),(0,n.jsx)(he,Object.assign({type:"secondary"},{children:"Круговая диаграмма с распределением статусов тестов"}))]})]}))}))}))}))]})),(0,n.jsx)(ae.A,Object.assign({gutter:[16,16]},{children:(0,n.jsx)(re.A,Object.assign({xs:24},{children:(0,n.jsx)(L.A,Object.assign({title:"Динамика тестов",extra:(0,n.jsx)(je.A,{style:{color:"#52c41a"}})},{children:(0,n.jsx)("div",Object.assign({style:{textAlign:"center",padding:"40px 0"}},{children:(0,n.jsxs)(le.A,Object.assign({direction:"vertical",size:"large"},{children:[(0,n.jsx)(je.A,{style:{fontSize:48,color:"#52c41a"}}),(0,n.jsxs)("div",{children:[(0,n.jsx)(xe,Object.assign({level:4,style:{margin:0}},{children:"Динамика прохождения тестов"})),(0,n.jsx)(he,Object.assign({type:"secondary"},{children:"Линейный график с динамикой прохождения тестов"}))]})]}))}))}))}))}))]})};var ve=t(9834),pe=t(7983),be=t(581),ye=t(4581),Ae=t(5132);const{Title:Oe,Text:Te}=D.A,ke=[{id:"at-bk",name:"AT: BK",status:"completed",progress:100,tests:124,failed:2},{id:"at-pb",name:"AT: PB",status:"running",progress:65,tests:89,failed:1},{id:"at-nyse",name:"AT: NYSE",status:"stopped",progress:0,tests:0,failed:0},{id:"at-lse",name:"AT: LSE",status:"error",progress:30,tests:56,failed:5},{id:"at-tse",name:"AT: TSE",status:"completed",progress:100,tests:78,failed:0},{id:"at-fwb",name:"AT: FWB",status:"completed",progress:100,tests:92,failed:3}],Se=()=>{const[e,s]=(0,i.useState)(ke);return(0,n.jsxs)("div",{children:[(0,n.jsx)(Oe,Object.assign({level:2},{children:"Автотесты и запуск"})),(0,n.jsx)(ae.A,Object.assign({gutter:[16,16],style:{marginBottom:24}},{children:e.map(t=>{const i=(e=>{switch(e){case"completed":return{color:"success",text:"Завершено",icon:(0,n.jsx)(oe.A,{})};case"running":return{color:"processing",text:"Выполняется",icon:(0,n.jsx)(be.A,{spin:!0})};case"stopped":return{color:"default",text:"Остановлено",icon:(0,n.jsx)(ye.A,{})};case"error":return{color:"error",text:"Ошибки",icon:(0,n.jsx)(oe.A,{})};default:return{color:"default",text:"Неизвестно",icon:null}}})(t.status);return(0,n.jsx)(re.A,Object.assign({xs:24,sm:12,lg:8},{children:(0,n.jsx)(L.A,Object.assign({title:(0,n.jsxs)(le.A,{children:[i.icon,(0,n.jsx)("span",{children:t.name})]}),extra:(0,n.jsx)(ve.A,Object.assign({color:i.color},{children:i.text})),actions:[(0,n.jsx)(J.Ay,Object.assign({type:"primary",icon:(0,n.jsx)(Ae.A,{}),onClick:()=>(t=>{const n=e.find(e=>e.id===t);n&&"running"!==n.status?(s(e=>e.map(e=>e.id===t?Object.assign(Object.assign({},e),{status:"running",progress:0}):e)),Z.Ay.success(`Запущены тесты для ${n.name}`)):Z.Ay.warning("Тесты уже выполняются для этого рынка")})(t.id),disabled:"running"===t.status},{children:"Запустить"}),"start"),(0,n.jsx)(J.Ay,Object.assign({danger:!0,icon:(0,n.jsx)(ye.A,{}),onClick:()=>(t=>{const n=e.find(e=>e.id===t);n&&"running"===n.status?(s(e=>e.map(e=>e.id===t?Object.assign(Object.assign({},e),{status:"stopped",progress:0}):e)),Z.Ay.success(`Остановлены тесты для ${n.name}`)):Z.Ay.warning("Нет активных тестов для остановки")})(t.id),disabled:"running"!==t.status},{children:"Остановить"}),"stop")]},{children:(0,n.jsxs)(le.A,Object.assign({direction:"vertical",style:{width:"100%"}},{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(Te,Object.assign({strong:!0},{children:"Прогресс: "})),(0,n.jsx)(pe.A,{percent:t.progress,status:"error"===t.status?"exception":"normal"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(Te,Object.assign({strong:!0},{children:"Тестов: "})),(0,n.jsx)(Te,{children:t.tests})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(Te,Object.assign({strong:!0},{children:"Провалено: "})),(0,n.jsx)(Te,Object.assign({type:"danger"},{children:t.failed}))]})]}))}))}),t.id)})})),(0,n.jsxs)(ae.A,Object.assign({gutter:[16,16]},{children:[(0,n.jsx)(re.A,Object.assign({xs:24,lg:12},{children:(0,n.jsx)(L.A,Object.assign({title:"Статистика запусков",extra:(0,n.jsx)(oe.A,{})},{children:(0,n.jsx)("div",Object.assign({style:{textAlign:"center",padding:"40px 0"}},{children:(0,n.jsxs)(le.A,Object.assign({direction:"vertical",size:"large"},{children:[(0,n.jsx)(oe.A,{style:{fontSize:48,color:"#1890ff"}}),(0,n.jsxs)("div",{children:[(0,n.jsx)(Oe,Object.assign({level:4,style:{margin:0}},{children:"График запусков тестов по рынкам"})),(0,n.jsx)(Te,Object.assign({type:"secondary"},{children:"Столбчатая диаграмма с количеством запусков по рынкам"}))]})]}))}))}))})),(0,n.jsx)(re.A,Object.assign({xs:24,lg:12},{children:(0,n.jsx)(L.A,Object.assign({title:"Частота падений",extra:(0,n.jsx)(me.A,{})},{children:(0,n.jsx)("div",Object.assign({style:{textAlign:"center",padding:"40px 0"}},{children:(0,n.jsxs)(le.A,Object.assign({direction:"vertical",size:"large"},{children:[(0,n.jsx)(me.A,{style:{fontSize:48,color:"#ff4d4f"}}),(0,n.jsxs)("div",{children:[(0,n.jsx)(Oe,Object.assign({level:4,style:{margin:0}},{children:"Диаграмма частоты падений тестов"})),(0,n.jsx)(Te,Object.assign({type:"secondary"},{children:"Круговая диаграмма с частотой падений тестов"}))]})]}))}))}))}))]})),(0,n.jsx)(ae.A,Object.assign({gutter:[16,16],style:{marginTop:24}},{children:(0,n.jsx)(re.A,Object.assign({xs:24},{children:(0,n.jsx)(L.A,Object.assign({title:"Динамика тестов",extra:(0,n.jsx)(je.A,{})},{children:(0,n.jsx)("div",Object.assign({style:{textAlign:"center",padding:"40px 0"}},{children:(0,n.jsxs)(le.A,Object.assign({direction:"vertical",size:"large"},{children:[(0,n.jsx)(je.A,{style:{fontSize:48,color:"#52c41a"}}),(0,n.jsxs)("div",{children:[(0,n.jsx)(Oe,Object.assign({level:4,style:{margin:0}},{children:"График общей динамики прохождения тестов"})),(0,n.jsx)(Te,Object.assign({type:"secondary"},{children:"Линейный график с динамикой прохождения тестов"}))]})]}))}))}))}))}))]})};var we=t(8355),Ie=t(9552);const Re=[{id:"market-1",name:"AT: BK",code:"BK"},{id:"market-2",name:"AT: PB",code:"PB"},{id:"market-3",name:"AT: NYSE",code:"NYSE"},{id:"market-4",name:"AT: LSE",code:"LSE"},{id:"market-5",name:"AT: TSE",code:"TSE"},{id:"market-6",name:"AT: FWB",code:"FWB"}],ze=[{id:"run-1",marketId:"market-1",status:"completed",progress:100,totalTests:124,passedTests:122,failedTests:2,startTime:"2023-07-15T10:00:00Z",endTime:"2023-07-15T10:15:00Z"},{id:"run-2",marketId:"market-2",status:"running",progress:65,totalTests:89,passedTests:58,failedTests:1,startTime:"2023-07-15T10:30:00Z"},{id:"run-3",marketId:"market-4",status:"failed",progress:30,totalTests:56,passedTests:12,failedTests:5,startTime:"2023-07-15T09:45:00Z",endTime:"2023-07-15T10:05:00Z"}],Ce=[{id:"result-1",testRunId:"run-1",testName:"LoginTest",expected:"Success",actual:"Success",status:"passed",timestamp:"2023-07-15T10:01:00Z"},{id:"result-2",testRunId:"run-1",testName:"PortfolioTest",expected:"Success",actual:"Failed",status:"failed",errorMessage:"Timeout exceeded",timestamp:"2023-07-15T10:02:30Z"},{id:"result-3",testRunId:"run-2",testName:"OrderTest",expected:"Success",actual:"Success",status:"passed",timestamp:"2023-07-15T10:31:15Z"},{id:"result-4",testRunId:"run-2",testName:"MarginTest",expected:"Success",actual:"Running",status:"running",timestamp:"2023-07-15T10:40:30Z"}],{Title:Ee,Text:Ne}=D.A,qe=e=>{switch(e){case"passed":return{color:"success",text:"Пройден",icon:(0,n.jsx)(de.A,{})};case"failed":return{color:"error",text:"Провален",icon:(0,n.jsx)(Ie.A,{})};case"running":return{color:"processing",text:"Выполняется",icon:(0,n.jsx)(ge.A,{spin:!0})};default:return{color:"default",text:"Неизвестно",icon:null}}},Fe=()=>{const{markets:e,testResults:s,rerunTest:t}=(()=>{const e=P(),{markets:s,testRuns:t,testResults:n,loading:a,error:r}=B(e=>e.autotests);return(0,i.useEffect)(()=>{e(A(Re)),e(O(ze)),e(T(Ce))},[e]),(0,i.useEffect)(()=>{const s=localStorage.getItem("testRuns"),t=localStorage.getItem("testResults");if(s)try{const t=JSON.parse(s);e(O(t))}catch(e){console.error("Ошибка при парсинге testRuns из localStorage",e)}if(t)try{const s=JSON.parse(t);e(T(s))}catch(e){console.error("Ошибка при парсинге testResults из localStorage",e)}},[e]),(0,i.useEffect)(()=>{localStorage.setItem("testRuns",JSON.stringify(t))},[t]),(0,i.useEffect)(()=>{localStorage.setItem("testResults",JSON.stringify(n))},[n]),{markets:s,testRuns:t,testResults:n,loading:a,error:r,startTestRun:s=>{if(t.find(e=>e.marketId===s&&"running"===e.status))return;const n={id:`run-${Date.now()}`,marketId:s,status:"running",progress:0,totalTests:Math.floor(100*Math.random())+50,passedTests:0,failedTests:0,startTime:(new Date).toISOString()};e(k(n))},stopTestRun:s=>{const n=t.find(e=>e.id===s);n&&e(S(Object.assign(Object.assign({},n),{status:"stopped",endTime:(new Date).toISOString()})))},rerunTest:s=>{const t=n.find(e=>e.id===s);t&&"running"!==t.status&&(e(I(Object.assign(Object.assign({},t),{status:"running",actual:"Running"}))),setTimeout(()=>{const s=Math.random()>.3;e(I(Object.assign(Object.assign({},t),{status:s?"passed":"failed",actual:s?"Success":"Failed",errorMessage:s?void 0:"Test failed due to timeout"})))},3e3))}}})(),a=[{title:"Рынок",dataIndex:"marketId",key:"marketId",render:s=>(s=>{const t=e.find(e=>e.id===s);return t?t.name:s})(s)},{title:"Название теста",dataIndex:"testName",key:"testName"},{title:"Ожидаемый результат",dataIndex:"expected",key:"expected"},{title:"Фактический результат",dataIndex:"actual",key:"actual",render:(e,s)=>{const t=qe(s.status);return(0,n.jsxs)(le.A,{children:[t.icon,(0,n.jsx)("span",{children:e})]})}},{title:"Статус",dataIndex:"status",key:"status",render:e=>{const s=qe(e);return(0,n.jsx)(ve.A,Object.assign({color:s.color,icon:s.icon,className:"running"===e?"status-tag processing":"status-tag"},{children:s.text}))}},{title:"Время запуска",dataIndex:"timestamp",key:"timestamp",render:e=>new Date(e).toLocaleString()},{title:"Действия",key:"actions",render:(e,i)=>(0,n.jsx)(J.Ay,Object.assign({type:"primary",icon:(0,n.jsx)(be.A,{}),onClick:()=>(e=>{const n=s.find(s=>s.id===e);n&&("running"!==n.status?(t(e),Z.Ay.success(`Перезапущен тест: ${n.testName}`)):Z.Ay.warning("Тест уже выполняется"))})(i.id),disabled:"running"===i.status,size:"small"},{children:"Перезапустить"}))}];return(0,n.jsxs)("div",{children:[(0,n.jsx)(Ee,Object.assign({level:2},{children:"Результаты автотестов"})),(0,n.jsx)(L.A,{children:(0,n.jsx)(we.A,{dataSource:s,columns:a,pagination:{pageSize:10},rowKey:"id"})})]})};var Pe=t(3221),Be=t(378),Me=t(5850);const{Title:We,Text:De}=D.A,{Option:Ze}=Pe.A,Le=[{id:"at-bk",name:"AT: BK"},{id:"at-pb",name:"AT: PB"},{id:"at-nyse",name:"AT: NYSE"},{id:"at-lse",name:"AT: LSE"},{id:"at-tse",name:"AT: TSE"},{id:"at-fwb",name:"AT: FWB"}],_e=()=>{const[e]=_.A.useForm(),[s,t]=(0,i.useState)(!1),[a,r]=(0,i.useState)(null);return(0,n.jsxs)("div",{children:[(0,n.jsx)(We,Object.assign({level:2},{children:"Отправить коллбэк"})),(0,n.jsx)(L.A,{children:(0,n.jsxs)(_.A,Object.assign({form:e,name:"callback",onFinish:s=>{return n=void 0,i=void 0,c=function*(){t(!0),r(null);try{if(!s.market)throw new Error("Пожалуйста, выберите рынок");if(!s.transactionId||""===s.transactionId.trim())throw new Error("Пожалуйста, введите номер транзакции");if(yield new Promise(e=>setTimeout(e,1500)),Math.random()<.3)throw new Error("Ошибка сервера. Пожалуйста, попробуйте позже.");Z.Ay.success("Коллбэк успешно отправлен"),e.resetFields()}catch(e){const s=e instanceof Error?e.message:"Произошла неизвестная ошибка";r(s),Z.Ay.error(s)}finally{t(!1)}},new((a=void 0)||(a=Promise))(function(e,s){function t(e){try{l(c.next(e))}catch(e){s(e)}}function r(e){try{l(c.throw(e))}catch(e){s(e)}}function l(s){var n;s.done?e(s.value):(n=s.value,n instanceof a?n:new a(function(e){e(n)})).then(t,r)}l((c=c.apply(n,i||[])).next())});var n,i,a,c},onFinishFailed:()=>{Z.Ay.error("Пожалуйста, заполните все обязательные поля")},layout:"vertical"},{children:[(0,n.jsx)(_.A.Item,Object.assign({label:"Рынок",name:"market",rules:[{required:!0,message:"Пожалуйста, выберите рынок!"}]},{children:(0,n.jsx)(Pe.A,Object.assign({placeholder:"Выберите рынок",size:"large"},{children:Le.map(e=>(0,n.jsx)(Ze,Object.assign({value:e.id},{children:e.name}),e.id))}))})),(0,n.jsx)(_.A.Item,Object.assign({label:"Номер транзакции",name:"transactionId",rules:[{required:!0,message:"Пожалуйста, введите номер транзакции!"},{pattern:/^\d+$/,message:"Номер транзакции должен содержать только цифры"}]},{children:(0,n.jsx)(H.A,{placeholder:"Введите номер транзакции",size:"large"})})),a&&(0,n.jsx)("div",Object.assign({style:{background:"#fff2f0",border:"1px solid #ffccc7",padding:12,borderRadius:4,marginBottom:16}},{children:(0,n.jsxs)(le.A,{children:[(0,n.jsx)(Be.A,{style:{color:"#ff4d4f"}}),(0,n.jsx)(De,Object.assign({type:"danger"},{children:a}))]})})),(0,n.jsx)(_.A.Item,{children:(0,n.jsx)(J.Ay,Object.assign({type:"primary",htmlType:"submit",loading:s,icon:(0,n.jsx)(Me.A,{}),size:"large"},{children:"Отправить коллбэк"}))})]}))})]})};var He=t(179),Je=t(7028),Ke=t(3903),Ye=function(e,s,t,n){return new(t||(t=Promise))(function(i,a){function r(e){try{l(n.next(e))}catch(e){a(e)}}function c(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var s;e.done?i(e.value):(s=e.value,s instanceof t?s:new t(function(e){e(s)})).then(r,c)}l((n=n.apply(e,s||[])).next())})};const{Title:Ge}=D.A,$e=()=>{const{user:e}=$(),[s,t]=(0,i.useState)(!1),[a,r]=(0,i.useState)((null==e?void 0:e.avatar)||"");return(0,W.Zp)(),(0,n.jsxs)("div",{children:[(0,n.jsx)(Ge,Object.assign({level:2},{children:"Настройки аккаунта"})),(0,n.jsx)(L.A,{children:(0,n.jsxs)(le.A,Object.assign({align:"start",style:{marginBottom:24}},{children:[(0,n.jsx)(ie.A,{size:100,src:a,icon:(0,n.jsx)(K.A,{})}),(0,n.jsxs)("div",{children:[(0,n.jsx)(He.A,Object.assign({showUploadList:!1,beforeUpload:()=>!1,onChange:e=>{"done"===e.file.status?(r("https://api.dicebear.com/7.x/miniavs/svg?seed="+Math.floor(100*Math.random())),Z.Ay.success("Аватар успешно загружен")):"error"===e.file.status&&Z.Ay.error("Ошибка загрузки аватара")}},{children:(0,n.jsx)(J.Ay,Object.assign({icon:(0,n.jsx)(Je.A,{})},{children:"Изменить аватар"}))})),(0,n.jsx)("p",Object.assign({style:{marginTop:8,color:"#888"}},{children:"JPG, PNG или GIF, макс. 2MB"}))]})]}))}),(0,n.jsx)(L.A,Object.assign({title:"Информация профиля",style:{marginTop:24}},{children:(0,n.jsxs)(_.A,Object.assign({name:"profile",onFinish:e=>Ye(void 0,void 0,void 0,function*(){t(!0);try{yield new Promise(e=>setTimeout(e,1e3)),Z.Ay.success("Профиль успешно обновлен")}catch(e){Z.Ay.error("Ошибка обновления профиля")}finally{t(!1)}}),layout:"vertical",initialValues:{username:null==e?void 0:e.username,email:null==e?void 0:e.email}},{children:[(0,n.jsx)(_.A.Item,Object.assign({label:"Имя пользователя",name:"username",rules:[{required:!0,message:"Пожалуйста, введите имя пользователя!"}]},{children:(0,n.jsx)(H.A,{prefix:(0,n.jsx)(K.A,{}),size:"large"})})),(0,n.jsx)(_.A.Item,Object.assign({label:"Email",name:"email",rules:[{required:!0,message:"Пожалуйста, введите email!"},{type:"email",message:"Пожалуйста, введите корректный email!"}]},{children:(0,n.jsx)(H.A,{size:"large"})})),(0,n.jsx)(_.A.Item,{children:(0,n.jsx)(J.Ay,Object.assign({type:"primary",htmlType:"submit",loading:s,icon:(0,n.jsx)(Ke.A,{}),size:"large"},{children:"Сохранить изменения"}))})]}))})),(0,n.jsx)(L.A,Object.assign({title:"Изменение пароля",style:{marginTop:24}},{children:(0,n.jsxs)(_.A,Object.assign({name:"password",onFinish:e=>Ye(void 0,void 0,void 0,function*(){if(e.newPassword===e.confirmNewPassword){t(!0);try{yield new Promise(e=>setTimeout(e,1e3)),Z.Ay.success("Пароль успешно изменен")}catch(e){Z.Ay.error("Ошибка изменения пароля")}finally{t(!1)}}else Z.Ay.error("Пароли не совпадают")}),layout:"vertical"},{children:[(0,n.jsx)(_.A.Item,Object.assign({label:"Текущий пароль",name:"oldPassword",rules:[{required:!0,message:"Пожалуйста, введите текущий пароль!"}]},{children:(0,n.jsx)(H.A.Password,{prefix:(0,n.jsx)(Y.A,{}),size:"large"})})),(0,n.jsx)(_.A.Item,Object.assign({label:"Новый пароль",name:"newPassword",rules:[{required:!0,message:"Пожалуйста, введите новый пароль!"}]},{children:(0,n.jsx)(H.A.Password,{prefix:(0,n.jsx)(Y.A,{}),size:"large"})})),(0,n.jsx)(_.A.Item,Object.assign({label:"Подтвердите новый пароль",name:"confirmNewPassword",rules:[{required:!0,message:"Пожалуйста, подтвердите новый пароль!"}]},{children:(0,n.jsx)(H.A.Password,{prefix:(0,n.jsx)(Y.A,{}),size:"large"})})),(0,n.jsx)(_.A.Item,{children:(0,n.jsx)(J.Ay,Object.assign({type:"primary",htmlType:"submit",loading:s,icon:(0,n.jsx)(Ke.A,{}),size:"large"},{children:"Изменить пароль"}))})]}))}))]})},Qe=({children:e,allowedRoles:s})=>{const{isAuth:t,user:i}=$();return t?s&&i&&!s.includes(i.role)?(0,n.jsxs)("div",Object.assign({style:{padding:24,textAlign:"center"}},{children:[(0,n.jsx)("h2",{children:"Доступ запрещен"}),(0,n.jsx)("p",{children:"У вас нет прав для просмотра этой страницы."})]})):(0,n.jsx)(n.Fragment,{children:e}):(0,n.jsx)(W.C5,{to:"/auth",replace:!0})},Ue=()=>(0,n.jsxs)("div",Object.assign({style:{padding:24,textAlign:"center"}},{children:[(0,n.jsx)("h2",{children:"Страница не найдена"}),(0,n.jsx)("p",{children:"Запрашиваемая страница не существует."})]})),Ve=({isAuth:e})=>{const{user:s}=$();return(0,W.Ye)([{path:"/",element:e?(0,n.jsx)(W.C5,{to:"/dashboard"}):(0,n.jsx)(W.C5,{to:"/auth"})},{path:"/auth",element:e?(0,n.jsx)(W.C5,{to:"/dashboard"}):(0,n.jsx)(ne,{})},{path:"/dashboard",element:(0,n.jsx)(Qe,{children:(0,n.jsx)(fe,{})})},{path:"/autotests",element:(0,n.jsx)(Qe,Object.assign({allowedRoles:["admin"]},{children:(0,n.jsx)(Se,{})}))},{path:"/test-results",element:(0,n.jsx)(Qe,Object.assign({allowedRoles:["admin"]},{children:(0,n.jsx)(Fe,{})}))},{path:"/callback",element:(0,n.jsx)(Qe,Object.assign({allowedRoles:["admin","user"]},{children:(0,n.jsx)(_e,{})}))},{path:"/account",element:(0,n.jsx)(Qe,Object.assign({allowedRoles:["admin","user"]},{children:(0,n.jsx)($e,{})}))},{path:"*",element:(0,n.jsx)(Ue,{})}])};var Xe=t(5448),es=t(7206),ss=t(8990),ts=t(8e3),ns=t(329);const{Sider:is}=Xe.A,as=[{key:"/dashboard",icon:(0,n.jsx)(ss.A,{}),label:"Дашборд",path:"/dashboard",roles:["admin","user"]},{key:"/autotests",icon:(0,n.jsx)(ue.A,{}),label:"Автотесты",path:"/autotests",roles:["admin"]},{key:"/test-results",icon:(0,n.jsx)(oe.A,{}),label:"Результаты тестов",path:"/test-results",roles:["admin"]},{key:"/callback",icon:(0,n.jsx)(Me.A,{}),label:"Отправить коллбэк",path:"/callback",roles:["admin","user"]},{key:"/account",icon:(0,n.jsx)(K.A,{}),label:"Аккаунт",path:"/account",roles:["admin","user"]}],rs=({collapsed:e,setCollapsed:s})=>{var t;const i=(0,W.Zp)(),a=(0,W.zy)(),{user:r}=$(),c=as.filter(e=>r&&e.roles.includes(r.role)),l=c.findIndex(e=>"/account"===e.path),o=-1!==l?c[l]:null,d=c.filter(e=>"/account"!==e.path),u=(null===(t=c.find(e=>a.pathname===e.path||a.pathname.startsWith(e.path+"/")))||void 0===t?void 0:t.path)||void 0,g=()=>{o&&i(o.path)};return(0,n.jsxs)(is,Object.assign({trigger:null,collapsible:!0,collapsed:e,collapsedWidth:64,width:250,style:{display:"flex",flexDirection:"column",height:"100vh",position:"fixed",left:0,top:0,bottom:0,zIndex:100,background:"#0b1b2b",boxShadow:"2px 0 8px rgba(0,0,0,0.15)",transition:"width 0.3s ease"}},{children:[(0,n.jsxs)("div",Object.assign({style:{height:64,display:"flex",alignItems:"center",justifyContent:e?"center":"space-between",padding:"0 12px",transition:"all 0.3s ease"}},{children:[!e&&(0,n.jsx)("div",Object.assign({style:{color:"white",fontWeight:700,fontSize:18,opacity:e?0:1,transition:"opacity 0.3s ease"}},{children:"QA Payments"})),(0,n.jsx)(J.Ay,{type:"primary",onClick:()=>s(!e),"aria-label":e?"Развернуть меню":"Свернуть меню",style:{height:40,minWidth:40,padding:0,borderRadius:8,background:"#1f6f9b",borderColor:"#1f6f9b",boxShadow:"0 1px 0 rgba(0,0,0,0.12)",display:"flex",alignItems:"center",justifyContent:"center"},icon:e?(0,n.jsx)(ts.A,{style:{fontSize:16,color:"white"}}):(0,n.jsx)(ns.A,{style:{fontSize:16,color:"white"}})})]})),(0,n.jsx)("div",Object.assign({style:{flex:1,overflow:"auto",padding:"8px 8px 0 8px"}},{children:(0,n.jsx)(es.A,{theme:"dark",mode:"inline",selectedKeys:u?[u]:[],onClick:({key:e})=>{i(String(e))},items:d.map(e=>({key:e.path,icon:e.icon,label:e.label,style:{fontSize:16,fontWeight:600,paddingLeft:12}})),style:{background:"transparent",border:"none",color:"#e6f7ff",paddingTop:8,lineHeight:"40px",userSelect:"none"}})})),o&&(0,n.jsx)("div",Object.assign({style:{padding:"12px",borderTop:"1px solid rgba(255,255,255,0.04)",display:"flex",alignItems:"center",justifyContent:e?"center":"flex-start"}},{children:(0,n.jsxs)("div",Object.assign({role:"button",tabIndex:0,onClick:g,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),g())},"aria-label":"Перейти в аккаунт",style:{height:48,width:e?48:"100%",maxWidth:220,padding:e?0:"0 12px",borderRadius:8,background:u===o.path?"rgba(30,144,255,0.12)":"transparent",display:"flex",alignItems:"center",justifyContent:e?"center":"flex-start",gap:12,cursor:"pointer",transition:"all 0.3s ease",outline:"none",userSelect:"none"},onMouseEnter:s=>{e||u===o.path||(s.currentTarget.style.background="rgba(255,255,255,0.05)")},onMouseLeave:s=>{e||u===o.path||(s.currentTarget.style.background="transparent")}},{children:[(0,n.jsx)("div",Object.assign({style:{flexShrink:0,width:40,height:40,borderRadius:"50%",overflow:"hidden",border:"2px solid #1f6f9b",background:"#17364a"}},{children:(0,n.jsx)(ie.A,{src:null==r?void 0:r.avatar,icon:(0,n.jsx)(K.A,{}),size:40,style:{width:"100%",height:"100%",display:"block"},shape:"circle"})})),!e&&(0,n.jsx)("span",Object.assign({style:{color:"#e6f7ff",fontWeight:600,fontSize:16,whiteSpace:"nowrap"}},{children:o.label}))]}))}))]}))};var cs=t(2977),ls=t(2609),os=t(761),ds=t(2120),us=t(8602),gs=t(4336),ms=t(562),js=t(1972),xs=t(8589);const{Header:hs}=Xe.A,fs=()=>{const{user:e,logout:s}=$(),{isDarkTheme:t,toggleTheme:i}=M(),a=(0,W.Zp)(),r={items:[{key:"/account",icon:(0,n.jsx)(K.A,{}),label:"Профиль"},{key:"/settings",icon:(0,n.jsx)(us.A,{}),label:"Настройки"},{type:"divider"},{key:"/logout",icon:(0,n.jsx)(gs.A,{}),label:"Выйти"}],onClick:e=>{const{key:t}=e,n=String(t);"/logout"!==n?a(n):s()}};return(0,n.jsxs)(hs,Object.assign({style:{padding:"0 20px",display:"flex",alignItems:"center",justifyContent:"space-between",position:"sticky",top:0,zIndex:99,height:64,background:t?"#001529":"#ffffff",borderBottom:"1px solid rgba(0,0,0,0.06)"}},{children:[(0,n.jsxs)("div",Object.assign({style:{display:"flex",alignItems:"center",gap:16}},{children:[(0,n.jsx)("div",Object.assign({style:{width:40,height:40,borderRadius:8,background:"#d915f3ff",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700}},{children:"QA"})),(0,n.jsx)("div",Object.assign({style:{display:"flex",flexDirection:"column",lineHeight:1}},{children:(0,n.jsx)("div",Object.assign({style:{fontWeight:600,fontSize:28}},{children:"Autotest"}))}))]})),(0,n.jsxs)("div",Object.assign({style:{display:"flex",alignItems:"center",gap:12}},{children:[(0,n.jsx)(cs.A,Object.assign({title:"Уведомления"},{children:(0,n.jsx)(J.Ay,{type:"text",icon:(0,n.jsx)(ms.A,{})})})),(0,n.jsx)(ls.A,{checked:t,onChange:i,checkedChildren:(0,n.jsx)(js.A,{}),unCheckedChildren:(0,n.jsx)(xs.A,{})}),(0,n.jsx)(os.A,Object.assign({menu:r,trigger:["click"]},{children:(0,n.jsx)(ds.A,Object.assign({dot:!1},{children:(0,n.jsxs)(le.A,Object.assign({style:{cursor:"pointer",alignItems:"center"}},{children:[(0,n.jsx)(ie.A,{src:null==e?void 0:e.avatar,icon:(0,n.jsx)(K.A,{})}),(0,n.jsxs)("div",Object.assign({style:{display:"flex",flexDirection:"column",alignItems:"flex-start"}},{children:[(0,n.jsx)("div",Object.assign({style:{fontWeight:600}},{children:(null==e?void 0:e.username)||"Гость"})),(0,n.jsx)("div",Object.assign({style:{fontSize:12,color:"rgba(0,0,0,0.45)"}},{children:(null==e?void 0:e.role)||""}))]}))]}))}))}))]}))]}))},{Content:vs}=Xe.A,ps=({children:e})=>{const[s,t]=(0,i.useState)(!1);return(0,n.jsxs)(Xe.A,Object.assign({style:{minHeight:"100vh"}},{children:[(0,n.jsx)(rs,{collapsed:s,setCollapsed:t}),(0,n.jsxs)(Xe.A,Object.assign({className:s?"collapsed":"",style:{marginLeft:s?80:250,transition:"margin-left 0.2s"}},{children:[(0,n.jsx)(fs,{}),(0,n.jsx)(vs,Object.assign({style:{margin:"24px 16px 0",overflow:"initial",paddingTop:24}},{children:(0,n.jsx)("div",Object.assign({className:"main-content"},{children:e}))}))]}))]}))};a.createRoot(document.getElementById("root")).render((0,n.jsx)(i.StrictMode,{children:(0,n.jsx)(r.Kq,Object.assign({store:E},{children:(0,n.jsx)(()=>{const{isDarkTheme:e}=M(),{isAuth:s}=$();return(0,n.jsx)(q.Ay,Object.assign({theme:{algorithm:e?F.A.darkAlgorithm:F.A.defaultAlgorithm}},{children:(0,n.jsx)(N.Kd,{children:s?(0,n.jsx)(ps,{children:(0,n.jsx)(Ve,{isAuth:s})}):(0,n.jsx)(Ve,{isAuth:s})})}))},{})}))}))}},e=>{e.O(0,[688],()=>e(e.s=1482)),e.O()}]);
//# sourceMappingURL=main.594cd9f6.js.map